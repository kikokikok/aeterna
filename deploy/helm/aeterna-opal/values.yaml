namespace: aeterna

opalServer:
  enabled: true
  replicaCount: 3
  image:
    repository: permitio/opal-server
    tag: "0.7.5"
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  logLevel: INFO
  statisticsEnabled: true
  podAntiAffinity:
    enabled: true
    topologyKey: topology.kubernetes.io/zone
  pdb:
    enabled: true
    minAvailable: 2

cedarAgent:
  enabled: true
  image:
    repository: permitio/opal-client-cedar
    tag: "0.7.5"
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
  logLevel: INFO
  tolerations:
    - key: node-role.kubernetes.io/control-plane
      operator: Exists
      effect: NoSchedule

opalFetcher:
  enabled: true
  replicaCount: 2
  image:
    repository: aeterna/opal-fetcher
    tag: "latest"
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi
  logLevel: "info,opal_fetcher=debug"

secrets:
  masterToken: ""
  clientToken: ""
  broadcastUri: ""
  databaseUrl: ""

postgresql:
  enabled: false
  auth:
    postgresPassword: ""
    database: aeterna
  primary:
    persistence:
      enabled: true
      size: 10Gi

externalPostgresql:
  host: ""
  port: 5432
  database: aeterna
  username: postgres
  existingSecret: ""
  existingSecretKey: password

serviceMonitor:
  enabled: false
  interval: 30s
  scrapeTimeout: 10s

networkPolicy:
  enabled: false
