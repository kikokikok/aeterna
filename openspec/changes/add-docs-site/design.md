## Context

Aeterna has 88 documentation files spanning `docs/`, `charts/aeterna/docs/`, `specs/`, `openspec/specs/`, and several README files across sub-crates. There is no existing doc site tooling — no `mkdocs.yml`, `docusaurus.config.js`, or `book.toml`. The project is greenfield for documentation infrastructure.

The existing markdown files are well-written and comprehensive (~100k words total) but scattered. The goal is a single navigable site with consistent structure.

## Goals / Non-Goals

**Goals:**
- Scaffold Docusaurus v3 under `website/` with the classic preset
- Wire all 88 existing docs into a unified, structured navigation
- Configure Mermaid support for architecture diagrams already in the codebase
- Ship a GitHub Actions workflow for automated GitHub Pages deployment
- Use `@docusaurus/preset-classic` with `prism-react-renderer` for code highlighting
- Custom landing page (index page) that introduces the product

**Non-Goals:**
- Auto-generating API reference from OpenAPI specs (no OpenAPI spec exists yet)
- `docusaurus-plugin-openapi-docs` integration (deferred — no spec file to render)
- `cargo doc` / `rustdoc` hosting (out of scope — use docs.rs)
- Docusaurus versioning (`docusaurus docs:version`) — single version for now
- Algolia DocSearch integration (needs a live domain first)

## Decisions

**Decision: Docusaurus v3 over MkDocs Material**
- MkDocs Material entered maintenance mode in November 2025 (v9.7.0 final, migrating to Zensical)
- Docusaurus v3 is actively maintained by Meta, v3.9 released September 2025
- Native versioning and MDX components are better long-term investments for an enterprise product
- Alternatives considered: mdBook (no versioning, no OpenAPI), Nextra (no versioning), MkDocs (maintenance mode)

**Decision: `website/` as the root directory**
- Keeps the Docusaurus Node.js project isolated from the Rust workspace
- `website/` is the Docusaurus convention for monorepo setups
- `.gitignore` additions: `website/node_modules/`, `website/build/`

**Decision: Symlink existing docs into `website/docs/`**
- Avoids duplicating 88 files
- Symlinks: `website/docs/guides → ../../docs/guides`, `website/docs/helm → ../../charts/aeterna/docs`, etc.
- Docusaurus follows symlinks by default in its file scanner
- Alternative considered: copy files on build — rejected (would create sync drift)

**Decision: Custom landing page (`website/src/pages/index.tsx`)**
- The root `README.md` is too developer-focused for a docs landing page
- A custom React page lets us highlight the product value prop cleanly
- Keeps `README.md` as the GitHub repo landing page (unchanged)

**Decision: GitHub Actions with `peaceiris/actions-gh-pages`**
- Standard pattern for Docusaurus GitHub Pages deployments
- Deploys to `gh-pages` branch automatically on push to `main`
- Build artifact uploaded via `actions/upload-artifact`, deployed in separate job for security

## Risks / Trade-offs

- **Symlink resolution on Windows** → Risk: symlinks may not resolve correctly on Windows CI runners. Mitigation: GitHub Actions uses `ubuntu-latest` which handles symlinks correctly.
- **Node.js version in CI** → Risk: Docusaurus v3 requires Node.js 18+. Mitigation: pin `node-version: '20'` in the workflow.
- **Large number of nav items** → Risk: complex `sidebars.js` becoming hard to maintain. Mitigation: use autogenerated sidebars with `_category_.json` files for each section, only override top-level ordering manually.
- **Helm template YAML LSP false positives** → Pre-existing issue with Helm Go-template syntax — unrelated to this change.

## Migration Plan

1. Scaffold `website/` with `npx create-docusaurus@latest website classic --typescript`
2. Configure `docusaurus.config.ts` with site metadata, navbar, footer, Mermaid
3. Create symlinks from `website/docs/` to existing doc trees
4. Add `_category_.json` ordering files for each section
5. Build custom landing page at `website/src/pages/index.tsx`
6. Add `.github/workflows/deploy-docs.yml`
7. Verify `npm run build` exits 0
8. Add `website/node_modules/` and `website/build/` to `.gitignore`

No rollback needed — this is purely additive. The `website/` directory can be deleted without affecting any Rust code.
