<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-comprehensive-ux-dx-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Aeterna: Comprehensive UX/DX Guide | Aeterna</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kikokikok.github.io/aeterna/docs/comprehensive-ux-dx-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Aeterna: Comprehensive UX/DX Guide | Aeterna"><meta data-rh="true" name="description" content="Complete Feature Walkthrough with User Personae, Flows, and Real-World Examples"><meta data-rh="true" property="og:description" content="Complete Feature Walkthrough with User Personae, Flows, and Real-World Examples"><link data-rh="true" rel="icon" href="/aeterna/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kikokikok.github.io/aeterna/docs/comprehensive-ux-dx-guide"><link data-rh="true" rel="alternate" href="https://kikokikok.github.io/aeterna/docs/comprehensive-ux-dx-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://kikokikok.github.io/aeterna/docs/comprehensive-ux-dx-guide" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Aeterna: Comprehensive UX/DX Guide","item":"https://kikokikok.github.io/aeterna/docs/comprehensive-ux-dx-guide"}]}</script><link rel="stylesheet" href="/aeterna/assets/css/styles.9ec36079.css">
<script src="/aeterna/assets/js/runtime~main.7b7cf05c.js" defer="defer"></script>
<script src="/aeterna/assets/js/main.2421dfb6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aeterna/"><b class="navbar__title text--truncate">Aeterna</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aeterna/docs/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/kikokikok/aeterna" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aeterna/docs/"><span title="Introduction to Aeterna" class="linkLabel_WmDU">Introduction to Aeterna</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aeterna/docs/helm/quickstart-local"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/helm/quickstart-local"><span title="Local Mode Quick Start" class="linkLabel_WmDU">Local Mode Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/helm/quickstart-hybrid"><span title="Hybrid Mode Deployment Guide" class="linkLabel_WmDU">Hybrid Mode Deployment Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/helm/quickstart-remote"><span title="Remote Mode Deployment Guide" class="linkLabel_WmDU">Remote Mode Deployment Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/guides/cli-quick-reference"><span title="Aeterna CLI Quick Reference" class="linkLabel_WmDU">Aeterna CLI Quick Reference</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/aeterna/docs/specs/overview"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/specs/overview"><span title="Memory-Knowledge System Specification" class="linkLabel_WmDU">Memory-Knowledge System Specification</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/specs/core-concepts"><span title="Core Concepts and Terminology" class="linkLabel_WmDU">Core Concepts and Terminology</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/architecture-overview"><span title="Architecture: Memory-Knowledge System" class="linkLabel_WmDU">Architecture: Memory-Knowledge System</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/sequence-diagrams"><span title="Aeterna: Complete Sequence Diagrams" class="linkLabel_WmDU">Aeterna: Complete Sequence Diagrams</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aeterna/docs/comprehensive-ux-dx-guide"><span title="Aeterna: Comprehensive UX/DX Guide" class="linkLabel_WmDU">Aeterna: Comprehensive UX/DX Guide</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/memory-system"><span title="Memory System" class="categoryLinkLabel_W154">Memory System</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/knowledge-repository"><span title="Knowledge Repository" class="categoryLinkLabel_W154">Knowledge Repository</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/governance/policy-model"><span title="Governance" class="categoryLinkLabel_W154">Governance</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/cca/overview"><span title="CCA — Confucius Code Agent" class="categoryLinkLabel_W154">CCA — Confucius Code Agent</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/integrations/mcp-server"><span title="Integrations" class="categoryLinkLabel_W154">Integrations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/security/rbac-matrix"><span title="Security" class="categoryLinkLabel_W154">Security</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/helm/architecture"><span title="Helm Deployment" class="categoryLinkLabel_W154">Helm Deployment</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/guides/ha-deployment"><span title="Operations" class="categoryLinkLabel_W154">Operations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/examples/strangler-fig-migration"><span title="Examples" class="categoryLinkLabel_W154">Examples</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/tool-interface"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aeterna/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Aeterna: Comprehensive UX/DX Guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Aeterna: Comprehensive UX/DX Guide</h1></header>
<p><strong>Complete Feature Walkthrough with User Personae, Flows, and Real-World Examples</strong></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents" translate="no">​</a></h2>
<ol>
<li class=""><a href="#introduction" class="">Introduction</a></li>
<li class=""><a href="#user-personae" class="">User Personae</a></li>
<li class=""><a href="#developer-experience-dx" class="">Developer Experience (DX)</a></li>
<li class=""><a href="#user-experience-ux" class="">User Experience (UX)</a></li>
<li class=""><a href="#complete-feature-catalog" class="">Complete Feature Catalog</a></li>
<li class=""><a href="#interaction-flows" class="">Interaction Flows</a></li>
<li class=""><a href="#real-world-examples" class="">Real-World Examples</a></li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" translate="no">​</a></h2>
<p>Aeterna is the <strong>Universal Memory &amp; Knowledge Framework for Enterprise AI Agent Systems</strong>. This guide demonstrates every capability through the eyes of different user roles, with complete interaction flows and real-world scenarios.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-overview">Quick Overview<a href="#quick-overview" class="hash-link" aria-label="Direct link to Quick Overview" title="Direct link to Quick Overview" translate="no">​</a></h3>













































<table><thead><tr><th>Capability</th><th>What It Does</th><th>Who Uses It</th></tr></thead><tbody><tr><td><strong>7-Layer Memory</strong></td><td>Hierarchical memory from microseconds to years</td><td>AI Agents, Developers</td></tr><tr><td><strong>Knowledge Repository</strong></td><td>Git-versioned organizational knowledge (ADRs, policies, patterns)</td><td>Teams, Architects, Compliance</td></tr><tr><td><strong>Sync Bridge</strong></td><td>Bidirectional memory-knowledge synchronization</td><td>System (automatic)</td></tr><tr><td><strong>MCP Tools</strong></td><td>Framework-agnostic tool interface</td><td>AI Agents (via frameworks)</td></tr><tr><td><strong>Governance Engine</strong></td><td>Policy enforcement, drift detection, RBAC</td><td>Platform Teams, Managers</td></tr><tr><td><strong>A2A Protocol</strong></td><td>Agent-to-agent knowledge sharing</td><td>Multi-agent systems</td></tr><tr><td><strong>CCA Capabilities</strong></td><td>Self-improving agents with context compression</td><td>Advanced AI deployments</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="user-personae">User Personae<a href="#user-personae" class="hash-link" aria-label="Direct link to User Personae" title="Direct link to User Personae" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="persona-1-alex---senior-software-engineer">Persona 1: <strong>Alex - Senior Software Engineer</strong><a href="#persona-1-alex---senior-software-engineer" class="hash-link" aria-label="Direct link to persona-1-alex---senior-software-engineer" title="Direct link to persona-1-alex---senior-software-engineer" translate="no">​</a></h3>
<p><strong>Profile:</strong></p>
<ul>
<li class="">8 years experience, leads API team</li>
<li class="">Uses GitHub Copilot + OpenCode daily</li>
<li class="">Works on microservices migration</li>
<li class="">Values: Code quality, consistency, documentation</li>
</ul>
<p><strong>Needs:</strong></p>
<ul>
<li class="">AI assistant that remembers team conventions</li>
<li class="">Quick access to architectural decisions</li>
<li class="">Policy enforcement (prevent bad patterns)</li>
<li class="">Cross-session memory for long tasks</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="persona-2-sam---platform-architect">Persona 2: <strong>Sam - Platform Architect</strong><a href="#persona-2-sam---platform-architect" class="hash-link" aria-label="Direct link to persona-2-sam---platform-architect" title="Direct link to persona-2-sam---platform-architect" translate="no">​</a></h3>
<p><strong>Profile:</strong></p>
<ul>
<li class="">15 years experience, defines standards</li>
<li class="">Manages 300-engineer organization</li>
<li class="">Responsible for migration strategy</li>
<li class="">Values: Governance, traceability, alignment</li>
</ul>
<p><strong>Needs:</strong></p>
<ul>
<li class="">Central knowledge repository for ADRs</li>
<li class="">Policy enforcement across all teams</li>
<li class="">Drift detection (who&#x27;s not following standards)</li>
<li class="">Audit trails for compliance</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="persona-3-taylor---devops-engineer">Persona 3: <strong>Taylor - DevOps Engineer</strong><a href="#persona-3-taylor---devops-engineer" class="hash-link" aria-label="Direct link to persona-3-taylor---devops-engineer" title="Direct link to persona-3-taylor---devops-engineer" translate="no">​</a></h3>
<p><strong>Profile:</strong></p>
<ul>
<li class="">5 years experience, deploys infrastructure</li>
<li class="">Manages Kubernetes clusters</li>
<li class="">On-call rotation</li>
<li class="">Values: Reliability, observability, automation</li>
</ul>
<p><strong>Needs:</strong></p>
<ul>
<li class="">AI assistant that remembers incident resolutions</li>
<li class="">Quick access to runbooks and procedures</li>
<li class="">Automated policy checks in CI/CD</li>
<li class="">Historical context for debugging</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="persona-4-jordan---product-manager">Persona 4: <strong>Jordan - Product Manager</strong><a href="#persona-4-jordan---product-manager" class="hash-link" aria-label="Direct link to persona-4-jordan---product-manager" title="Direct link to persona-4-jordan---product-manager" translate="no">​</a></h3>
<p><strong>Profile:</strong></p>
<ul>
<li class="">Non-technical, manages feature roadmap</li>
<li class="">Works with multiple engineering teams</li>
<li class="">Needs visibility into AI usage</li>
<li class="">Values: Transparency, alignment, outcomes</li>
</ul>
<p><strong>Needs:</strong></p>
<ul>
<li class="">Understand AI decision rationale</li>
<li class="">Visibility into policy violations</li>
<li class="">Track organizational learning</li>
<li class="">Ensure compliance with regulations</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="persona-5-casey---junior-developer">Persona 5: <strong>Casey - Junior Developer</strong><a href="#persona-5-casey---junior-developer" class="hash-link" aria-label="Direct link to persona-5-casey---junior-developer" title="Direct link to persona-5-casey---junior-developer" translate="no">​</a></h3>
<p><strong>Profile:</strong></p>
<ul>
<li class="">1 year experience, onboarding to team</li>
<li class="">Learning codebase and conventions</li>
<li class="">Uses AI assistant extensively</li>
<li class="">Values: Learning, guidance, feedback</li>
</ul>
<p><strong>Needs:</strong></p>
<ul>
<li class="">AI assistant that teaches team patterns</li>
<li class="">Access to organizational knowledge</li>
<li class="">Clear feedback when violating policies</li>
<li class="">Examples and best practices</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="developer-experience-dx">Developer Experience (DX)<a href="#developer-experience-dx" class="hash-link" aria-label="Direct link to Developer Experience (DX)" title="Direct link to Developer Experience (DX)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx1-setup--installation">DX1: Setup &amp; Installation<a href="#dx1-setup--installation" class="hash-link" aria-label="Direct link to DX1: Setup &amp; Installation" title="Direct link to DX1: Setup &amp; Installation" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="local-development-setup">Local Development Setup<a href="#local-development-setup" class="hash-link" aria-label="Direct link to Local Development Setup" title="Direct link to Local Development Setup" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Clone repository</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kikokikok/aeterna.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> aeterna</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install dependencies (Rust 1.70+)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cargo</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">--workspace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Start development environment (Docker Compose)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Starts: PostgreSQL, Redis, Qdrant</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize Aeterna</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cargo</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> cli -- init </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --postgres-url postgresql://localhost:5432/aeterna </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --redis-url redis://localhost:6379 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --qdrant-url http://localhost:6333</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Verify setup</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cargo</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> cli -- status</span><br></span></code></pre></div></div>
<p><strong>Output:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✓ PostgreSQL connected (v16.2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Redis connected (v7.2.4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Qdrant connected (v1.12.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Memory system initialized (8 layers)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Knowledge repository cloned</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ MCP server listening on :3000</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="production-kubernetes-deployment">Production Kubernetes Deployment<a href="#production-kubernetes-deployment" class="hash-link" aria-label="Direct link to Production Kubernetes Deployment" title="Direct link to Production Kubernetes Deployment" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Add Helm repository</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> aeterna https://charts.aeterna.dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install with custom values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> aeterna aeterna/aeterna </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--namespace</span><span class="token plain"> aeterna-system </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --create-namespace </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--values</span><span class="token plain"> custom-values.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> aeterna-system</span><br></span></code></pre></div></div>
<p><strong>custom-values.yaml:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;qdrant&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">qdrant</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://qdrant:6333&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">collection</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aeterna-prod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">redis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;redis://redis-cluster:6379&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cluster_mode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">knowledge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">repository</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://github.com/company/knowledge.git&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;main&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">sync_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">governance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;remote&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># local | hybrid | remote</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">permit_io</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">api_key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{PERMIT_API_KEY}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">pdp_url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://cloudpdp.permit.io&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">observability</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tracing</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">otlp_endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://jaeger:4317&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">prometheus_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9090</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx2-configuration-management">DX2: Configuration Management<a href="#dx2-configuration-management" class="hash-link" aria-label="Direct link to DX2: Configuration Management" title="Direct link to DX2: Configuration Management" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-file-structure">Configuration File Structure<a href="#configuration-file-structure" class="hash-link" aria-label="Direct link to Configuration File Structure" title="Direct link to Configuration File Structure" translate="no">​</a></h4>
<p><strong><code>config/aeterna.toml</code>:</strong></p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">server</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">host</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">workers</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">memory</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">default_backend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;qdrant&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">embedding_model</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text-embedding-3-small&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">embedding_provider</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;openai&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">memory.layers.working</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">backend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;redis&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">ttl_seconds</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">max_entries</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">memory.layers.session</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">backend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;redis&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">ttl_seconds</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3600</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">max_entries</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">memory.layers.episodic</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">backend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;postgres&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">retention_days</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">memory.layers.semantic</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">backend</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;qdrant&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">collection</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;semantic-memories&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">retention_days</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">365</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">knowledge</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">repository_path</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./knowledge-repo&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">git_sync_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">constraint_enforcement</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;blocking&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># blocking | warning | audit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">governance</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">mode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;local&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># local | hybrid | remote</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">drift_detection_enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">policy_cache_ttl</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">governance.rbac</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">roles</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;admin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;architect&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;developer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;viewer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;guest&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">default_role</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;developer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">integrations.opencode</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">plugin_path</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./adapters/opencode&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">integrations.radkit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">enabled</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">a2a_port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3001</span><br></span></code></pre></div></div>
<p><strong>Environment Variable Override:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_POSTGRES_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">postgresql://prod:5432/aeterna</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_REDIS_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">redis://prod:6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_OPENAI_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sk-</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_PERMIT_API_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">permit_</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx3-cli-interface">DX3: CLI Interface<a href="#dx3-cli-interface" class="hash-link" aria-label="Direct link to DX3: CLI Interface" title="Direct link to DX3: CLI Interface" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-operations">Memory Operations<a href="#memory-operations" class="hash-link" aria-label="Direct link to Memory Operations" title="Direct link to Memory Operations" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Add memory entry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--content</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Use gRPC for internal service communication&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> team </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--tags</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;architecture,grpc,microservices&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--confidence</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.95</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Search memories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory search </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--query</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;How do we communicate between services?&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--layers</span><span class="token plain"> team,org </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--limit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [1] Use gRPC for internal service communication</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Layer: team | Confidence: 0.95 | Tags: architecture,grpc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Reason: Internal services need type safety and performance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [2] REST for public APIs, gRPC for internal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Layer: org | Confidence: 0.88 | Tags: architecture</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Delete memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory delete </span><span class="token parameter variable" style="color:#36acaa">--id</span><span class="token plain"> mem_abc123</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="knowledge-operations">Knowledge Operations<a href="#knowledge-operations" class="hash-link" aria-label="Direct link to Knowledge Operations" title="Direct link to Knowledge Operations" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Query organizational knowledge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge query </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--query</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;What are our database standards?&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --doc-types policy,spec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check if content violates policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge check </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--content</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;We should use MongoDB for this feature&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --doc-type policy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ❌ POLICY VIOLATION</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Policy: Database Standards (policy/db-standards.md)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Constraint: MUST_USE postgresql FOR persistence</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Severity: BLOCKING</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Reason: MongoDB not in approved database list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show full knowledge document</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge show </span><span class="token parameter variable" style="color:#36acaa">--id</span><span class="token plain"> policy/db-standards</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="policy-management">Policy Management<a href="#policy-management" class="hash-link" aria-label="Direct link to Policy Management" title="Direct link to Policy Management" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># List active policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add new policy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> ./policies/security-baseline.yaml </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--approver</span><span class="token plain"> sam@company.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Validate policy syntax</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy validate </span><span class="token parameter variable" style="color:#36acaa">--file</span><span class="token plain"> ./policies/new-policy.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Rollback to previous policy version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy rollback </span><span class="token parameter variable" style="color:#36acaa">--id</span><span class="token plain"> policy/security </span><span class="token parameter variable" style="color:#36acaa">--version</span><span class="token plain"> v2.1.0</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="governance-commands">Governance Commands<a href="#governance-commands" class="hash-link" aria-label="Direct link to Governance Commands" title="Direct link to Governance Commands" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Check governance unit performance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna governance unit --check-performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Validate Cedar policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna governance policy </span><span class="token parameter variable" style="color:#36acaa">--validate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Test RBAC rules</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna governance rbac </span><span class="token parameter variable" style="color:#36acaa">--test</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--user</span><span class="token plain"> alex@company.com </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--action</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;knowledge:write&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--resource</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;team:api&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✓ ALLOWED</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Role: developer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Policy: team-write-policy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Reason: User is member of team:api with write permissions</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sync-operations">Sync Operations<a href="#sync-operations" class="hash-link" aria-label="Direct link to Sync Operations" title="Direct link to Sync Operations" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Check sync status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Memory → Knowledge: 12 pending deltas</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Knowledge → Memory: 3 new policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Last sync: 5 minutes ago</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Next sync: in 55 seconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Trigger manual sync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"> now </span><span class="token parameter variable" style="color:#36acaa">--direction</span><span class="token plain"> bidirectional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show sync diff (what changed)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">diff</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--since</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1 hour ago&quot;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx4-mcp-tool-integration">DX4: MCP Tool Integration<a href="#dx4-mcp-tool-integration" class="hash-link" aria-label="Direct link to DX4: MCP Tool Integration" title="Direct link to DX4: MCP Tool Integration" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-with-opencode">Using with OpenCode<a href="#using-with-opencode" class="hash-link" aria-label="Direct link to Using with OpenCode" title="Direct link to Using with OpenCode" translate="no">​</a></h4>
<p><strong><code>.opencode/config.yaml</code>:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">mcp_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">aeterna</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:3000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tools</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> memory_add</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> memory_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> memory_delete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> knowledge_query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> knowledge_check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> governance_validate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sync_now</span><br></span></code></pre></div></div>
<p><strong>Agent Interaction:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User: &quot;Remember that we prefer PostgreSQL for persistence&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent: [Calls memory_add]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;content&quot;: &quot;Team prefers PostgreSQL for persistence layer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;layer&quot;: &quot;team&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;tags&quot;: [&quot;database&quot;, &quot;postgresql&quot;, &quot;preference&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;confidence&quot;: 0.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response: ✓ Memory stored (layer: team, id: mem_xyz789)</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-with-langchain">Using with LangChain<a href="#using-with-langchain" class="hash-link" aria-label="Direct link to Using with LangChain" title="Direct link to Using with LangChain" translate="no">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">agents </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> initialize_agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> aeterna_adapter </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> AeternaMCPTools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize Aeterna tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna_tools </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> AeternaMCPTools</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    base_url</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;http://localhost:3000&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;aeterna_...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create agent with Aeterna tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">agent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> initialize_agent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tools</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">aeterna_tools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    llm</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">llm</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agent</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;zero-shot-react-description&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    verbose</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Agent now has memory/knowledge capabilities</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;What are our security policies for API authentication?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx5-api-integration">DX5: API Integration<a href="#dx5-api-integration" class="hash-link" aria-label="Direct link to DX5: API Integration" title="Direct link to DX5: API Integration" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="rest-api-endpoints">REST API Endpoints<a href="#rest-api-endpoints" class="hash-link" aria-label="Direct link to REST API Endpoints" title="Direct link to REST API Endpoints" translate="no">​</a></h4>
<p><strong>Base URL:</strong> <code>http://localhost:3000</code></p>
<p><strong>Memory API:</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /api/v1/memory/add</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization: Bearer aeterna_...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;content&quot;: &quot;Always use TypeScript for frontend code&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;layer&quot;: &quot;team&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;tags&quot;: [&quot;typescript&quot;, &quot;frontend&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source&quot;: &quot;team-meeting&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;author&quot;: &quot;alex@company.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response 201:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;mem_abc123&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;layer&quot;: &quot;team&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;created_at&quot;: &quot;2026-02-01T14:30:00Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /api/v1/memory/search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: &quot;frontend technology choices&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;layers&quot;: [&quot;team&quot;, &quot;org&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;limit&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;filters&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;tags&quot;: [&quot;frontend&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response 200:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;results&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;mem_abc123&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;content&quot;: &quot;Always use TypeScript for frontend code&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;layer&quot;: &quot;team&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;confidence&quot;: 0.92,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;tags&quot;: [&quot;typescript&quot;, &quot;frontend&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;created_at&quot;: &quot;2026-02-01T14:30:00Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;total&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Knowledge API:</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /api/v1/knowledge/query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: &quot;authentication standards&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;doc_types&quot;: [&quot;policy&quot;, &quot;spec&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;limit&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response 200:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;results&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;policy/auth-standards&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;title&quot;: &quot;Authentication Standards&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;: &quot;policy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;summary&quot;: &quot;OAuth2 + JWT for all APIs&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;relevance&quot;: 0.95</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Governance API:</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /api/v1/governance/validate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;content&quot;: &quot;We&#x27;ll use MySQL for this service&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;context&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;team&quot;: &quot;api&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;project&quot;: &quot;user-service&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response 200:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;valid&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;violations&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;policy_id&quot;: &quot;policy/db-standards&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;constraint&quot;: &quot;MUST_USE postgresql FOR persistence&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;severity&quot;: &quot;BLOCKING&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;message&quot;: &quot;MySQL not in approved database list&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx6-testing-infrastructure">DX6: Testing Infrastructure<a href="#dx6-testing-infrastructure" class="hash-link" aria-label="Direct link to DX6: Testing Infrastructure" title="Direct link to DX6: Testing Infrastructure" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="unit-tests">Unit Tests<a href="#unit-tests" class="hash-link" aria-label="Direct link to Unit Tests" title="Direct link to Unit Tests" translate="no">​</a></h4>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// memory/src/manager.rs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#[cfg(test)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">mod</span><span class="token plain"> </span><span class="token module-declaration namespace" style="opacity:0.7">tests</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">testing</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">fixtures</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#00a4db">#[tokio::test]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">test_memory_add_and_search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Arrange</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> manager </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">create_test_memory_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Act</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> memory_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> manager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">MemoryEntry</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test memory&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">to_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            layer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">MemoryLayer</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Session</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">vec!</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">to_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">..</span><span class="token class-name">Default</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">unwrap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> manager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">SearchQuery</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            query</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test memory&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">to_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            layers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">vec!</span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">MemoryLayer</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Session</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">unwrap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Assert</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token macro property" style="color:#36acaa">assert_eq!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token macro property" style="color:#36acaa">assert_eq!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> memory_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-tests">Integration Tests<a href="#integration-tests" class="hash-link" aria-label="Direct link to Integration Tests" title="Direct link to Integration Tests" translate="no">​</a></h4>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// tests/governance_integration.rs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">testcontainers</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">aeterna</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token punctuation" style="color:#393A34">{</span><span class="token class-name">Knowledge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Governance</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#[tokio::test]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">test_policy_enforcement_flow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Start test containers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> postgres </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">PostgresContainer</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> redis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">RedisContainer</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Initialize components</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> knowledge </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Knowledge</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">postgres</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> governance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Governance</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Add policy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    knowledge</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add_policy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">PolicyDocument</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-policy&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">to_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        constraints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">vec!</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">Constraint</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">MustUse</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                technology</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;postgresql&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">to_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;persistence&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">to_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">unwrap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Test violation detection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> governance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;Let&#x27;s use MongoDB&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Context</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">unwrap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">assert!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">valid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">assert_eq!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">violations</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dx7-debugging--observability">DX7: Debugging &amp; Observability<a href="#dx7-debugging--observability" class="hash-link" aria-label="Direct link to DX7: Debugging &amp; Observability" title="Direct link to DX7: Debugging &amp; Observability" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="structured-logging">Structured Logging<a href="#structured-logging" class="hash-link" aria-label="Direct link to Structured Logging" title="Direct link to Structured Logging" translate="no">​</a></h4>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">tracing</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> warn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#[tracing::instrument(skip(manager))]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">add_memory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">manager</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token class-name">MemoryManager</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">info!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        content_length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> content</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;Adding memory entry&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">match</span><span class="token plain"> manager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Ok</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">info!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memory_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Memory added successfully&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">error!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Failed to add memory&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="distributed-tracing">Distributed Tracing<a href="#distributed-tracing" class="hash-link" aria-label="Direct link to Distributed Tracing" title="Direct link to Distributed Tracing" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># View traces in Jaeger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> http://localhost:16686</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Trace spans:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - memory.add (5ms)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   - embedding.generate (120ms)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   - vector.store (15ms)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   - cache.invalidate (2ms)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="prometheus-metrics">Prometheus Metrics<a href="#prometheus-metrics" class="hash-link" aria-label="Direct link to Prometheus Metrics" title="Direct link to Prometheus Metrics" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Scrape endpoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://localhost:9090/metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Key metrics:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># aeterna_memory_operations_total{layer=&quot;team&quot;,operation=&quot;add&quot;} 1523</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># aeterna_memory_search_latency_seconds{layer=&quot;semantic&quot;,quantile=&quot;0.95&quot;} 0.145</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># aeterna_knowledge_policy_violations_total{severity=&quot;blocking&quot;} 42</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># aeterna_sync_deltas_pending 7</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="user-experience-ux">User Experience (UX)<a href="#user-experience-ux" class="hash-link" aria-label="Direct link to User Experience (UX)" title="Direct link to User Experience (UX)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ux1-ai-agent-memory-learning">UX1: AI Agent Memory Learning<a href="#ux1-ai-agent-memory-learning" class="hash-link" aria-label="Direct link to UX1: AI Agent Memory Learning" title="Direct link to UX1: AI Agent Memory Learning" translate="no">​</a></h3>
<p><strong>Scenario:</strong> Alex (Senior Engineer) teaches the AI assistant team preferences</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="session-1-initial-interaction">Session 1: Initial Interaction<a href="#session-1-initial-interaction" class="hash-link" aria-label="Direct link to Session 1: Initial Interaction" title="Direct link to Session 1: Initial Interaction" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;We prefer gRPC for internal service communication. It gives us type </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      safety and better performance than REST.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Internally calls memory_add]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ✓ I&#x27;ll remember that your team prefers gRPC for internal services.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [Stored in: team layer, confidence: 0.9]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;Also, we always use PostgreSQL for persistence. MongoDB is not allowed.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: ✓ Noted. PostgreSQL is the standard for persistence.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [Stored in: team layer, linked to db-standards policy]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="session-2-two-weeks-later-new-chat">Session 2: Two Weeks Later (New Chat)<a href="#session-2-two-weeks-later-new-chat" class="hash-link" aria-label="Direct link to Session 2: Two Weeks Later (New Chat)" title="Direct link to Session 2: Two Weeks Later (New Chat)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;I need to design the order service. What should I use for the database?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Searches team memory + queries knowledge policies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Based on your team&#x27;s standards:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - Database: PostgreSQL (team policy: db-standards)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - For internal communication with other services: gRPC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Would you like me to scaffold the service following these patterns?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;Yes! That&#x27;s exactly what I wanted.&quot;</span><br></span></code></pre></div></div>
<p><strong>UX Insight:</strong> The agent <strong>remembered across sessions</strong> without Alex having to repeat context. Memory promoted from session → team layer automatically.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ux2-policy-enforcement-feedback">UX2: Policy Enforcement Feedback<a href="#ux2-policy-enforcement-feedback" class="hash-link" aria-label="Direct link to UX2: Policy Enforcement Feedback" title="Direct link to UX2: Policy Enforcement Feedback" translate="no">​</a></h3>
<p><strong>Scenario:</strong> Casey (Junior Developer) attempts to violate a policy</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Casey: &quot;I want to add MongoDB to handle flexible schemas for user preferences.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Calls knowledge_check with proposed change]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ⚠️ POLICY VIOLATION DETECTED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Policy: Database Standards (org level)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Constraint: MUST_USE postgresql FOR persistence</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Severity: BLOCKING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          MongoDB is not approved for production use in this organization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Alternative suggestion:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          PostgreSQL has JSONB columns that provide flexible schema support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          while maintaining the approved database stack.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Would you like to see an example of using JSONB for user preferences?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Casey: &quot;Oh, I didn&#x27;t know that! Yes, please show me the example.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Retrieves pattern from knowledge repository]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Here&#x27;s how to use PostgreSQL JSONB for flexible schemas:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ```sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          CREATE TABLE user_preferences (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            user_id UUID PRIMARY KEY,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            preferences JSONB NOT NULL DEFAULT &#x27;{}&#x27;::jsonb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -- Query nested JSON</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          SELECT * FROM user_preferences</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          WHERE preferences-&gt;&gt;&#x27;theme&#x27; = &#x27;dark&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ```</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          This satisfies the policy while giving you the flexibility you need.</span><br></span></code></pre></div></div>
<p><strong>UX Insight:</strong></p>
<ul>
<li class="">Clear, non-judgmental feedback</li>
<li class="">Explains <strong>why</strong> the policy exists</li>
<li class="">Suggests <strong>approved alternatives</strong></li>
<li class="">Educates rather than blocks</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ux3-cross-team-knowledge-sharing">UX3: Cross-Team Knowledge Sharing<a href="#ux3-cross-team-knowledge-sharing" class="hash-link" aria-label="Direct link to UX3: Cross-Team Knowledge Sharing" title="Direct link to UX3: Cross-Team Knowledge Sharing" translate="no">​</a></h3>
<p><strong>Scenario:</strong> Sam (Architect) publishes an ADR, multiple teams benefit</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sam-creates-adr">Sam Creates ADR<a href="#sam-creates-adr" class="hash-link" aria-label="Direct link to Sam Creates ADR" title="Direct link to Sam Creates ADR" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Sam commits new ADR to knowledge repository</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> knowledge-repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> specs/arch/event-driven-comms.md </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EOF&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"># ADR: Event-Driven Communication Pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">## Context</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">As we decompose the monolith, services need asynchronous communication</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">for eventual consistency scenarios.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">## Decision</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Use Apache Kafka for event streaming between services.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">## Consequences</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Services remain decoupled</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Supports event sourcing patterns</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Requires Kafka infrastructure</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">## When to Use</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Cross-service events (order created, user updated)</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Audit trails</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Data replication</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">## When NOT to Use</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Request-response patterns (use gRPC)</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- Low-latency requirements (&lt; 10ms)</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> specs/arch/event-driven-comms.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ADR: Event-driven communication pattern&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin main</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sync-propagates-to-all-teams">Sync Propagates to All Teams<a href="#sync-propagates-to-all-teams" class="hash-link" aria-label="Direct link to Sync Propagates to All Teams" title="Direct link to Sync Propagates to All Teams" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Aeterna Sync Bridge]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Detected new commit: 7a3f2b1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Parsed ADR: event-driven-comms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Promoted to: org layer (all teams)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Indexed for semantic search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Notification sent to 23 active agents</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="alex-discovers-the-adr-api-team">Alex Discovers the ADR (API Team)<a href="#alex-discovers-the-adr-api-team" class="hash-link" aria-label="Direct link to Alex Discovers the ADR (API Team)" title="Direct link to Alex Discovers the ADR (API Team)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;How should I notify other services when an order is created?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Searches org knowledge + memory]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Based on the architectural decision record from Sam (2 hours ago):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          **Use event-driven communication via Apache Kafka**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          For your order service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          1. Publish &quot;OrderCreated&quot; event to Kafka topic: orders.created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2. Include: order_id, customer_id, total, timestamp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3. Other services (inventory, shipping) subscribe to this topic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Benefits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - Services stay decoupled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - Natural audit trail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - Supports event sourcing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Would you like me to generate the event schema?</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="taylor-discovers-the-adr-different-team">Taylor Discovers the ADR (Different Team)<a href="#taylor-discovers-the-adr-different-team" class="hash-link" aria-label="Direct link to Taylor Discovers the ADR (Different Team)" title="Direct link to Taylor Discovers the ADR (Different Team)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;We need to sync user data from auth service to analytics. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         Should we call the API directly?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Searches org knowledge]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          For cross-service data sync, use event-driven communication:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Publish a &quot;UserUpdated&quot; event from auth service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          → Analytics service subscribes and updates its read model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          This follows the org&#x27;s event-driven pattern (ADR by Sam).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Don&#x27;t call the API directly - that creates tight coupling.</span><br></span></code></pre></div></div>
<p><strong>UX Insight:</strong></p>
<ul>
<li class="">Sam&#x27;s decision <strong>automatically propagates</strong> to all teams</li>
<li class="">No manual notification needed</li>
<li class="">Context-aware suggestions based on user&#x27;s scenario</li>
<li class=""><strong>Consistent</strong> recommendations across different agents/sessions</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ux4-onboarding--learning">UX4: Onboarding &amp; Learning<a href="#ux4-onboarding--learning" class="hash-link" aria-label="Direct link to UX4: Onboarding &amp; Learning" title="Direct link to UX4: Onboarding &amp; Learning" translate="no">​</a></h3>
<p><strong>Scenario:</strong> Casey (Junior Developer) joins the API team</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="day-1-onboarding">Day 1: Onboarding<a href="#day-1-onboarding" class="hash-link" aria-label="Direct link to Day 1: Onboarding" title="Direct link to Day 1: Onboarding" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Casey runs onboarding script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna onboard </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> api </span><span class="token parameter variable" style="color:#36acaa">--role</span><span class="token plain"> developer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Welcome to the API Team!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Loading team context...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✓ 15 team conventions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✓ 8 architectural decisions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✓ 12 reusable patterns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✓ 3 team-specific policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Key things to know:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - We use gRPC for internal services</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - PostgreSQL is our standard database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Follow the Strangler Fig pattern for monolith migration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - PR reviews required from 2 team members</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Your AI assistant now has full team context!</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="first-task">First Task<a href="#first-task" class="hash-link" aria-label="Direct link to First Task" title="Direct link to First Task" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Casey: &quot;I need to add a new endpoint to the user service. How do we do authentication?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Searches team + org knowledge]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Your team follows the org authentication standards:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          1. **All APIs require OAuth2 + JWT**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          2. Validate JWT signature using public key from auth service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          3. Extract user_id from token claims</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Here&#x27;s the pattern used in your team&#x27;s other services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ```rust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          use auth_middleware::JwtValidator;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          #[post(&quot;/users/{id}&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          #[authenticate]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          async fn update_user(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              user_id: Path&lt;Uuid&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              claims: JwtClaims, // Injected by middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              data: Json&lt;UpdateUserRequest&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ) -&gt; Result&lt;Json&lt;User&gt;&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              // Claims.user_id automatically validated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ```</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          All your services use this middleware: `auth_middleware` v2.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Casey: &quot;Perfect! I see the same pattern in the codebase.&quot;</span><br></span></code></pre></div></div>
<p><strong>UX Insight:</strong></p>
<ul>
<li class="">Onboarding captures <strong>team-specific context</strong></li>
<li class="">AI assistant becomes a <strong>knowledgeable teammate</strong> immediately</li>
<li class="">Examples drawn from <strong>actual team codebases</strong></li>
<li class="">Casey learns by seeing <strong>consistent patterns</strong></li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ux5-incident-resolution-memory">UX5: Incident Resolution Memory<a href="#ux5-incident-resolution-memory" class="hash-link" aria-label="Direct link to UX5: Incident Resolution Memory" title="Direct link to UX5: Incident Resolution Memory" translate="no">​</a></h3>
<p><strong>Scenario:</strong> Taylor (DevOps) debugs production issue, captures resolution</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="incident-occurs">Incident Occurs<a href="#incident-occurs" class="hash-link" aria-label="Direct link to Incident Occurs" title="Direct link to Incident Occurs" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2am Alert] Redis memory exceeds 90%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;What&#x27;s causing Redis memory spike?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Searches session + episodic memory for recent incidents]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          I don&#x27;t have recent history of Redis memory issues.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Let me check monitoring data...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          High memory usage in: working_memory_layer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Suspect: Memory entries not expiring (TTL issue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;Check TTL configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: Current TTL: 300 seconds (5 minutes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          But I see 10,000+ entries older than 1 hour.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Possible bug: TTL not being set on some writes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;You&#x27;re right! The batch_add method wasn&#x27;t setting TTL. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         I&#x27;ll fix that and restart Redis.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Taylor fixes the bug]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;Remember this incident: Redis memory spike caused by </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         missing TTL in batch_add. Solution: Always set TTL </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         explicitly in batch operations. Monitor working layer size.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: ✓ Incident captured and stored.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          [Layer: team, tags: redis, incidents, memory-management]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="two-months-later-similar-alert">Two Months Later: Similar Alert<a href="#two-months-later-similar-alert" class="hash-link" aria-label="Direct link to Two Months Later: Similar Alert" title="Direct link to Two Months Later: Similar Alert" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[3am Alert] Redis memory exceeds 85%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;Redis memory alert. What was the last time this happened?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI Agent: [Searches episodic + procedural memory]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          **Similar incident found from 2 months ago:**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Issue: Redis memory spike in working_memory_layer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Root cause: Missing TTL in batch operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Resolution: Ensure TTL set explicitly in all batch writes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Action taken then: Fixed batch_add method, restarted Redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Current analysis:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - High memory in working_memory_layer: ✓ (same symptom)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - Checking batch write logs...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - Found: New batch_import method also missing TTL!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Recommendation: Apply same fix to batch_import method.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taylor: &quot;Excellent catch! I would have spent an hour debugging this.&quot;</span><br></span></code></pre></div></div>
<p><strong>UX Insight:</strong></p>
<ul>
<li class="">Historical incidents <strong>inform future debugging</strong></li>
<li class="">Agent proactively <strong>suggests solutions based on past experience</strong></li>
<li class=""><strong>Saves time</strong> in critical situations</li>
<li class="">Memory persists across months (episodic → procedural promotion)</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ux6-multi-agent-collaboration-a2a">UX6: Multi-Agent Collaboration (A2A)<a href="#ux6-multi-agent-collaboration-a2a" class="hash-link" aria-label="Direct link to UX6: Multi-Agent Collaboration (A2A)" title="Direct link to UX6: Multi-Agent Collaboration (A2A)" translate="no">​</a></h3>
<p><strong>Scenario:</strong> Two AI agents working on related tasks share knowledge</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="agent-a-frontend-agent---discovers-api-issue">Agent A (Frontend Agent) - Discovers API Issue<a href="#agent-a-frontend-agent---discovers-api-issue" class="hash-link" aria-label="Direct link to Agent A (Frontend Agent) - Discovers API Issue" title="Direct link to Agent A (Frontend Agent) - Discovers API Issue" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Agent A (working with Alex):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;I need to call POST /api/users but getting 401 Unauthorized.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The JWT token seems valid.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent A: [Searches memory, finds no solution]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         [Calls A2A protocol to query other agents]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         Querying Agent B (API team agent) via A2A...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent B: [Receives A2A query: &quot;JWT 401 on POST /api/users&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         [Searches its memory from Taylor&#x27;s recent fix]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         Found solution in my memory:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - JWT signature validation key was rotated yesterday</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - Frontend needs new public key from /.well-known/jwks.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         - Deployed to prod 6 hours ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         [Sends solution back via A2A]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent A: [Receives solution]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         The auth public key was rotated yesterday.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         You need to refresh your JWT validator:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ```typescript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         // Fetch latest public key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         const jwks = await fetch(&#x27;https://api.company.com/.well-known/jwks.json&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         const publicKey = jwks.keys[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         // Update validator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         jwtValidator.updatePublicKey(publicKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ```</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;Oh! I didn&#x27;t know about the rotation. Thanks!&quot;</span><br></span></code></pre></div></div>
<p><strong>A2A Protocol Flow:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Agent A (Frontend)                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────────────────────────────────┐                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 1. Query: &quot;JWT 401 on POST /api/users&quot; │                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └───────────────┬────────────────────────┘                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  │                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  ▼                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────────────────────────────────────┐          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 2. A2A Protocol: POST /a2a/query            │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │    {                                         │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │      &quot;skill&quot;: &quot;memory:search&quot;,               │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │      &quot;query&quot;: &quot;JWT authentication errors&quot;,   │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │      &quot;context&quot;: {&quot;service&quot;: &quot;api&quot;}          │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │    }                                         │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └───────────────┬──────────────────────────────┘          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────────────────┼─────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │ (Network: JSONRPC 2.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────────▼─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Agent B (API Team)                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────────────────────────────────┐               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 3. Receives query via A2A              │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └───────────────┬────────────────────────┘               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  │                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  ▼                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────────────────────────────────┐               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 4. Searches local memory:              │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │    &quot;JWT rotation fix from Taylor&quot;      │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └───────────────┬────────────────────────┘               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  │                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  ▼                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────────────────────────────────┐               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 5. Returns solution via A2A            │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │    {                                   │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │      &quot;solution&quot;: &quot;Public key rotated&quot;, │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │      &quot;action&quot;: &quot;Refresh from jwks&quot;,    │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │      &quot;confidence&quot;: 0.95                │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │    }                                   │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └───────────────┬────────────────────────┘               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────────────────┼────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │ (Network: JSONRPC 2.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────────▼─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Agent A (Frontend)                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────────────────────────────────┐               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 6. Presents solution to user           │               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └────────────────────────────────────────┘               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p><strong>UX Insight:</strong></p>
<ul>
<li class="">Agents <strong>share knowledge automatically</strong></li>
<li class="">No manual cross-team communication needed</li>
<li class="">Solutions propagate across organizational boundaries</li>
<li class="">Each agent maintains <strong>specialized domain knowledge</strong></li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="complete-feature-catalog">Complete Feature Catalog<a href="#complete-feature-catalog" class="hash-link" aria-label="Direct link to Complete Feature Catalog" title="Direct link to Complete Feature Catalog" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-system-features">Memory System Features<a href="#memory-system-features" class="hash-link" aria-label="Direct link to Memory System Features" title="Direct link to Memory System Features" translate="no">​</a></h3>



















































































<table><thead><tr><th>Feature</th><th>Description</th><th>Layers</th><th>Latency</th></tr></thead><tbody><tr><td><strong>Hierarchical Storage</strong></td><td>7-layer memory with precedence rules</td><td>all</td><td>Variable</td></tr><tr><td><strong>Semantic Search</strong></td><td>Vector similarity search across memories</td><td>Semantic, Episodic, User, Org</td><td>&lt;200ms</td></tr><tr><td><strong>Keyword Search</strong></td><td>Fast text-based search</td><td>all</td><td>&lt;50ms</td></tr><tr><td><strong>Tag Filtering</strong></td><td>Filter by custom tags</td><td>all</td><td>&lt;30ms</td></tr><tr><td><strong>Time-Range Queries</strong></td><td>Search within time windows</td><td>all</td><td>&lt;50ms</td></tr><tr><td><strong>Cross-Layer Search</strong></td><td>Concurrent search across multiple layers</td><td>Configurable</td><td>&lt;300ms</td></tr><tr><td><strong>Memory Promotion</strong></td><td>Auto-promote high-value memories to broader scope</td><td>Working → Session → Team</td><td>Automatic</td></tr><tr><td><strong>Memory Decay</strong></td><td>TTL-based automatic cleanup</td><td>Working, Session</td><td>Automatic</td></tr><tr><td><strong>Confidence Scoring</strong></td><td>Track memory reliability</td><td>all</td><td>Real-time</td></tr><tr><td><strong>Memory Reasoning</strong></td><td>LLM-enhanced memory retrieval</td><td>All with RLM</td><td>+50ms</td></tr><tr><td><strong>Batch Operations</strong></td><td>Efficient bulk add/delete</td><td>all</td><td>Optimized</td></tr><tr><td><strong>Graph Relationships</strong></td><td>Link related memories (DuckDB)</td><td>all</td><td>&lt;100ms</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="knowledge-repository-features">Knowledge Repository Features<a href="#knowledge-repository-features" class="hash-link" aria-label="Direct link to Knowledge Repository Features" title="Direct link to Knowledge Repository Features" translate="no">​</a></h3>



















































































<table><thead><tr><th>Feature</th><th>Description</th><th>Document Types</th><th>Performance</th></tr></thead><tbody><tr><td><strong>Git Versioning</strong></td><td>Full version control for knowledge</td><td>ADRs, Policies, Patterns, Procedures</td><td>Git speed</td></tr><tr><td><strong>Semantic Search</strong></td><td>Find knowledge by meaning, not keywords</td><td>all</td><td>&lt;200ms</td></tr><tr><td><strong>Full-Text Search</strong></td><td>Fast keyword-based search</td><td>all</td><td>&lt;50ms</td></tr><tr><td><strong>Constraint Enforcement</strong></td><td>Validate content against policies</td><td>Policies</td><td>&lt;30ms</td></tr><tr><td><strong>Policy Inheritance</strong></td><td>Hierarchical policy application</td><td>Policies</td><td>Automatic</td></tr><tr><td><strong>Approval Workflows</strong></td><td>Multi-stage approval for sensitive changes</td><td>all</td><td>Async</td></tr><tr><td><strong>Drift Detection</strong></td><td>Detect divergence from standards</td><td>Policies, Specs</td><td>Scheduled</td></tr><tr><td><strong>Natural Language Queries</strong></td><td>Ask questions in plain English</td><td>all</td><td>&lt;300ms</td></tr><tr><td><strong>Document Linking</strong></td><td>Cross-reference documents</td><td>all</td><td>&lt;50ms</td></tr><tr><td><strong>Change Notifications</strong></td><td>Real-time updates on knowledge changes</td><td>all</td><td>&lt;5s</td></tr><tr><td><strong>Access Control</strong></td><td>Role-based document access</td><td>all</td><td>&lt;20ms</td></tr><tr><td><strong>Audit Trail</strong></td><td>Complete history of changes</td><td>all</td><td>Git log</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="governance-features">Governance Features<a href="#governance-features" class="hash-link" aria-label="Direct link to Governance Features" title="Direct link to Governance Features" translate="no">​</a></h3>













































































<table><thead><tr><th>Feature</th><th>Description</th><th>Enforcement</th><th>Performance</th></tr></thead><tbody><tr><td><strong>Cedar RBAC</strong></td><td>Role-based access control</td><td>Blocking</td><td>&lt;10ms</td></tr><tr><td><strong>Policy-as-Code</strong></td><td>Declarative policy definitions</td><td>Configurable</td><td>N/A</td></tr><tr><td><strong>Constraint DSL</strong></td><td>Custom constraint language</td><td>Blocking/Warning</td><td>&lt;20ms</td></tr><tr><td><strong>Multi-Tenant Isolation</strong></td><td>Strict tenant boundaries</td><td>Blocking</td><td>&lt;10ms</td></tr><tr><td><strong>Drift Detection</strong></td><td>Automated compliance checking</td><td>Alerting</td><td>Scheduled</td></tr><tr><td><strong>Permit.io Integration</strong></td><td>Remote policy decision point</td><td>Hybrid</td><td>&lt;50ms</td></tr><tr><td><strong>OPAL Sync</strong></td><td>Centralized policy distribution</td><td>Background</td><td>&lt;5s</td></tr><tr><td><strong>Audit Logging</strong></td><td>Complete compliance trail</td><td>Always-on</td><td>&lt;5ms</td></tr><tr><td><strong>Policy Versioning</strong></td><td>Rollback capability</td><td>Git-based</td><td>Git speed</td></tr><tr><td><strong>Natural Language → Cedar</strong></td><td>LLM-powered policy generation</td><td>Advisory</td><td>&lt;2s</td></tr><tr><td><strong>IDP Sync</strong></td><td>Okta/Azure user synchronization</td><td>Background</td><td>&lt;30s</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-features">Integration Features<a href="#integration-features" class="hash-link" aria-label="Direct link to Integration Features" title="Direct link to Integration Features" translate="no">​</a></h3>



























































<table><thead><tr><th>Feature</th><th>Description</th><th>Protocol</th><th>Frameworks</th></tr></thead><tbody><tr><td><strong>MCP Tools</strong></td><td>Standardized tool interface</td><td>MCP v1.0</td><td>OpenCode, LangChain, AutoGen</td></tr><tr><td><strong>REST API</strong></td><td>HTTP endpoints</td><td>REST</td><td>Any</td></tr><tr><td><strong>A2A Protocol</strong></td><td>Agent-to-agent communication</td><td>Radkit</td><td>Multi-agent systems</td></tr><tr><td><strong>OpenCode Plugin</strong></td><td>Native OpenCode integration</td><td>Plugin</td><td>OpenCode</td></tr><tr><td><strong>LangChain Adapter</strong></td><td>LangChain tool wrapper</td><td>LangChain</td><td>LangChain agents</td></tr><tr><td><strong>Mem0 Backend</strong></td><td>Cloud memory provider</td><td>Adapter</td><td>Provider-agnostic</td></tr><tr><td><strong>Letta Backend</strong></td><td>Local memory provider</td><td>Adapter</td><td>Provider-agnostic</td></tr><tr><td><strong>Custom Backends</strong></td><td>Pluggable storage</td><td>Trait-based</td><td>Any Rust impl</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-features-cca">Advanced Features (CCA)<a href="#advanced-features-cca" class="hash-link" aria-label="Direct link to Advanced Features (CCA)" title="Direct link to Advanced Features (CCA)" translate="no">​</a></h3>





















































<table><thead><tr><th>Feature</th><th>Description</th><th>Research</th><th>Impact</th></tr></thead><tbody><tr><td><strong>Context Architect</strong></td><td>Hierarchical context compression</td><td>Confucius Code Agent</td><td>+7.6% perf</td></tr><tr><td><strong>Note-Taking Agent</strong></td><td>Trajectory event capture</td><td>CCA</td><td>Learning</td></tr><tr><td><strong>Hindsight Learning</strong></td><td>Error pattern analysis</td><td>CCA</td><td>Prevention</td></tr><tr><td><strong>Meta-Agent</strong></td><td>Build-test-improve loops</td><td>CCA</td><td>Autonomous</td></tr><tr><td><strong>Reflective Reasoning</strong></td><td>Pre-retrieval query planning</td><td>MemR³</td><td>+12% accuracy</td></tr><tr><td><strong>Multi-Hop Queries</strong></td><td>Graph-based memory traversal</td><td>MemR³</td><td>Complex queries</td></tr><tr><td><strong>Query Refinement</strong></td><td>Iterative query improvement</td><td>MemR³</td><td>Better results</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="observability-features">Observability Features<a href="#observability-features" class="hash-link" aria-label="Direct link to Observability Features" title="Direct link to Observability Features" translate="no">​</a></h3>









































<table><thead><tr><th>Feature</th><th>Description</th><th>Protocol</th><th>Tools</th></tr></thead><tbody><tr><td><strong>Distributed Tracing</strong></td><td>Request tracing across services</td><td>OpenTelemetry</td><td>Jaeger, Zipkin</td></tr><tr><td><strong>Metrics Export</strong></td><td>Performance metrics</td><td>Prometheus</td><td>Grafana, Prometheus</td></tr><tr><td><strong>Structured Logging</strong></td><td>JSON logs with correlation IDs</td><td>Tracing crate</td><td>Any log aggregator</td></tr><tr><td><strong>Health Checks</strong></td><td>Service health endpoints</td><td>HTTP</td><td>Kubernetes, monitoring</td></tr><tr><td><strong>Performance Profiling</strong></td><td>CPU/memory profiling</td><td>Cargo flamegraph</td><td>Development</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="interaction-flows">Interaction Flows<a href="#interaction-flows" class="hash-link" aria-label="Direct link to Interaction Flows" title="Direct link to Interaction Flows" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-1-complete-onboarding-workflow">Flow 1: Complete Onboarding Workflow<a href="#flow-1-complete-onboarding-workflow" class="hash-link" aria-label="Direct link to Flow 1: Complete Onboarding Workflow" title="Direct link to Flow 1: Complete Onboarding Workflow" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-2-policy-violation--resolution">Flow 2: Policy Violation &amp; Resolution<a href="#flow-2-policy-violation--resolution" class="hash-link" aria-label="Direct link to Flow 2: Policy Violation &amp; Resolution" title="Direct link to Flow 2: Policy Violation &amp; Resolution" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-3-cross-session-memory-learning">Flow 3: Cross-Session Memory Learning<a href="#flow-3-cross-session-memory-learning" class="hash-link" aria-label="Direct link to Flow 3: Cross-Session Memory Learning" title="Direct link to Flow 3: Cross-Session Memory Learning" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-4-multi-agent-collaboration-a2a">Flow 4: Multi-Agent Collaboration (A2A)<a href="#flow-4-multi-agent-collaboration-a2a" class="hash-link" aria-label="Direct link to Flow 4: Multi-Agent Collaboration (A2A)" title="Direct link to Flow 4: Multi-Agent Collaboration (A2A)" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-5-incident-resolution--memory">Flow 5: Incident Resolution &amp; Memory<a href="#flow-5-incident-resolution--memory" class="hash-link" aria-label="Direct link to Flow 5: Incident Resolution &amp; Memory" title="Direct link to Flow 5: Incident Resolution &amp; Memory" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-6-knowledge-drift-detection">Flow 6: Knowledge Drift Detection<a href="#flow-6-knowledge-drift-detection" class="hash-link" aria-label="Direct link to Flow 6: Knowledge Drift Detection" title="Direct link to Flow 6: Knowledge Drift Detection" translate="no">​</a></h3>
<!-- -->
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-world-examples">Real-World Examples<a href="#real-world-examples" class="hash-link" aria-label="Direct link to Real-World Examples" title="Direct link to Real-World Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-1-large-scale-microservices-migration">Example 1: Large-Scale Microservices Migration<a href="#example-1-large-scale-microservices-migration" class="hash-link" aria-label="Direct link to Example 1: Large-Scale Microservices Migration" title="Direct link to Example 1: Large-Scale Microservices Migration" translate="no">​</a></h3>
<p><strong>Company:</strong> 300 engineers, migrating monolith → microservices over 2 years</p>
<p><strong>Aeterna Setup:</strong></p>
<ul>
<li class="">Company layer: Strangler Fig pattern ADR</li>
<li class="">Org layer: Service standards (gRPC, PostgreSQL, Kafka)</li>
<li class="">Team layers: Service-specific patterns</li>
</ul>
<p><strong>Usage Flow:</strong></p>
<ol>
<li class="">
<p><strong>Sam (Architect) Publishes ADR</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> knowledge-repo/specs/arch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> strangler-fig-pattern.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ADR: Strangler Fig Migration Pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Decision: Extract services incrementally, avoid big-bang rewrites</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ADR: Strangler Fig pattern for monolith decomposition&quot;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Sync Propagates to All Teams</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Aeterna Sync] New ADR detected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Indexed for semantic search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Promoted to company layer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✓ Notified 45 active agents</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Alex (API Team) Uses Pattern</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alex: &quot;I need to extract the order management logic from the monolith.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent: Based on the Strangler Fig ADR:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       1. Create new order-service with same interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       2. Add API gateway routing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       3. Gradually migrate endpoints one-by-one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       4. Monitor dual-writes for consistency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Let me scaffold the service following team conventions...</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Drift Detection Catches Violations</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Drift Detector] 2 services not following Strangler Fig pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- payment-service: Direct rewrite (not incremental)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- auth-service: Missing anti-corruption layer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📧 Alert sent to team leads</span><br></span></code></pre></div></div>
</li>
</ol>
<p><strong>Outcome:</strong></p>
<ul>
<li class=""><strong>23 services extracted</strong> in 18 months</li>
<li class=""><strong>Zero big-bang failures</strong> (Strangler Fig enforced)</li>
<li class=""><strong>Consistent architecture</strong> across all teams</li>
<li class=""><strong>90% policy compliance</strong> (drift detection)</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-2-security-policy-enforcement">Example 2: Security Policy Enforcement<a href="#example-2-security-policy-enforcement" class="hash-link" aria-label="Direct link to Example 2: Security Policy Enforcement" title="Direct link to Example 2: Security Policy Enforcement" translate="no">​</a></h3>
<p><strong>Company:</strong> Financial services, strict compliance requirements</p>
<p><strong>Aeterna Setup:</strong></p>
<ul>
<li class="">Company layer: Security baseline policies</li>
<li class="">Org layer: PCI-DSS compliance rules</li>
<li class="">Team layers: Service-specific security patterns</li>
</ul>
<p><strong>Security Policy Example:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># policy/security-baseline.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> security</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">severity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BLOCKING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">constraints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MUST_USE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">technology</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jwt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> api</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reason</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> OAuth2 + JWT required for all APIs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MUST_NOT_USE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">technology</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> basic</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reason</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Basic auth not secure for production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MUST_ENCRYPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">algorithm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">256</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gcm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reason</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PCI</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">DSS requirement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MUST_AUDIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">events</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">change</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">retention</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 7</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">years</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reason</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Compliance requirement</span><br></span></code></pre></div></div>
<p><strong>Usage Flow:</strong></p>
<ol>
<li class="">
<p><strong>Casey Proposes Insecure Pattern</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Casey: &quot;Can I use Basic Auth for the admin panel? It&#x27;s simpler.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent: [Calls knowledge_check]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ❌ POLICY VIOLATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Policy: security-baseline (company level)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Constraint: MUST_NOT_USE basic-auth IN production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Severity: BLOCKING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Reason: Basic auth not secure for production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Required: OAuth2 + JWT for all production APIs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       This is a compliance requirement and cannot be bypassed.</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Automatic Audit Trail</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Aeterna Audit Log]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2026-02-01 14:32:15 UTC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User: casey@company.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Action: policy_violation_proposed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Policy: security-baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Constraint: MUST_NOT_USE basic-auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Result: BLOCKED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Context: admin-panel authentication</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Compliance Report Generation</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aeterna governance report </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> compliance </span><span class="token parameter variable" style="color:#36acaa">--period</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain">-Q4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Compliance Report: 2025 Q4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Policy Violations:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - security-baseline: 12 violations (all blocked)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - pci-dss: 3 violations (all blocked)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Audit Events:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - user-login: 1,234,567 events</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - data-access: 892,331 events</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - permission-change: 4,521 events</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Compliance Status: ✓ COMPLIANT</span><br></span></code></pre></div></div>
</li>
</ol>
<p><strong>Outcome:</strong></p>
<ul>
<li class=""><strong>Zero security policy violations</strong> in production</li>
<li class=""><strong>100% audit coverage</strong> for compliance events</li>
<li class=""><strong>Passed PCI-DSS audit</strong> (full trail)</li>
<li class=""><strong>Reduced incident response time</strong> by 40%</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-3-multi-agent-collaboration">Example 3: Multi-Agent Collaboration<a href="#example-3-multi-agent-collaboration" class="hash-link" aria-label="Direct link to Example 3: Multi-Agent Collaboration" title="Direct link to Example 3: Multi-Agent Collaboration" translate="no">​</a></h3>
<p><strong>Company:</strong> Building autonomous customer support system with specialized agents</p>
<p><strong>Agents:</strong></p>
<ul>
<li class=""><strong>Intake Agent</strong>: First contact, triage</li>
<li class=""><strong>Technical Agent</strong>: Handles technical issues</li>
<li class=""><strong>Billing Agent</strong>: Handles payments</li>
<li class=""><strong>Escalation Agent</strong>: Complex issues</li>
</ul>
<p><strong>Aeterna Setup:</strong></p>
<ul>
<li class="">Each agent has isolated memory (session layer)</li>
<li class="">Shared knowledge base (org layer)</li>
<li class="">A2A protocol for agent-to-agent communication</li>
</ul>
<p><strong>Workflow:</strong></p>
<!-- -->
<p><strong>Conversation Flow:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Customer: &quot;My payment failed when I tried to upgrade my plan.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Intake Agent: Let me check with our billing specialist.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              [A2A Query to Billing Agent: &quot;payment upgrade failed&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Billing Agent: [Searches memory for payment failures]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               [Found: Common cause = expired cards]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               [A2A Response: &quot;Check card expiration&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Intake Agent: It looks like your card might be expired.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Can you update your payment method?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Customer: &quot;I updated it, but still getting an error.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Intake Agent: [A2A Query to Technical Agent: &quot;payment still failing after card update&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Technical Agent: [Searches episodic memory]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 [Found: Similar pattern from yesterday]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 [Root cause: Payment gateway timeout]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 [A2A Response: &quot;Known gateway issue, workaround available&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Intake Agent: We&#x27;re experiencing a temporary issue with our payment processor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              I can either:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              1. Apply your upgrade manually (done in 5 min)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              2. Wait for the gateway fix (estimated 1 hour)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Which would you prefer?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Customer: &quot;Manual upgrade, please.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Intake Agent: [A2A Request to Billing Agent: &quot;manual_upgrade_approval&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              [Billing Agent: Approved]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ✓ Your account is now upgraded!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              [Stores interaction memory for future similar cases]</span><br></span></code></pre></div></div>
<p><strong>Memory Captured:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;incident_type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;payment_gateway_timeout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;resolution&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;manual_upgrade&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;context&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;payment_processor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stripe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;error_code&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;timeout_error&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;duration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2 hours&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;affected_users&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;collaboration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;agents_involved&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;intake&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;billing&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;technical&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;a2a_queries&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;resolution_time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5 minutes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;layer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;org&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;confidence&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.95</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Outcome:</strong></p>
<ul>
<li class=""><strong>Automated</strong> 78% of support tickets</li>
<li class=""><strong>5-minute</strong> average resolution time</li>
<li class=""><strong>Zero escalations</strong> for known issues</li>
<li class=""><strong>Continuous learning</strong> from each interaction</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>This comprehensive guide demonstrates Aeterna&#x27;s complete feature set through:</p>
<p>✅ <strong>User Personae</strong> - 5 distinct roles with different needs
✅ <strong>Developer Experience</strong> - Setup, config, CLI, API, testing, observability
✅ <strong>User Experience</strong> - Natural interactions, learning, policy enforcement
✅ <strong>Complete Feature Catalog</strong> - All capabilities documented
✅ <strong>Interaction Flows</strong> - 6 detailed sequence diagrams
✅ <strong>Real-World Examples</strong> - 3 production scenarios</p>
<p><strong>Key Takeaways:</strong></p>
<ol>
<li class=""><strong>Memory Persists</strong> - Cross-session learning without manual context</li>
<li class=""><strong>Knowledge Scales</strong> - From individual preferences to org-wide policies</li>
<li class=""><strong>Agents Collaborate</strong> - A2A protocol enables multi-agent systems</li>
<li class=""><strong>Policies Enforce</strong> - Real-time compliance without manual gates</li>
<li class=""><strong>System Learns</strong> - Automatic promotion of valuable patterns</li>
</ol>
<p>Aeterna transforms AI agents from <strong>forgetful assistants</strong> into <strong>knowledgeable teammates</strong> that improve over time.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/kikokikok/aeterna/tree/main/website/docs/comprehensive-ux-dx-guide.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/aeterna/docs/sequence-diagrams"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Aeterna: Complete Sequence Diagrams</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aeterna/docs/specs/memory-system"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Memory System Specification</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#quick-overview" class="table-of-contents__link toc-highlight">Quick Overview</a></li></ul></li><li><a href="#user-personae" class="table-of-contents__link toc-highlight">User Personae</a><ul><li><a href="#persona-1-alex---senior-software-engineer" class="table-of-contents__link toc-highlight">Persona 1: <strong>Alex - Senior Software Engineer</strong></a></li><li><a href="#persona-2-sam---platform-architect" class="table-of-contents__link toc-highlight">Persona 2: <strong>Sam - Platform Architect</strong></a></li><li><a href="#persona-3-taylor---devops-engineer" class="table-of-contents__link toc-highlight">Persona 3: <strong>Taylor - DevOps Engineer</strong></a></li><li><a href="#persona-4-jordan---product-manager" class="table-of-contents__link toc-highlight">Persona 4: <strong>Jordan - Product Manager</strong></a></li><li><a href="#persona-5-casey---junior-developer" class="table-of-contents__link toc-highlight">Persona 5: <strong>Casey - Junior Developer</strong></a></li></ul></li><li><a href="#developer-experience-dx" class="table-of-contents__link toc-highlight">Developer Experience (DX)</a><ul><li><a href="#dx1-setup--installation" class="table-of-contents__link toc-highlight">DX1: Setup &amp; Installation</a></li><li><a href="#dx2-configuration-management" class="table-of-contents__link toc-highlight">DX2: Configuration Management</a></li><li><a href="#dx3-cli-interface" class="table-of-contents__link toc-highlight">DX3: CLI Interface</a></li><li><a href="#dx4-mcp-tool-integration" class="table-of-contents__link toc-highlight">DX4: MCP Tool Integration</a></li><li><a href="#dx5-api-integration" class="table-of-contents__link toc-highlight">DX5: API Integration</a></li><li><a href="#dx6-testing-infrastructure" class="table-of-contents__link toc-highlight">DX6: Testing Infrastructure</a></li><li><a href="#dx7-debugging--observability" class="table-of-contents__link toc-highlight">DX7: Debugging &amp; Observability</a></li></ul></li><li><a href="#user-experience-ux" class="table-of-contents__link toc-highlight">User Experience (UX)</a><ul><li><a href="#ux1-ai-agent-memory-learning" class="table-of-contents__link toc-highlight">UX1: AI Agent Memory Learning</a></li><li><a href="#ux2-policy-enforcement-feedback" class="table-of-contents__link toc-highlight">UX2: Policy Enforcement Feedback</a></li><li><a href="#ux3-cross-team-knowledge-sharing" class="table-of-contents__link toc-highlight">UX3: Cross-Team Knowledge Sharing</a></li><li><a href="#ux4-onboarding--learning" class="table-of-contents__link toc-highlight">UX4: Onboarding &amp; Learning</a></li><li><a href="#ux5-incident-resolution-memory" class="table-of-contents__link toc-highlight">UX5: Incident Resolution Memory</a></li><li><a href="#ux6-multi-agent-collaboration-a2a" class="table-of-contents__link toc-highlight">UX6: Multi-Agent Collaboration (A2A)</a></li></ul></li><li><a href="#complete-feature-catalog" class="table-of-contents__link toc-highlight">Complete Feature Catalog</a><ul><li><a href="#memory-system-features" class="table-of-contents__link toc-highlight">Memory System Features</a></li><li><a href="#knowledge-repository-features" class="table-of-contents__link toc-highlight">Knowledge Repository Features</a></li><li><a href="#governance-features" class="table-of-contents__link toc-highlight">Governance Features</a></li><li><a href="#integration-features" class="table-of-contents__link toc-highlight">Integration Features</a></li><li><a href="#advanced-features-cca" class="table-of-contents__link toc-highlight">Advanced Features (CCA)</a></li><li><a href="#observability-features" class="table-of-contents__link toc-highlight">Observability Features</a></li></ul></li><li><a href="#interaction-flows" class="table-of-contents__link toc-highlight">Interaction Flows</a><ul><li><a href="#flow-1-complete-onboarding-workflow" class="table-of-contents__link toc-highlight">Flow 1: Complete Onboarding Workflow</a></li><li><a href="#flow-2-policy-violation--resolution" class="table-of-contents__link toc-highlight">Flow 2: Policy Violation &amp; Resolution</a></li><li><a href="#flow-3-cross-session-memory-learning" class="table-of-contents__link toc-highlight">Flow 3: Cross-Session Memory Learning</a></li><li><a href="#flow-4-multi-agent-collaboration-a2a" class="table-of-contents__link toc-highlight">Flow 4: Multi-Agent Collaboration (A2A)</a></li><li><a href="#flow-5-incident-resolution--memory" class="table-of-contents__link toc-highlight">Flow 5: Incident Resolution &amp; Memory</a></li><li><a href="#flow-6-knowledge-drift-detection" class="table-of-contents__link toc-highlight">Flow 6: Knowledge Drift Detection</a></li></ul></li><li><a href="#real-world-examples" class="table-of-contents__link toc-highlight">Real-World Examples</a><ul><li><a href="#example-1-large-scale-microservices-migration" class="table-of-contents__link toc-highlight">Example 1: Large-Scale Microservices Migration</a></li><li><a href="#example-2-security-policy-enforcement" class="table-of-contents__link toc-highlight">Example 2: Security Policy Enforcement</a></li><li><a href="#example-3-multi-agent-collaboration" class="table-of-contents__link toc-highlight">Example 3: Multi-Agent Collaboration</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aeterna/docs/">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kikokikok/aeterna" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Aeterna Contributors.</div></div></div></footer></div>
</body>
</html>