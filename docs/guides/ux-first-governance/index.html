<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/ux-first-governance" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">UX-First Governance: Natural Language Policy Management | Aeterna</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kikokikok.github.io/aeterna/docs/guides/ux-first-governance"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="UX-First Governance: Natural Language Policy Management | Aeterna"><meta data-rh="true" name="description" content="Enterprise-scale knowledge governance without the complexity"><meta data-rh="true" property="og:description" content="Enterprise-scale knowledge governance without the complexity"><link data-rh="true" rel="icon" href="/aeterna/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kikokikok.github.io/aeterna/docs/guides/ux-first-governance"><link data-rh="true" rel="alternate" href="https://kikokikok.github.io/aeterna/docs/guides/ux-first-governance" hreflang="en"><link data-rh="true" rel="alternate" href="https://kikokikok.github.io/aeterna/docs/guides/ux-first-governance" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"UX-First Governance: Natural Language Policy Management","item":"https://kikokikok.github.io/aeterna/docs/guides/ux-first-governance"}]}</script><link rel="stylesheet" href="/aeterna/assets/css/styles.9ec36079.css">
<script src="/aeterna/assets/js/runtime~main.7b7cf05c.js" defer="defer"></script>
<script src="/aeterna/assets/js/main.2421dfb6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aeterna/"><b class="navbar__title text--truncate">Aeterna</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aeterna/docs/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/kikokikok/aeterna" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aeterna/docs/"><span title="Introduction to Aeterna" class="linkLabel_WmDU">Introduction to Aeterna</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/aeterna/docs/helm/quickstart-local"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/helm/quickstart-local"><span title="Local Mode Quick Start" class="linkLabel_WmDU">Local Mode Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/helm/quickstart-hybrid"><span title="Hybrid Mode Deployment Guide" class="linkLabel_WmDU">Hybrid Mode Deployment Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/helm/quickstart-remote"><span title="Remote Mode Deployment Guide" class="linkLabel_WmDU">Remote Mode Deployment Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/guides/cli-quick-reference"><span title="Aeterna CLI Quick Reference" class="linkLabel_WmDU">Aeterna CLI Quick Reference</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/overview"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/memory-system"><span title="Memory System" class="categoryLinkLabel_W154">Memory System</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/knowledge-repository"><span title="Knowledge Repository" class="categoryLinkLabel_W154">Knowledge Repository</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/aeterna/docs/governance/policy-model"><span title="Governance" class="categoryLinkLabel_W154">Governance</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/governance/policy-model"><span title="Policy Model Documentation" class="linkLabel_WmDU">Policy Model Documentation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/governance/api-reference"><span title="Governance System API Reference" class="linkLabel_WmDU">Governance System API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/governance/deployment-guide"><span title="Governance Deployment Guide" class="linkLabel_WmDU">Governance Deployment Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/governance/drift-tuning"><span title="Drift Detection Tuning Guide" class="linkLabel_WmDU">Drift Detection Tuning Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/governance/troubleshooting"><span title="Governance System Troubleshooting Guide" class="linkLabel_WmDU">Governance System Troubleshooting Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aeterna/docs/guides/ux-first-governance"><span title="UX-First Governance: Natural Language Policy Management" class="linkLabel_WmDU">UX-First Governance: Natural Language Policy Management</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aeterna/docs/guides/agent-governance-integration"><span title="Agent Developer Guide: Governance Integration" class="linkLabel_WmDU">Agent Developer Guide: Governance Integration</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/cca/overview"><span title="CCA — Confucius Code Agent" class="categoryLinkLabel_W154">CCA — Confucius Code Agent</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/integrations/mcp-server"><span title="Integrations" class="categoryLinkLabel_W154">Integrations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/security/rbac-matrix"><span title="Security" class="categoryLinkLabel_W154">Security</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/helm/architecture"><span title="Helm Deployment" class="categoryLinkLabel_W154">Helm Deployment</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/guides/ha-deployment"><span title="Operations" class="categoryLinkLabel_W154">Operations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/examples/strangler-fig-migration"><span title="Examples" class="categoryLinkLabel_W154">Examples</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/aeterna/docs/specs/tool-interface"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aeterna/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Governance</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">UX-First Governance: Natural Language Policy Management</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>UX-First Governance: Natural Language Policy Management</h1></header>
<p><strong>Enterprise-scale knowledge governance without the complexity</strong></p>
<p>This guide documents Aeterna&#x27;s UX-First Governance system, a revolutionary approach to enterprise policy management that uses natural language instead of complex policy DSLs. With OPAL-powered organizational referential and Cedar-based authorization, Aeterna makes governance accessible to everyone, from developers to executives.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents" translate="no">​</a></h2>
<ul>
<li class=""><a href="#executive-summary" class="">Executive Summary</a></li>
<li class=""><a href="#architecture-overview" class="">Architecture Overview</a></li>
<li class=""><a href="#core-concepts" class="">Core Concepts</a></li>
<li class=""><a href="#getting-started" class="">Getting Started</a></li>
<li class=""><a href="#persona-workflows" class="">Persona Workflows</a>
<ul>
<li class=""><a href="#developer-workflow" class="">Developer Workflow</a></li>
<li class=""><a href="#tech-lead-workflow" class="">Tech Lead Workflow</a></li>
<li class=""><a href="#architect-workflow" class="">Architect Workflow</a></li>
<li class=""><a href="#admin-workflow" class="">Admin Workflow</a></li>
</ul>
</li>
<li class=""><a href="#cli-command-reference" class="">CLI Command Reference</a></li>
<li class=""><a href="#integration-scenarios" class="">Integration Scenarios</a></li>
<li class=""><a href="#advanced-topics" class="">Advanced Topics</a></li>
<li class=""><a href="#troubleshooting" class="">Troubleshooting</a></li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="executive-summary">Executive Summary<a href="#executive-summary" class="hash-link" aria-label="Direct link to Executive Summary" title="Direct link to Executive Summary" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-problem">The Problem<a href="#the-problem" class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem" translate="no">​</a></h3>
<p>Traditional enterprise governance systems require deep technical expertise:</p>



































<table><thead><tr><th>Pain Point</th><th>Traditional Approach</th><th>Aeterna UX-First</th></tr></thead><tbody><tr><td>Policy creation</td><td>Learn Cedar DSL syntax</td><td>&quot;Block MySQL in this project&quot;</td></tr><tr><td>Onboarding</td><td>Manual TOML configs</td><td><code>aeterna init</code> (auto-detects)</td></tr><tr><td>Context resolution</td><td>Specify org/team/project flags</td><td>Auto-resolves from git</td></tr><tr><td>Knowledge discovery</td><td>Navigate file hierarchies</td><td>Natural language search</td></tr><tr><td>Administration</td><td>Scattered across tools</td><td>Unified CLI and API</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-ux-first-governance">What is UX-First Governance?<a href="#what-is-ux-first-governance" class="hash-link" aria-label="Direct link to What is UX-First Governance?" title="Direct link to What is UX-First Governance?" translate="no">​</a></h3>
<p>UX-First Governance is an architectural approach where <strong>every capability is accessible through natural language, simple APIs, and intuitive CLI commands</strong>. Implementation details like Cedar policies, TOML configs, and layer hierarchies are completely hidden from end users.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-capabilities">Key Capabilities<a href="#key-capabilities" class="hash-link" aria-label="Direct link to Key Capabilities" title="Direct link to Key Capabilities" translate="no">​</a></h3>
<ol>
<li class=""><strong>Natural Language Policies</strong>: &quot;Block MySQL&quot; → Cedar policy</li>
<li class=""><strong>Zero-Config Onboarding</strong>: Auto-detect git context, initialize in seconds</li>
<li class=""><strong>Automatic Context Resolution</strong>: No more <code>--company --org --team</code> flags</li>
<li class=""><strong>Semantic Search</strong>: Find memories and knowledge without knowing structure</li>
<li class=""><strong>OPAL Integration</strong>: Real-time organizational referential with Cedar Agent</li>
<li class=""><strong>Meta-Governance</strong>: Policies about policies, with approval workflows</li>
<li class=""><strong>AI Agent Integration</strong>: Agents propose, simulate, and track policies autonomously</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="success-metrics">Success Metrics<a href="#success-metrics" class="hash-link" aria-label="Direct link to Success Metrics" title="Direct link to Success Metrics" translate="no">​</a></h3>
<p>After deploying UX-First Governance:</p>
<ul>
<li class=""><strong>Developer onboarding</strong>: 5 minutes (from 2+ hours)</li>
<li class=""><strong>Policy creation</strong>: &lt;1 minute (from 30+ minutes)</li>
<li class=""><strong>Context errors</strong>: Near zero (from frequent)</li>
<li class=""><strong>Governance adoption</strong>: 10x increase across teams</li>
<li class=""><strong>AI agent autonomy</strong>: 80% of routine governance tasks automated</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture-overview">Architecture Overview<a href="#architecture-overview" class="hash-link" aria-label="Direct link to Architecture Overview" title="Direct link to Architecture Overview" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-layers">System Layers<a href="#system-layers" class="hash-link" aria-label="Direct link to System Layers" title="Direct link to System Layers" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         USER INTERACTION LAYER                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   Human     │    │  AI Agent   │    │    CLI      │    │  Web API    │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  (Chat)     │    │   (LLM)     │    │  (Script)   │    │  (REST)     │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          └──────────────────┴────────────────────┴────────────────┘         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                    │                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────────────────────────┼─────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌────────────────────────────────────▼─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         NATURAL LANGUAGE LAYER                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   &quot;Block MySQL in this project&quot;                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   &quot;Only architects can approve org policies&quot;                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   &quot;Require 2 approvers for company-level changes&quot;                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────────────────────────┬─────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌────────────────────────────────────▼─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         SKILL / TOOL LAYER                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  Policy Skill   │  │ Governance Skill│  │  Onboarding Skill│             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                 │  │                 │  │                 │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ • draft         │  │ • configure     │  │ • org_init      │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ • validate      │  │ • approve       │  │ • team_create   │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ • propose       │  │ • reject        │  │ • project_init  │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ • explain       │  │ • audit         │  │ • user_register │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ • simulate      │  │ • roles         │  │ • agent_register│             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ • list          │  │                 │  │                 │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └────────┬────────┘  └────────┬────────┘  └────────┬────────┘             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                    │                    │                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            └────────────────────┼────────────────────┘                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                 │                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────┼────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────▼────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         TRANSLATION LAYER                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────────────────┐       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                  LLM-Powered Translator                          │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                                  │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   Natural Language ──────▶ Structured Intent ──────▶ Cedar      │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                                  │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   &quot;Block MySQL&quot; ──▶ {target: dep, op: deny, value: &quot;mysql&quot;}     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                 ──▶ forbid(principal, action, resource)          │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                     when { resource.dependency == &quot;mysql&quot; }      │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                                  │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────────────────┘       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────────────────┐       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                  Cedar Validator                                 │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                                  │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   • Syntax validation (cedar-policy crate)                       │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   • Schema compliance                                            │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   • Conflict detection                                           │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   • Simulation against test scenarios                            │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                                  │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────────────────┘       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────▼────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    GOVERNANCE ENGINE + OPAL/CEDAR                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────────────────┐       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                        OPAL SERVER                               │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                                  │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   PostgreSQL (Referential)          Git (Policies)              │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ┌─────────────────────┐          ┌─────────────────────┐     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ companies           │          │ cedar-policies/     │     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ organizations       │          │   company.cedar     │     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ teams               │          │   org.cedar         │     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ projects            │          │   meta-governance/  │     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ users               │          └─────────────────────┘     │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ agents              │                                       │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │ memberships         │          PubSub Channel              │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └─────────────────────┘          (WebSocket)                 │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                           │                      │       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └───────────────────────────────────────────┼──────────────────────┘       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                               │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│               ┌─────────────────────────────┬─┴──────────────┐              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│               │                             │                │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│               ▼                             ▼                ▼              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────┐  ┌─────────────────────────┐  ┌─────────┐    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   OPAL Client + Cedar   │  │   OPAL Client + Cedar   │  │  OPAL   │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   Agent (Region A)      │  │   Agent (Region B)      │  │  Agent  │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                         │  │                         │  │ (CI/CD) │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   Topics:               │  │   Topics:               │  │         │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   - company:acme        │  │   - company:acme        │  │ Topics: │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   - org:platform        │  │   - org:data            │  │   *     │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────┘  └─────────────────────────┘  └─────────┘    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   Proposal   │  │   Approval   │  │    Cedar     │  │    Audit     │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │    Store     │  │   Workflow   │  │   Authorizer │  │     Log      │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="opal-the-organizational-referential">OPAL: The Organizational Referential<a href="#opal-the-organizational-referential" class="hash-link" aria-label="Direct link to OPAL: The Organizational Referential" title="Direct link to OPAL: The Organizational Referential" translate="no">​</a></h3>
<p>OPAL (Open Policy Administration Layer) provides the source of truth for organizational topology:</p>
<p><strong>What it stores:</strong></p>
<ul>
<li class="">Company → Organization → Team → Project hierarchy</li>
<li class="">User memberships and roles</li>
<li class="">Agent delegation chains</li>
<li class="">Policy files from git repositories</li>
</ul>
<p><strong>Why it matters:</strong></p>
<ul>
<li class=""><strong>Real-time sync</strong>: Changes propagate to all Cedar Agents instantly</li>
<li class=""><strong>Context resolution</strong>: Automatic detection of who/where without flags</li>
<li class=""><strong>Self-hosted</strong>: Apache 2.0 licensed, runs in your infrastructure</li>
<li class=""><strong>IdP integration</strong>: Syncs with Okta, Azure AD, Google Workspace</li>
</ul>
<p><strong>Data flow:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PostgreSQL (Referential) ──┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                           ├──► OPAL Server ──► WebSocket PubSub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Git (Cedar Policies)  ─────┘                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ┌──────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OPAL Client + Cedar Agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Authorization Decisions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Context Resolution Queries</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="governance-flow-diagram">Governance Flow Diagram<a href="#governance-flow-diagram" class="hash-link" aria-label="Direct link to Governance Flow Diagram" title="Direct link to Governance Flow Diagram" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         GOVERNANCE WORKFLOW                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. NATURAL LANGUAGE INPUT                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌────────────────────────────────────────────┐                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Developer: &quot;Block MySQL in this project&quot;  │                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────┬──────────────────────┘                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. INTENT EXTRACTION     ▼                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌─────────────────────────────────────────────────────┐                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ LLM Translator:                                      │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ {                                                    │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   &quot;action&quot;: &quot;deny&quot;,                                  │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   &quot;target_type&quot;: &quot;dependency&quot;,                       │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   &quot;target_value&quot;: &quot;mysql&quot;,                           │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   &quot;severity&quot;: &quot;block&quot;                                │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ }                                                    │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────┬───────────────────────────────┘                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. CEDAR GENERATION      ▼                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌─────────────────────────────────────────────────────┐                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ forbid(                                              │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   principal,                                         │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   action == Action::&quot;UseDependency&quot;,                 │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   resource                                           │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ )                                                    │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ when {                                               │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   resource.dependency == &quot;mysql&quot;                     │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ };                                                   │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────┬───────────────────────────────┘                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  4. VALIDATION            ▼                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌─────────────────────────────────────────────────────┐                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Cedar Validator:                                     │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ ✅ Syntax valid                                      │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ ✅ Schema compliant                                  │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ ⚠️  Warning: Consider blocking mysql2 as well        │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────┬───────────────────────────────┘                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  5. SIMULATION            ▼                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌─────────────────────────────────────────────────────┐                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Test against current project:                        │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ ✅ Pass (no MySQL dependencies found)                │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │                                                      │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Test against hypothetical:                           │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ ❌ Block (would block if MySQL added)                │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────┬───────────────────────────────┘                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  6. APPROVAL WORKFLOW     ▼                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌─────────────────────────────────────────────────────┐                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Proposal Created: prop_abc123                        │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Required Approvers: 1 (tech lead or architect)       │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Notified: alice@company.com                          │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Review Period: 24 hours                              │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────┬───────────────────────────────┘                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  7. ACTIVATION            ▼                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌─────────────────────────────────────────────────────┐                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ alice@company.com approves                           │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Policy ID: no-mysql                                  │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Status: ACTIVE                                       │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Pushed to OPAL → synced to all Cedar Agents          │                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────────────────────────────────────────────────────┘                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-concepts">Core Concepts<a href="#core-concepts" class="hash-link" aria-label="Direct link to Core Concepts" title="Direct link to Core Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-layer-hierarchy">Memory Layer Hierarchy<a href="#memory-layer-hierarchy" class="hash-link" aria-label="Direct link to Memory Layer Hierarchy" title="Direct link to Memory Layer Hierarchy" translate="no">​</a></h3>
<p>Aeterna organizes memories in a 7-layer hierarchy:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">agent    ←── Per-agent instance (most specific)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         &quot;This agent prefers Rust for new services&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user         Per-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         &quot;Alice prefers snake_case for API fields&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">session      Per-conversation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         &quot;Current task: Implement payment API&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">project      Per-repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         &quot;payments-service uses PostgreSQL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">team         Per-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         &quot;API Team decided on REST over GraphQL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org          Per-organization/department</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   │         &quot;Platform Engineering standardized on Kubernetes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">company  ←── Per-tenant (least specific)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             &quot;Acme Corp mandates TLS 1.3+&quot;</span><br></span></code></pre></div></div>
<p><strong>Search precedence</strong>: Agent → User → Session → Project → Team → Org → Company</p>
<p><strong>Promotion flow</strong>: Memories with high reward scores automatically promote upward</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="knowledge-layers">Knowledge Layers<a href="#knowledge-layers" class="hash-link" aria-label="Direct link to Knowledge Layers" title="Direct link to Knowledge Layers" translate="no">​</a></h3>
<p>Knowledge (ADRs, patterns, policies) follows a 4-layer hierarchy:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Company (highest precedence)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓ Policies flow DOWN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Organization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓ Teams inherit + customize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓ Projects inherit + override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Project (lowest precedence)</span><br></span></code></pre></div></div>
<p><strong>Merge strategies:</strong></p>
<ul>
<li class=""><strong>Override</strong>: Child completely replaces parent</li>
<li class=""><strong>Merge</strong>: Combines rules from both</li>
<li class=""><strong>Intersect</strong>: Keeps only common rules (stricter)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="roles-and-permissions">Roles and Permissions<a href="#roles-and-permissions" class="hash-link" aria-label="Direct link to Roles and Permissions" title="Direct link to Roles and Permissions" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         ROLE HIERARCHY                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   Admin (precedence: 4)                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ━━━━━━━━━━━━━━━━━━━━━                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Full system access                                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Configure meta-governance                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Manage all resources                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        Architect (precedence: 3)                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        ━━━━━━━━━━━━━━━━━━━━━                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        • Design policies                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        • Manage knowledge repository                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        • Approve org-level proposals                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             Tech Lead (precedence: 2)                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             ━━━━━━━━━━━━━━━━━━━━━                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             • Manage team resources                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             • Approve team-level proposals                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             • Enforce policies                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  Developer (precedence: 1)                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  ━━━━━━━━━━━━━━━━━━━━━                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  • Standard development                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  • Propose policies                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  • Access knowledge                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                       Agent (precedence: 0)                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                       ━━━━━━━━━━━━━━━━━━                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                       • Delegated permissions from user                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                       • Cannot exceed user&#x27;s capabilities                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                       • Auto-proposal (with limits)                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="approval-workflow-state-machine">Approval Workflow State Machine<a href="#approval-workflow-state-machine" class="hash-link" aria-label="Direct link to Approval Workflow State Machine" title="Direct link to Approval Workflow State Machine" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     PROPOSAL STATE MACHINE                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                          ┌───────────┐                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                          │  DRAFTED  │                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                          └─────┬─────┘                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                │                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         submit │                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                ▼                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     ┌────────────────────┐                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │ PENDING_APPROVAL   │                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     └─────┬────────┬─────┘                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │        │                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   approve │        │ reject                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           │        │                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ┌──────────────┘        └──────────────┐                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ▼                                      ▼                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌───────────┐                          ┌──────────┐                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ APPROVED  │                          │ REJECTED │                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────┬─────┘                          └─────┬────┘                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                                      │                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    activate                              revise/abandon                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                                      │                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           ▼                                      ▼                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌───────────┐                          ┌──────────┐                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │  ACTIVE   │                          │ ABANDONED│                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └─────┬─────┘                          └──────────┘                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      deprecate                                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           ▼                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌────────────┐                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ DEPRECATED │                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └────────────┘                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="organization-structure">Organization Structure<a href="#organization-structure" class="hash-link" aria-label="Direct link to Organization Structure" title="Direct link to Organization Structure" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Acme Corp (Company)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Platform Engineering (Org)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── API Team (Team)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── alice@acme.com (Tech Lead)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── bob@acme.com (Developer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── payments-service (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── auth-service (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── gateway-service (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Data Platform Team (Team)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── carol@acme.com (Architect)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── analytics-pipeline (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── ml-inference (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Product Engineering (Org)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Web Team (Team)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── dashboard-ui (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── admin-portal (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Mobile Team (Team)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── ios-app (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── android-app (Project)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Security (Org)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── SecOps Team (Team)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── security-scanner (Project)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h3>
<ul>
<li class=""><strong>OPAL Server</strong>: Deployed and accessible</li>
<li class=""><strong>PostgreSQL</strong>: For organizational referential</li>
<li class=""><strong>Cedar Agent</strong>: Deployed via OPAL Client</li>
<li class=""><strong>Aeterna CLI</strong>: Installed and configured</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-start-5-minutes">Quick Start (5 Minutes)<a href="#quick-start-5-minutes" class="hash-link" aria-label="Direct link to Quick Start (5 Minutes)" title="Direct link to Quick Start (5 Minutes)" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-initialize-company">1. Initialize Company<a href="#1-initialize-company" class="hash-link" aria-label="Direct link to 1. Initialize Company" title="Direct link to 1. Initialize Company" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Welcome to Aeterna</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Let</span><span class="token string" style="color:#e3116c">&#x27;s set up your organization.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Company name: Acme Corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Admin email: admin@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">SSO Provider (optional, press Enter to skip): okta</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Governance level [standard/strict/permissive]: standard</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Initializing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">✅ Company &#x27;</span><span class="token plain">Acme Corp&#x27; created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Default security policies applied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Admin role assigned to admin@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OPAL Server synchronized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Next steps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Engineering&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna team create </span><span class="token string" style="color:#e3116c">&quot;Platform&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna project init  </span><span class="token comment" style="color:#999988;font-style:italic"># In your git repository</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-create-organization-and-team">2. Create Organization and Team<a href="#2-create-organization-and-team" class="hash-link" aria-label="Direct link to 2. Create Organization and Team" title="Direct link to 2. Create Organization and Team" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Platform Engineering&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Organization </span><span class="token string" style="color:#e3116c">&#x27;Platform Engineering&#x27;</span><span class="token plain"> created </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Acme Corp&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ID: org:acme-corp:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Inherited: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> company-level policies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Members: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">invite </span><span class="token function" style="color:#d73a49">users</span><span class="token plain"> with </span><span class="token string" style="color:#e3116c">&#x27;aeterna user invite&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna team create </span><span class="token string" style="color:#e3116c">&quot;API Team&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> platform-engineering </span><span class="token parameter variable" style="color:#36acaa">--lead</span><span class="token plain"> alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Team </span><span class="token string" style="color:#e3116c">&#x27;API Team&#x27;</span><span class="token plain"> created </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Platform Engineering&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ID: team:platform-engineering:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Lead: alice@acme.com </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tech_lead</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Inherited: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> policies from org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Members: </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-initialize-project-auto-detection">3. Initialize Project (Auto-Detection)<a href="#3-initialize-project-auto-detection" class="hash-link" aria-label="Direct link to 3. Initialize Project (Auto-Detection)" title="Direct link to 3. Initialize Project (Auto-Detection)" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna project init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔍 Detecting context</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Git remote: github.com/acme/payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Git user: alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📍 Matched to: Platform Engineering → API Team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Project initialized: payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Config: .aeterna/context.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Policies inherited: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Knowledge items: </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Your project is ready</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Try:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   aeterna status          </span><span class="token comment" style="color:#999988;font-style:italic"># Check current state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   aeterna memory search   </span><span class="token comment" style="color:#999988;font-style:italic"># Search memories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   aeterna knowledge search </span><span class="token comment" style="color:#999988;font-style:italic"># Search knowledge base</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-check-status">4. Check Status<a href="#4-check-status" class="hash-link" aria-label="Direct link to 4. Check Status" title="Direct link to 4. Check Status" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📍 Current Context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Company:  acme-corp </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">from context.toml</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Org:      platform-engineering </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">from context.toml</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Team:     api-team </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">from </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Project:  payments-service </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">from </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   User:     alice@acme.com </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">from </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> user.email</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🚦 Governance Status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Active policies: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Pending approvals: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Recent violations: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📚 Knowledge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ADRs: </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Patterns: </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Policies: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">💾 Memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Project memories: </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Team memories: </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Org memories: </span><span class="token number" style="color:#36acaa">123</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="persona-workflows">Persona Workflows<a href="#persona-workflows" class="hash-link" aria-label="Direct link to Persona Workflows" title="Direct link to Persona Workflows" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="developer-workflow">Developer Workflow<a href="#developer-workflow" class="hash-link" aria-label="Direct link to Developer Workflow" title="Direct link to Developer Workflow" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="daily-tasks">Daily Tasks<a href="#daily-tasks" class="hash-link" aria-label="Direct link to Daily Tasks" title="Direct link to Daily Tasks" translate="no">​</a></h4>
<p><strong>Morning: Check context and status</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📍 Current Context: acme-corp / platform-engineering / api-team / payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🚦 Status: All systems operational</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📌 Pending </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> you: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Recent team learnings:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • </span><span class="token string" style="color:#e3116c">&quot;PostgreSQL connection pooling: max 20 connections&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> hours ago</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • </span><span class="token string" style="color:#e3116c">&quot;Use snake_case for API field names&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> day ago</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Task: Search for relevant knowledge</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna knowledge search </span><span class="token string" style="color:#e3116c">&quot;how do we handle authentication&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> results:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">95</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> ADR-015: JWT Authentication Strategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;Use JWT tokens with 1-hour expiration, refresh tokens for long sessions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Layer: org:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">88</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Pattern: OAuth2 Integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;Standard OAuth2 flow for third-party integrations&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Layer: company:acme-corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">72</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Policy: Authentication Requirements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;All APIs must implement authentication, no anonymous access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Layer: company:acme-corp</span><br></span></code></pre></div></div>
<p><strong>Task: Search memory for past decisions</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna memory search </span><span class="token string" style="color:#e3116c">&quot;database decisions we made last month&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Found </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> memories:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">95</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> team:api-team - </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;Decided to use PostgreSQL for all new services per ADR-042&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   by alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">82</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> org:platform-engineering - </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-05</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;Redis for caching, but not for primary data storage&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   by bob@acme.com</span><br></span></code></pre></div></div>
<p><strong>Task: Check if a dependency is allowed</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna check dependency mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ BLOCKED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Policy: security-baseline </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">company</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rule: no-mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Severity: block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Message: MySQL is prohibited. Use PostgreSQL instead.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reference: ADR-042</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Allowed alternatives:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • postgresql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • pg </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node.js client</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Task: Add memory about a decision</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna memory </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Decided to use bcrypt for password hashing, cost factor 12&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> project </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--tags</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;security,authentication&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Memory added: mem_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Layer: project:payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Tags: security, authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tip: If this becomes team-wide, promote with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna memory promote mem_abc123 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> team</span><br></span></code></pre></div></div>
<p><strong>Task: Propose a new policy</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy create </span><span class="token string" style="color:#e3116c">&quot;Require 2FA for admin endpoints&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project </span><span class="token parameter variable" style="color:#36acaa">--severity</span><span class="token plain"> warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📋 Draft Policy Created: draft_xyz789</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name: require-2fa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scope: project </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">payments-service</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Severity: warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Effect: Requires two-factor authentication </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> admin endpoints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Simulating against current project</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Current project passes </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">2FA already implemented</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Submit </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> approval? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Justification: Security best practice </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> admin access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Proposal submitted: prop_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Notified: alice@acme.com </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Tech Lead</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Review period: </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> hours</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tech-lead-workflow">Tech Lead Workflow<a href="#tech-lead-workflow" class="hash-link" aria-label="Direct link to Tech Lead Workflow" title="Direct link to Tech Lead Workflow" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="approval-management">Approval Management<a href="#approval-management" class="hash-link" aria-label="Direct link to Approval Management" title="Direct link to Approval Management" translate="no">​</a></h4>
<p><strong>Morning: Check pending approvals</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern pending</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You have </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> pending approvals:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">POLICY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> prop_abc123 - </span><span class="token string" style="color:#e3116c">&quot;Require 2FA for admin endpoints&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Proposed by: bob@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scope: project:payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Created: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> hours ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  View: aeterna policy draft show draft_xyz789</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">KNOWLEDGE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> prop_def456 - </span><span class="token string" style="color:#e3116c">&quot;Add pattern for API pagination&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Proposed by: charlie@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scope: team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Created: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> day ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MEMORY PROMOTION</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> prom_ghi789 - Promote to team layer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Memory: </span><span class="token string" style="color:#e3116c">&quot;KApp has 20-char ID limit&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Proposed by: alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Reason: </span><span class="token string" style="color:#e3116c">&quot;All team members should know this gotcha&quot;</span><br></span></code></pre></div></div>
<p><strong>Task: Review and approve policy proposal</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy draft show draft_xyz789</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📋 Policy Draft: require-2fa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Natural Language:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;Require 2FA for admin endpoints&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generated Cedar:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  permit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    principal,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    action </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> Action::</span><span class="token string" style="color:#e3116c">&quot;AccessAdminEndpoint&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  when </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    principal.has_2fa </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Human Readable:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  This policy requires two-factor authentication </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> all admin endpoint access.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Violations will generate warnings but not block access.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Validation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Syntax valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Schema compliant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️  Warning: Consider making this blocking </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">severity: block</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Simulation Results:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Current project: ✅ Pass </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">2FA implemented</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Hypothetical without 2FA: ⚠️  Warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern approve prop_abc123 </span><span class="token parameter variable" style="color:#36acaa">--comment</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Good security practice, approved&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Proposal approved: prop_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Policy activated: require-2fa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Effective immediately</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Audit trail updated</span><br></span></code></pre></div></div>
<p><strong>Task: Promote memory to team layer</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna memory promote mem_abc123 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--reason</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Critical gotcha for all team members&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Memory promoted: mem_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   From: project:payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   To: team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   All team members will now see this memory </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> search results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Audit log: promotion recorded</span><br></span></code></pre></div></div>
<p><strong>Task: Configure team governance</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern configure </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team:api-team </span><span class="token parameter variable" style="color:#36acaa">--interactive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔧 Governance Configuration </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Policy Approval Settings:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Required approvers </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Allowed approvers </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tech_lead,architect</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: tech_lead,architect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Auto-approve </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> roles </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">none</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Review period </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hours</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">48</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Knowledge Proposal Settings:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Required approvers </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Allowed proposers </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">developer,tech_lead,architect</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: developer,tech_lead,architect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Auto-approve types </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">none</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memory Promotion Settings:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Auto-promote threshold </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.9</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0.85</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Require approval above layer </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">team</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Save configuration? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Governance configured </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Effective rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Policies require </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> approval from tech_lead or architect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Knowledge patterns auto-approve, ADRs require review</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Memory auto-promotes at </span><span class="token number" style="color:#36acaa">0.85</span><span class="token plain"> importance threshold</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="architect-workflow">Architect Workflow<a href="#architect-workflow" class="hash-link" aria-label="Direct link to Architect Workflow" title="Direct link to Architect Workflow" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="organization-wide-policy-management">Organization-Wide Policy Management<a href="#organization-wide-policy-management" class="hash-link" aria-label="Direct link to Organization-Wide Policy Management" title="Direct link to Organization-Wide Policy Management" translate="no">​</a></h4>
<p><strong>Task: Create organization-wide policy</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">What should this policy do? All services must use OpenTelemetry </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tracing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scope? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">project/team/org/company</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Severity? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info/warn/block</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📋 Draft Policy Created: draft_otel_001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name: require-opentelemetry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scope: org:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Severity: warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Effect: Requires opentelemetry dependency </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> all services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⚠️ Impact Analysis:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> services </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> scope</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> already compliant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> would receive warnings:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - auth-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - gateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - legacy-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     - batch-processor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Would you like to:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">. Keep as warning </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">recommended </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> migration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">. Change to blocking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">. Add grace period</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">. Exclude specific projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Choice: </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Exclude </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> projects? legacy-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updated policy excludes legacy-api.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Simulating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Simulation complete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Submit </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> approval? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Justification: Standardizing on OpenTelemetry </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> observability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Proposal submitted: prop_org_001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Required approvers: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">org-level requires quorum</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Notified: bob@acme.com </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Admin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, carol@acme.com </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Architect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Review period: </span><span class="token number" style="color:#36acaa">48</span><span class="token plain"> hours </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">org-level policy</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Task: Explain existing policy to developer</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy explain security-baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">📋 Policy: security-baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Summary:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  This company-wide mandatory policy enforces core security requirements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  across all projects.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scope: company:acme-corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mode: mandatory </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cannot be overridden</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Created by: admin@acme.com on </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">. no-vulnerable-lodash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Effect: Blocks any project from using lodash versions below </span><span class="token number" style="color:#36acaa">4.17</span><span class="token plain">.21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Reason: CVE-2021-23337 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prototype pollution vulnerability</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Severity: block </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prevents deployment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">. require-security-doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Effect: Requires every project to have a SECURITY.md </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Severity: warn </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">generates warning, allows action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">. tls-1-3-required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Effect: All network connections must use TLS </span><span class="token number" style="color:#36acaa">1.3</span><span class="token plain"> or higher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Severity: block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Applies to: All projects </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Acme Corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cannot be overridden by lower scopes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Related:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • ADR-008: Security Baseline Requirements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Pattern: Secure Configuration</span><br></span></code></pre></div></div>
<p><strong>Task: Audit governance activity</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern audit </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org:platform-engineering </span><span class="token parameter variable" style="color:#36acaa">--last</span><span class="token plain"> 30d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Governance Audit Report</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scope: org:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Period: </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-01 to </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-31</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Summary:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────┬───────┬──────────┬──────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Event Type          │ Count │ Approved │ Rejected │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────┼───────┼──────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Policy Proposals    │ </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">    │ </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">       │ </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Knowledge Proposals │ </span><span class="token number" style="color:#36acaa">28</span><span class="token plain">    │ </span><span class="token number" style="color:#36acaa">26</span><span class="token plain">       │ </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Memory Promotions   │ </span><span class="token number" style="color:#36acaa">67</span><span class="token plain">    │ </span><span class="token number" style="color:#36acaa">67</span><span class="token plain">       │ </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Role Changes        │ </span><span class="token number" style="color:#36acaa">8</span><span class="token plain">     │ </span><span class="token number" style="color:#36acaa">8</span><span class="token plain">        │ </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────┴───────┴──────────┴──────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Recent Events:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-28 </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:23</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> POLICY_APPROVED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Actor: alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Proposal: prop_org_001 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">require-opentelemetry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Comment: </span><span class="token string" style="color:#e3116c">&quot;LGTM, aligns with observability standards&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-27 </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:45</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> POLICY_REJECTED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Actor: carol@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Proposal: prop_org_002 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mandate-graphql</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Reason: </span><span class="token string" style="color:#e3116c">&quot;Too prescriptive, teams should choose API style&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-26 09:12</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> ROLE_ASSIGNED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Actor: admin@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  User: david@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Role: architect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scope: org:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Export full audit log? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Format </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">csv/json</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Exported to: governance-audit-2024-01.csv</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-workflow">Admin Workflow<a href="#admin-workflow" class="hash-link" aria-label="Direct link to Admin Workflow" title="Direct link to Admin Workflow" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-setup-and-management">System Setup and Management<a href="#system-setup-and-management" class="hash-link" aria-label="Direct link to System Setup and Management" title="Direct link to System Setup and Management" translate="no">​</a></h4>
<p><strong>Task: Bootstrap entire organization</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna init </span><span class="token parameter variable" style="color:#36acaa">--company</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Acme Corp&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--admin</span><span class="token plain"> admin@acme.com </span><span class="token parameter variable" style="color:#36acaa">--governance</span><span class="token plain"> strict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Company initialized: acme-corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Created:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Company: Acme Corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Default org: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Admin user: admin@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • OPAL Server connection: established</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Cedar Agent: synchronized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Default policies applied:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • security-baseline </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blocking</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • compliance-requirements </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blocking</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • coding-standards </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Platform Engineering&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Product Engineering&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Security&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna team create </span><span class="token string" style="color:#e3116c">&quot;API Team&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> platform-engineering </span><span class="token parameter variable" style="color:#36acaa">--lead</span><span class="token plain"> alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna team create </span><span class="token string" style="color:#e3116c">&quot;Data Platform&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> platform-engineering </span><span class="token parameter variable" style="color:#36acaa">--lead</span><span class="token plain"> bob@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna team create </span><span class="token string" style="color:#e3116c">&quot;Web Team&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> product-engineering </span><span class="token parameter variable" style="color:#36acaa">--lead</span><span class="token plain"> carol@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna team create </span><span class="token string" style="color:#e3116c">&quot;SecOps&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> security </span><span class="token parameter variable" style="color:#36acaa">--lead</span><span class="token plain"> dave@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Organization structure created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Total orgs: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Total teams: </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Total users: </span><span class="token number" style="color:#36acaa">4</span><br></span></code></pre></div></div>
<p><strong>Task: Register user and assign roles</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna user register </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--email</span><span class="token plain"> eve@acme.com </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --display-name </span><span class="token string" style="color:#e3116c">&quot;Eve Johnson&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--teams</span><span class="token plain"> api-team,data-platform </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--role</span><span class="token plain"> developer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ User registered: user:eve@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memberships:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • team:api-team </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">developer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • team:data-platform </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">developer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Capabilities:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Memory: read, write, promote to team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Knowledge: read, propose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Policy: read, propose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern roles assign eve@acme.com tech_lead </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Role assigned</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   User: eve@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Role: tech_lead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Scope: team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Granted by: admin@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updated capabilities </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> eve@acme.com </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> team:api-team:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Can approve team-level proposals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Can manage team resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Can promote memories to org layer</span><br></span></code></pre></div></div>
<p><strong>Task: Register AI agent with delegation</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna agent register </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --agent-id </span><span class="token string" style="color:#e3116c">&quot;agent:opencode-alice&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --delegated-by alice@acme.com </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project:payments-service </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max-severity warn </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--expires</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-12-31</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Agent registered: agent:opencode-alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Delegation chain:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  user:alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → team:api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → org:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → company:acme-corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Capabilities </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delegated from alice@acme.com</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Read memory: </span><span class="token function" style="color:#d73a49">yes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Write memory: </span><span class="token function" style="color:#d73a49">yes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Propose policies: </span><span class="token function" style="color:#d73a49">yes</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max severity: warn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Approve policies: no </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">requires human</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Promote memories: team layer only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Token: aeterna_agent_abc123xyz </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">save securely</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Configure your AI assistant:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_AGENT_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;agent:opencode-alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_AGENT_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;aeterna_agent_abc123xyz&quot;</span><br></span></code></pre></div></div>
<p><strong>Task: System health check</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna admin health </span><span class="token parameter variable" style="color:#36acaa">--verbose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🏥 Aeterna System Health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Core Services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ OPAL Server: healthy </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">latency: 23ms</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ PostgreSQL: healthy </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">connections: </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">/100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Cedar Agent: healthy </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">policies: </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"> synced</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Redis: healthy </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memory: 45MB/2GB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Qdrant: healthy </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">collections: </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Governance:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Active policies: </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Pending proposals: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️  Expired proposals: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">auto-archived</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Recent approvals: </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">last 24h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Knowledge:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ ADRs: </span><span class="token number" style="color:#36acaa">45</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Patterns: </span><span class="token number" style="color:#36acaa">52</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Policies: </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Git sync: up to </span><span class="token function" style="color:#d73a49">date</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">last sync: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> min ago</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memory:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Total memories: </span><span class="token number" style="color:#36acaa">1,247</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Promoted this week: </span><span class="token number" style="color:#36acaa">89</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Average reward: </span><span class="token number" style="color:#36acaa">0.78</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️  Low-reward memories: </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">candidates </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> pruning</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Users </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> Agents:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Registered users: </span><span class="token number" style="color:#36acaa">127</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Active agents: </span><span class="token number" style="color:#36acaa">45</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✅ Team memberships: </span><span class="token number" style="color:#36acaa">312</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️  Expired agent tokens: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">renewal recommended</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Recommendations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Renew </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> expired agent tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Review </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> expired proposal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Consider pruning </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> low-reward memories</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="cli-command-reference">CLI Command Reference<a href="#cli-command-reference" class="hash-link" aria-label="Direct link to CLI Command Reference" title="Direct link to CLI Command Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-commands">Core Commands<a href="#core-commands" class="hash-link" aria-label="Direct link to Core Commands" title="Direct link to Core Commands" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-and-context">Status and Context<a href="#status-and-context" class="hash-link" aria-label="Direct link to Status and Context" title="Direct link to Status and Context" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Show current status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna status </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna status </span><span class="token parameter variable" style="color:#36acaa">--json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show/set context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna context show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna context </span><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna context </span><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna context </span><span class="token function" style="color:#d73a49">clear</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Quick health check</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna check dependency mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna check --dry-run</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-commands">Memory Commands<a href="#memory-commands" class="hash-link" aria-label="Direct link to Memory Commands" title="Direct link to Memory Commands" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Search memories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory search </span><span class="token string" style="color:#e3116c">&quot;database decisions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory search </span><span class="token string" style="color:#e3116c">&quot;auth&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--last</span><span class="token plain"> 30d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory search </span><span class="token string" style="color:#e3116c">&quot;performance&quot;</span><span class="token plain"> --min-relevance </span><span class="token number" style="color:#36acaa">0.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Browse memories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory browse </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory browse </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--category</span><span class="token plain"> decisions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory browse </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> org </span><span class="token parameter variable" style="color:#36acaa">--page</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Decided to use PostgreSQL&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Use snake_case for APIs&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--tags</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;style,convention&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Promote memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory promote mem_abc123 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--reason</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Team consensus&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory promote mem_def456 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Memory provenance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory where mem_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory attribution mem_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Provide feedback</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory feedback mem_abc123 </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> helpful </span><span class="token parameter variable" style="color:#36acaa">--score</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna memory feedback mem_def456 </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> not-helpful </span><span class="token parameter variable" style="color:#36acaa">--score</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="knowledge-commands">Knowledge Commands<a href="#knowledge-commands" class="hash-link" aria-label="Direct link to Knowledge Commands" title="Direct link to Knowledge Commands" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Search knowledge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge search </span><span class="token string" style="color:#e3116c">&quot;authentication approaches&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge search </span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> adr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge search </span><span class="token string" style="color:#e3116c">&quot;security&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--layers</span><span class="token plain"> company,org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Browse knowledge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge browse </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> adr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge browse </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> pattern </span><span class="token parameter variable" style="color:#36acaa">--layer</span><span class="token plain"> team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge browse </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> policy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Propose knowledge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge propose </span><span class="token string" style="color:#e3116c">&quot;We should use JWT for auth&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> adr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge propose </span><span class="token string" style="color:#e3116c">&quot;API rate limiting pattern&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--type</span><span class="token plain"> pattern</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Explain knowledge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge explain ADR-042</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge explain security-baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Get knowledge item</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge get company/adrs/adr-042.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna knowledge get team/patterns/api-pagination.md</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="policy-commands">Policy Commands<a href="#policy-commands" class="hash-link" aria-label="Direct link to Policy Commands" title="Direct link to Policy Commands" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create policy (interactive)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy create </span><span class="token parameter variable" style="color:#36acaa">--interactive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create policy (non-interactive)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy create </span><span class="token string" style="color:#e3116c">&quot;Block MySQL usage&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project </span><span class="token parameter variable" style="color:#36acaa">--severity</span><span class="token plain"> block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy create </span><span class="token string" style="color:#e3116c">&quot;Require README&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--severity</span><span class="token plain"> warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy list </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy list </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org --include-inherited</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy list </span><span class="token parameter variable" style="color:#36acaa">--severity</span><span class="token plain"> block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy list </span><span class="token parameter variable" style="color:#36acaa">--format</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Explain policy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy explain security-baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy explain no-mysql </span><span class="token parameter variable" style="color:#36acaa">--verbose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Simulate policy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy simulate draft_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy simulate draft_abc123 </span><span class="token parameter variable" style="color:#36acaa">--scenario</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;dependencies&quot;: [&quot;mysql&quot;]}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy simulate draft_abc123 </span><span class="token parameter variable" style="color:#36acaa">--live</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Draft management</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy draft show draft_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy draft list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy draft submit draft_abc123 </span><span class="token parameter variable" style="color:#36acaa">--justification</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Per ADR-042&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy draft delete draft_abc123</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="governance-commands">Governance Commands<a href="#governance-commands" class="hash-link" aria-label="Direct link to Governance Commands" title="Direct link to Governance Commands" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Configure governance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern configure </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org </span><span class="token parameter variable" style="color:#36acaa">--interactive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern configure </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team --policy-approvers tech_lead,architect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern configure </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org --approval-count </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> --review-period 48h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># View governance status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern status </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Manage roles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern roles list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern roles list </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern roles assign alice@acme.com tech_lead </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team:backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern roles revoke alice@acme.com tech_lead </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team:backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Approval workflow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern pending</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern pending </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern approve prop_abc123 </span><span class="token parameter variable" style="color:#36acaa">--comment</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;LGTM&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern reject prop_abc123 </span><span class="token parameter variable" style="color:#36acaa">--reason</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Needs revision&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Audit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern audit </span><span class="token parameter variable" style="color:#36acaa">--last</span><span class="token plain"> 7d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern audit </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> company </span><span class="token parameter variable" style="color:#36acaa">--from</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-01 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-01-31</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern audit </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org --event-type policy_approved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern audit </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team </span><span class="token parameter variable" style="color:#36acaa">--format</span><span class="token plain"> csv </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> audit.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna govern audit </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> company </span><span class="token parameter variable" style="color:#36acaa">--format</span><span class="token plain"> json </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq </span><span class="token string" style="color:#e3116c">&#x27;.events[]&#x27;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="organization-management">Organization Management<a href="#organization-management" class="hash-link" aria-label="Direct link to Organization Management" title="Direct link to Organization Management" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Initialize company</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna init </span><span class="token parameter variable" style="color:#36acaa">--company</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Acme Corp&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--admin</span><span class="token plain"> admin@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna init </span><span class="token parameter variable" style="color:#36acaa">--company</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Acme&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--governance</span><span class="token plain"> strict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create organization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Platform Engineering&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna org create </span><span class="token string" style="color:#e3116c">&quot;Product&quot;</span><span class="token plain"> --inherit-from platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create team</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna team create </span><span class="token string" style="color:#e3116c">&quot;API Team&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna team create </span><span class="token string" style="color:#e3116c">&quot;Backend&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> engineering </span><span class="token parameter variable" style="color:#36acaa">--lead</span><span class="token plain"> alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna project init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna project init </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna project init </span><span class="token parameter variable" style="color:#36acaa">--path</span><span class="token plain"> /path/to/repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># User management</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna user register </span><span class="token parameter variable" style="color:#36acaa">--email</span><span class="token plain"> bob@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna user register </span><span class="token parameter variable" style="color:#36acaa">--email</span><span class="token plain"> carol@acme.com </span><span class="token parameter variable" style="color:#36acaa">--teams</span><span class="token plain"> api-team,data-team </span><span class="token parameter variable" style="color:#36acaa">--role</span><span class="token plain"> developer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna user list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna user list </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna user </span><span class="token function" style="color:#d73a49">whoami</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Agent management</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna agent register </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;code-assistant&quot;</span><span class="token plain"> --delegated-by alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna agent register --agent-id </span><span class="token string" style="color:#e3116c">&quot;agent:ci-bot&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project --max-severity warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna agent list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna agent list </span><span class="token parameter variable" style="color:#36acaa">--user</span><span class="token plain"> alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna agent revoke agent:opencode-alice</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-commands">Admin Commands<a href="#admin-commands" class="hash-link" aria-label="Direct link to Admin Commands" title="Direct link to Admin Commands" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Health check</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin health </span><span class="token parameter variable" style="color:#36acaa">--verbose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Validate all policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin validate </span><span class="token parameter variable" style="color:#36acaa">--all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin validate </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin validate </span><span class="token parameter variable" style="color:#36acaa">--policy</span><span class="token plain"> security-baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Migration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin migrate </span><span class="token parameter variable" style="color:#36acaa">--from</span><span class="token plain"> v1 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> v2 --dry-run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin migrate </span><span class="token parameter variable" style="color:#36acaa">--from</span><span class="token plain"> v1 </span><span class="token parameter variable" style="color:#36acaa">--to</span><span class="token plain"> v2 </span><span class="token parameter variable" style="color:#36acaa">--execute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Export/Import</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin </span><span class="token builtin class-name">export</span><span class="token plain"> policies </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> company </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> policies.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin </span><span class="token builtin class-name">export</span><span class="token plain"> policies </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org </span><span class="token parameter variable" style="color:#36acaa">--format</span><span class="token plain"> yaml </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> org-policies.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin </span><span class="token function" style="color:#d73a49">import</span><span class="token plain"> policies </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> policies.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin </span><span class="token function" style="color:#d73a49">import</span><span class="token plain"> knowledge </span><span class="token parameter variable" style="color:#36acaa">--from</span><span class="token plain"> ./knowledge-export/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Drift detection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin drift </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin drift </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> org </span><span class="token parameter variable" style="color:#36acaa">--threshold</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna admin drift </span><span class="token parameter variable" style="color:#36acaa">--all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Sync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"> --memory-knowledge</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-scenarios">Integration Scenarios<a href="#integration-scenarios" class="hash-link" aria-label="Direct link to Integration Scenarios" title="Direct link to Integration Scenarios" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cicd-integration">CI/CD Integration<a href="#cicd-integration" class="hash-link" aria-label="Direct link to CI/CD Integration" title="Direct link to CI/CD Integration" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="github-actions-example">GitHub Actions Example<a href="#github-actions-example" class="hash-link" aria-label="Direct link to GitHub Actions Example" title="Direct link to GitHub Actions Example" translate="no">​</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Aeterna Governance Check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pull_request</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">governance-check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Setup Aeterna CLI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          curl -sSL https://get.aeterna.dev | sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Context Resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">AETERNA_API_URL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.AETERNA_API_URL </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">AETERNA_AGENT_ID</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">ci</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">AETERNA_AGENT_TOKEN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.AETERNA_AGENT_TOKEN </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          aeterna context show</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Check Dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          # Extract dependencies and check each</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          cat package.json | jq -r &#x27;.dependencies | keys[]&#x27; | while read dep; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            if ! aeterna check dependency &quot;$dep&quot;; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              echo &quot;::error::Dependency $dep violates policy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Validate Against Policies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          aeterna check --all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Post Results to PR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">if</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> failure()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/github</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">script@v7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            github.rest.issues.createComment({</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              issue_number: context.issue.number,</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              owner: context.repo.owner,</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              repo: context.repo.repo,</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              body: &#x27;❌ Governance check failed. See logs for details.&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            })</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="gitlab-ci-example">GitLab CI Example<a href="#gitlab-ci-example" class="hash-link" aria-label="Direct link to GitLab CI Example" title="Direct link to GitLab CI Example" translate="no">​</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">governance_check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aeterna/cli</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">variables</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">AETERNA_API_URL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $AETERNA_API_URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">AETERNA_AGENT_ID</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">ci</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">AETERNA_AGENT_TOKEN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $AETERNA_AGENT_TOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> aeterna context show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> aeterna check </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> aeterna admin drift </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scope project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">only</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> merge_requests</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ai-assistant-integration">AI Assistant Integration<a href="#ai-assistant-integration" class="hash-link" aria-label="Direct link to AI Assistant Integration" title="Direct link to AI Assistant Integration" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="opencode-plugin">OpenCode Plugin<a href="#opencode-plugin" class="hash-link" aria-label="Direct link to OpenCode Plugin" title="Direct link to OpenCode Plugin" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// .opencode/config.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> AeternaPlugin </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@kiko-aeterna/opencode-plugin&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AeternaPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      apiUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">AETERNA_API_URL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      agentId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;agent:opencode-alice&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      agentToken</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">AETERNA_AGENT_TOKEN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Auto-inject context into agent prompts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      autoInjectContext</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Check policies before code generation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      policyCheckBeforeGeneration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Add memories after successful tasks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      autoMemoryCapture</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Search knowledge for relevant ADRs/patterns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      knowledgeSearchEnabled</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="agent-workflow">Agent Workflow<a href="#agent-workflow" class="hash-link" aria-label="Direct link to Agent Workflow" title="Direct link to Agent Workflow" translate="no">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Example: AI agent autonomously managing governance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">agent_workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user_request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Step 1: Search for relevant knowledge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    knowledge </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> aeterna_knowledge_search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        layers</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;project&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;team&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;org&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;company&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Step 2: Search for relevant memories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memories </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> aeterna_memory_search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        layers</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;auto&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># All accessible layers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Step 3: Generate code with context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> generate_code</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        knowledge_context</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">knowledge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memory_context</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">memories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Step 4: Check policies before returning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    validation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> aeterna_check</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dependencies</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">extract_dependencies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> validation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">has_blocking_violations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Explain violation and regenerate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Cannot proceed: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">validation</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">blocking_message</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Step 5: Add memory about decision</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> code_quality_high</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> aeterna_memory_add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            content</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Successfully implemented </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user_request</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            layer</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;session&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tags</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;success&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;implementation&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> code</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pre-commit-hook">Pre-Commit Hook<a href="#pre-commit-hook" class="hash-link" aria-label="Direct link to Pre-Commit Hook" title="Direct link to Pre-Commit Hook" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># .git/hooks/pre-commit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check if Aeterna is available</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> </span><span class="token builtin class-name">command</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-v</span><span class="token plain"> aeterna </span><span class="token operator" style="color:#393A34">&amp;&gt;</span><span class="token plain"> /dev/null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Aeterna CLI not found, skipping governance check&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Running Aeterna governance check...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Get staged files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">STAGED_FILES</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">git</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">diff</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable parameter variable" style="color:#36acaa">--cached</span><span class="token variable" style="color:#36acaa"> --name-only --diff-filter</span><span class="token variable operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">ACM</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check dependencies if package.json changed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$STAGED_FILES</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-q</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;package.json&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Checking dependencies...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> aeterna check --dependencies</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;❌ Dependency check failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Check policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> aeterna check --staged</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;❌ Policy check failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Override with: git commit --no-verify&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;✅ Governance check passed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-topics">Advanced Topics<a href="#advanced-topics" class="hash-link" aria-label="Direct link to Advanced Topics" title="Direct link to Advanced Topics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="natural-language-to-cedar-translation">Natural Language to Cedar Translation<a href="#natural-language-to-cedar-translation" class="hash-link" aria-label="Direct link to Natural Language to Cedar Translation" title="Direct link to Natural Language to Cedar Translation" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     TRANSLATION PIPELINE                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  INPUT: &quot;Block MySQL in this project&quot;                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Step 1: Intent Extraction (LLM)                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Prompt: Extract policy intent from natural language                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Output: {                                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    &quot;action&quot;: &quot;deny&quot;,                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    &quot;target_type&quot;: &quot;dependency&quot;,                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    &quot;target_value&quot;: &quot;mysql&quot;,                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│    &quot;severity&quot;: &quot;block&quot;                                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  }                                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Step 2: Cedar Generation                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ━━━━━━━━━━━━━━━━━━━━━━━━━                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Template match: Deny + Dependency → Use forbid() pattern                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Output: forbid(                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            principal,                                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            action == Action::&quot;UseDependency&quot;,                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            resource                                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          )                                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          when {                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            resource.dependency == &quot;mysql&quot;                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          };                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Step 3: Validation                                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ━━━━━━━━━━━━━━━━━━                                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Cedar parser: ✅ Syntax valid                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Schema check: ✅ Compliant                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Conflict check: ⚠️  Warning: Consider blocking mysql2, mariadb as well      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Step 4: Human-Readable Explanation (LLM)                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Prompt: Explain this Cedar policy in plain English                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Output: &quot;This policy blocks any code that uses MySQL as a dependency.       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           Violations will prevent the action from proceeding.&quot;               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  OUTPUT: PolicyDraft (ready for review and proposal)                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-translation-patterns">Common Translation Patterns<a href="#common-translation-patterns" class="hash-link" aria-label="Direct link to Common Translation Patterns" title="Direct link to Common Translation Patterns" translate="no">​</a></h4>






























<table><thead><tr><th>Natural Language</th><th>Structured Intent</th><th>Cedar Template</th></tr></thead><tbody><tr><td>&quot;Block MySQL&quot;</td><td><code>{action: deny, target: dependency, value: &quot;mysql&quot;}</code></td><td><code>forbid() when { resource.dependency == &quot;mysql&quot; }</code></td></tr><tr><td>&quot;Require README&quot;</td><td><code>{action: allow, target: file, value: &quot;README.md&quot;, condition: must_exist}</code></td><td><code>permit() when { file.exists(&quot;README.md&quot;) }</code></td></tr><tr><td>&quot;No console.log in production&quot;</td><td><code>{action: deny, target: code, pattern: &quot;console\\.log&quot;}</code></td><td><code>forbid() when { code.matches(&quot;console\\.log&quot;) }</code></td></tr><tr><td>&quot;Only architects can approve&quot;</td><td><code>{action: allow, principal: role, value: &quot;architect&quot;}</code></td><td><code>permit() when { principal.role == Role::&quot;Architect&quot; }</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="meta-governance-policies-about-policies">Meta-Governance: Policies About Policies<a href="#meta-governance-policies-about-policies" class="hash-link" aria-label="Direct link to Meta-Governance: Policies About Policies" title="Direct link to Meta-Governance: Policies About Policies" translate="no">​</a></h3>
<p>Meta-governance defines <strong>who can create, approve, and enforce policies</strong>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-company-level-meta-governance">Example: Company-Level Meta-Governance<a href="#example-company-level-meta-governance" class="hash-link" aria-label="Direct link to Example: Company-Level Meta-Governance" title="Direct link to Example: Company-Level Meta-Governance" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern configure </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> company </span><span class="token parameter variable" style="color:#36acaa">--interactive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">🔧 Meta-Governance Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Who can propose company-level policies?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">architects, admins</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: admins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Who can approve company-level policies?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">architect, admin</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Required approvers: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Auto-approve </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> roles: none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Review period </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hours</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">72</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">What happens </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> no response?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">escalate, auto-reject</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: escalate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Escalate to: ceo@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Save? </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Meta-governance configured</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Effective rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Only admins can propose company policies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Requires </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> admin approvals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- </span><span class="token number" style="color:#36acaa">72</span><span class="token plain">-hour review period</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Auto-escalates to CEO </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> no response</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cedar-meta-policy-example">Cedar Meta-Policy Example<a href="#cedar-meta-policy-example" class="hash-link" aria-label="Direct link to Cedar Meta-Policy Example" title="Direct link to Cedar Meta-Policy Example" translate="no">​</a></h4>
<div class="language-cedar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cedar codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Meta-policy: Only admins can configure governance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">permit(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  action == Action::&quot;ConfigureGovernance&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">when {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal.role == Role::&quot;Admin&quot; &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal.scope.contains(resource.scope)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Meta-policy: Agents cannot approve blocking policies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">forbid(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal is Agent,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  action == Action::&quot;ApprovePolicy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">when {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource.policy.severity == Severity::&quot;Block&quot; &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  !resource.has_human_confirmation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Meta-policy: Company policies require admin approval</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">permit(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  action == Action::&quot;ApprovePolicy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">when {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource.scope == Scope::&quot;Company&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">only_if {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal.role == Role::&quot;Admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="context-resolution-deep-dive">Context Resolution Deep Dive<a href="#context-resolution-deep-dive" class="hash-link" aria-label="Direct link to Context Resolution Deep Dive" title="Direct link to Context Resolution Deep Dive" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="resolution-priority-order">Resolution Priority Order<a href="#resolution-priority-order" class="hash-link" aria-label="Direct link to Resolution Priority Order" title="Direct link to Resolution Priority Order" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Explicit CLI flags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --company acme --org platform --team api --project payments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓ HIGHEST PRECEDENCE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   AETERNA_COMPANY=acme</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   AETERNA_ORG=platform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   AETERNA_TEAM=api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   AETERNA_PROJECT=payments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Local context file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   .aeterna/context.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Parent directory traversal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Walk up from current dir looking for .aeterna/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Git remote detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   git remote -v → github.com/acme/payments-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. Git user detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   git config user.email → alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. SSO/JWT claims</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   JWT token → { company: &quot;acme&quot;, email: &quot;alice@acme.com&quot; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8. Interactive prompt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Ask user to select company/org/team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓ LOWEST PRECEDENCE</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="context-file-schema">Context File Schema<a href="#context-file-schema" class="hash-link" aria-label="Direct link to Context File Schema" title="Direct link to Context File Schema" translate="no">​</a></h4>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># .aeterna/context.toml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">context</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">company</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;acme-corp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">org</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;platform-engineering&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">team</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;api-team&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">project</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;payments-service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">user</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">email</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;alice@acme.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">agent</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Populated if running as agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">id</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;agent:opencode-alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">delegated_by</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;alice@acme.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">defaults</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">memory_layer</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;project&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">policy_scope</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;project&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">auto_sync</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">overrides</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Override auto-detection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># team = &quot;backend-team&quot;  # Uncomment to force team context</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="git-remote-mapping">Git Remote Mapping<a href="#git-remote-mapping" class="hash-link" aria-label="Direct link to Git Remote Mapping" title="Direct link to Git Remote Mapping" translate="no">​</a></h4>
<p>Aeterna maps git remote URLs to organizational structure:</p>





















<table><thead><tr><th>Git Remote</th><th>Detected Context</th></tr></thead><tbody><tr><td><code>github.com/acme/payments-service</code></td><td>company: acme, project: payments-service</td></tr><tr><td><code>gitlab.com/acme-corp/platform/api-team/gateway</code></td><td>company: acme-corp, org: platform, team: api-team, project: gateway</td></tr><tr><td><code>bitbucket.org/acme/data/analytics-pipeline</code></td><td>company: acme, org: data, project: analytics-pipeline</td></tr></tbody></table>
<p>Patterns are configurable in OPAL Server.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-context-resolution-fails">Issue: Context Resolution Fails<a href="#issue-context-resolution-fails" class="hash-link" aria-label="Direct link to Issue: Context Resolution Fails" title="Direct link to Issue: Context Resolution Fails" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ERROR: Unable to resolve context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Possible causes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">. Not </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> a </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">. No .aeterna/context.toml found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">. Git remote not mapped to organization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">. Environment variables not </span><span class="token builtin class-name">set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solutions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 1: Initialize project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna project init </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> api-team</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 2: Set context explicitly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna context </span><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--company</span><span class="token plain"> acme </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> platform </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 3: Use environment variables</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_COMPANY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">acme</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_ORG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">platform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_TEAM</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 4: Use CLI flags</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna status </span><span class="token parameter variable" style="color:#36acaa">--company</span><span class="token plain"> acme </span><span class="token parameter variable" style="color:#36acaa">--org</span><span class="token plain"> platform </span><span class="token parameter variable" style="color:#36acaa">--team</span><span class="token plain"> api</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-policy-validation-fails">Issue: Policy Validation Fails<a href="#issue-policy-validation-fails" class="hash-link" aria-label="Direct link to Issue: Policy Validation Fails" title="Direct link to Issue: Policy Validation Fails" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy create </span><span class="token string" style="color:#e3116c">&quot;Block MySQL&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ERROR: Policy validation failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Validation errors:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • Schema error: Unknown attribute </span><span class="token string" style="color:#e3116c">&#x27;dep&#x27;</span><span class="token plain"> on resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">: resource.dep </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mysql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Suggestion: Did you mean </span><span class="token string" style="color:#e3116c">&#x27;dependency&#x27;</span><span class="token plain">?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  The natural language translator made an error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Try being </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> specific:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna policy create </span><span class="token string" style="color:#e3116c">&quot;Block MySQL database dependency&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> project</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-approval-workflow-stuck">Issue: Approval Workflow Stuck<a href="#issue-approval-workflow-stuck" class="hash-link" aria-label="Direct link to Issue: Approval Workflow Stuck" title="Direct link to Issue: Approval Workflow Stuck" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern pending</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You have </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> pending approval:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">POLICY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> prop_abc123 - </span><span class="token string" style="color:#e3116c">&quot;Require 2FA&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Status: PENDING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Created: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> days ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Expires: EXPIRED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Required approvers: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Current approvals: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna govern status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⚠️  Warning: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> expired proposal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 1: Manually approve (if authorized)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna govern approve prop_abc123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 2: Reject and re-propose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna govern reject prop_abc123 </span><span class="token parameter variable" style="color:#36acaa">--reason</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Expired, will re-propose&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Option 3: Configure auto-escalation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna govern configure </span><span class="token parameter variable" style="color:#36acaa">--scope</span><span class="token plain"> team --auto-escalate-after 48h</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-agent-token-expired">Issue: Agent Token Expired<a href="#issue-agent-token-expired" class="hash-link" aria-label="Direct link to Issue: Agent Token Expired" title="Direct link to Issue: Agent Token Expired" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ERROR: Agent authentication failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reason: Token expired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Renew agent token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna agent renew agent:opencode-alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Or register new agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna agent register </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;code-assistant&quot;</span><span class="token plain"> --delegated-by alice@acme.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Update environment variable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_AGENT_TOKEN</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&lt;new-token&gt;&quot;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-opal-sync-failure">Issue: OPAL Sync Failure<a href="#issue-opal-sync-failure" class="hash-link" aria-label="Direct link to Issue: OPAL Sync Failure" title="Direct link to Issue: OPAL Sync Failure" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⚠️  Warning: OPAL Server unreachable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna admin health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ OPAL Server: connection refused</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Check OPAL Server status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://opal-server:8181/health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Check network connectivity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ping</span><span class="token plain"> opal-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Verify configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> ~/.aeterna/config.toml </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> opal_url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Update OPAL URL if needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aeterna config </span><span class="token builtin class-name">set</span><span class="token plain"> opal_url </span><span class="token string" style="color:#e3116c">&quot;https://opal.acme.com&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="debugging-tips">Debugging Tips<a href="#debugging-tips" class="hash-link" aria-label="Direct link to Debugging Tips" title="Direct link to Debugging Tips" translate="no">​</a></h3>
<p><strong>Enable verbose logging:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AETERNA_LOG_LEVEL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">debug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aeterna policy create </span><span class="token string" style="color:#e3116c">&quot;Block MySQL&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--verbose</span><br></span></code></pre></div></div>
<p><strong>Check Cedar Agent sync status:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna admin health </span><span class="token parameter variable" style="color:#36acaa">--component</span><span class="token plain"> cedar-agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cedar Agent Status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Connected to OPAL: ✅</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Last sync: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> minutes ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Synced policies: </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Synced data: companies </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, orgs </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, teams </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token function" style="color:#d73a49">users</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">127</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subscribed topics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - company:acme-corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - org:platform-engineering</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - team:api-team</span><br></span></code></pre></div></div>
<p><strong>View raw Cedar policy:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy draft show draft_abc123 </span><span class="token parameter variable" style="color:#36acaa">--format</span><span class="token plain"> cedar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">forbid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  principal,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  action </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> Action::</span><span class="token string" style="color:#e3116c">&quot;UseDependency&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">when </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resource.dependency </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mysql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Test policy simulation manually:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ aeterna policy simulate draft_abc123 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--scenario</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;dependencies&quot;: [&quot;mysql&quot;, &quot;pg&quot;, &quot;redis&quot;]}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter variable" style="color:#36acaa">--verbose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Simulation Results:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scenario: custom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Context:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dependencies: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;mysql&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;pg&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;redis&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Policy Evaluation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Rule: forbid-mysql-dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Target: dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Operator: </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Value: </span><span class="token string" style="color:#e3116c">&quot;mysql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Match: dependencies</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mysql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Result: VIOLATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Outcome: BLOCK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Violations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  • MySQL dependency is prohibited </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">severity: block</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Aeterna&#x27;s UX-First Governance revolutionizes enterprise policy management by:</p>
<ol>
<li class=""><strong>Eliminating complexity</strong>: Natural language instead of Cedar DSL</li>
<li class=""><strong>Zero-config onboarding</strong>: Auto-detect context, initialize in seconds</li>
<li class=""><strong>Real-time sync</strong>: OPAL + Cedar Agent keep policies consistent globally</li>
<li class=""><strong>AI-first design</strong>: Agents propose, simulate, and manage governance autonomously</li>
<li class=""><strong>Meta-governance</strong>: Policies about policies ensure proper oversight</li>
<li class=""><strong>Complete audit trail</strong>: Every action logged from intent to enforcement</li>
</ol>
<p><strong>The result</strong>: Governance becomes an enabler, not a blocker. Developers stay in flow, architects maintain standards, and AI agents operate with safety guardrails.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">​</a></h2>
<ul>
<li class=""><strong>For Developers</strong>: Run <code>aeterna status</code> and explore your current context</li>
<li class=""><strong>For Tech Leads</strong>: Configure team governance with <code>aeterna govern configure</code></li>
<li class=""><strong>For Architects</strong>: Create org-wide policies with <code>aeterna policy create</code></li>
<li class=""><strong>For Admins</strong>: Bootstrap your organization with <code>aeterna init</code></li>
</ul>
<p><strong>Need help?</strong></p>
<ul>
<li class="">Documentation: <a href="https://docs.aeterna.dev" target="_blank" rel="noopener noreferrer" class="">https://docs.aeterna.dev</a></li>
<li class="">Community: <a href="https://discord.gg/aeterna" target="_blank" rel="noopener noreferrer" class="">https://discord.gg/aeterna</a></li>
<li class="">Support: <a href="mailto:support@aeterna.dev" target="_blank" rel="noopener noreferrer" class="">support@aeterna.dev</a></li>
</ul>
<hr>
<p><strong>Document Version</strong>: 1.0.0
<strong>Last Updated</strong>: January 2024
<strong>Change</strong>: add-ux-first-governance</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/kikokikok/aeterna/tree/main/website/docs/guides/ux-first-governance.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/aeterna/docs/governance/troubleshooting"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Governance System Troubleshooting Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aeterna/docs/guides/agent-governance-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Agent Developer Guide: Governance Integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#executive-summary" class="table-of-contents__link toc-highlight">Executive Summary</a><ul><li><a href="#the-problem" class="table-of-contents__link toc-highlight">The Problem</a></li><li><a href="#what-is-ux-first-governance" class="table-of-contents__link toc-highlight">What is UX-First Governance?</a></li><li><a href="#key-capabilities" class="table-of-contents__link toc-highlight">Key Capabilities</a></li><li><a href="#success-metrics" class="table-of-contents__link toc-highlight">Success Metrics</a></li></ul></li><li><a href="#architecture-overview" class="table-of-contents__link toc-highlight">Architecture Overview</a><ul><li><a href="#system-layers" class="table-of-contents__link toc-highlight">System Layers</a></li><li><a href="#opal-the-organizational-referential" class="table-of-contents__link toc-highlight">OPAL: The Organizational Referential</a></li><li><a href="#governance-flow-diagram" class="table-of-contents__link toc-highlight">Governance Flow Diagram</a></li></ul></li><li><a href="#core-concepts" class="table-of-contents__link toc-highlight">Core Concepts</a><ul><li><a href="#memory-layer-hierarchy" class="table-of-contents__link toc-highlight">Memory Layer Hierarchy</a></li><li><a href="#knowledge-layers" class="table-of-contents__link toc-highlight">Knowledge Layers</a></li><li><a href="#roles-and-permissions" class="table-of-contents__link toc-highlight">Roles and Permissions</a></li><li><a href="#approval-workflow-state-machine" class="table-of-contents__link toc-highlight">Approval Workflow State Machine</a></li><li><a href="#organization-structure" class="table-of-contents__link toc-highlight">Organization Structure</a></li></ul></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#quick-start-5-minutes" class="table-of-contents__link toc-highlight">Quick Start (5 Minutes)</a></li></ul></li><li><a href="#persona-workflows" class="table-of-contents__link toc-highlight">Persona Workflows</a><ul><li><a href="#developer-workflow" class="table-of-contents__link toc-highlight">Developer Workflow</a></li><li><a href="#tech-lead-workflow" class="table-of-contents__link toc-highlight">Tech Lead Workflow</a></li><li><a href="#architect-workflow" class="table-of-contents__link toc-highlight">Architect Workflow</a></li><li><a href="#admin-workflow" class="table-of-contents__link toc-highlight">Admin Workflow</a></li></ul></li><li><a href="#cli-command-reference" class="table-of-contents__link toc-highlight">CLI Command Reference</a><ul><li><a href="#core-commands" class="table-of-contents__link toc-highlight">Core Commands</a></li></ul></li><li><a href="#integration-scenarios" class="table-of-contents__link toc-highlight">Integration Scenarios</a><ul><li><a href="#cicd-integration" class="table-of-contents__link toc-highlight">CI/CD Integration</a></li><li><a href="#ai-assistant-integration" class="table-of-contents__link toc-highlight">AI Assistant Integration</a></li><li><a href="#pre-commit-hook" class="table-of-contents__link toc-highlight">Pre-Commit Hook</a></li></ul></li><li><a href="#advanced-topics" class="table-of-contents__link toc-highlight">Advanced Topics</a><ul><li><a href="#natural-language-to-cedar-translation" class="table-of-contents__link toc-highlight">Natural Language to Cedar Translation</a></li><li><a href="#meta-governance-policies-about-policies" class="table-of-contents__link toc-highlight">Meta-Governance: Policies About Policies</a></li><li><a href="#context-resolution-deep-dive" class="table-of-contents__link toc-highlight">Context Resolution Deep Dive</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li><li><a href="#debugging-tips" class="table-of-contents__link toc-highlight">Debugging Tips</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/aeterna/docs/">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kikokikok/aeterna" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Aeterna Contributors.</div></div></div></footer></div>
</body>
</html>