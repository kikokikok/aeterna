"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7912],{9211(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"governance/drift-tuning","title":"Drift Detection Tuning Guide","description":"This guide explains how to configure and tune drift detection in the Aeterna governance system for optimal accuracy and reduced noise.","source":"@site/docs/governance/drift-tuning.md","sourceDirName":"governance","slug":"/governance/drift-tuning","permalink":"/aeterna/docs/governance/drift-tuning","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/governance/drift-tuning.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Governance Deployment Guide","permalink":"/aeterna/docs/governance/deployment-guide"},"next":{"title":"Governance System Troubleshooting Guide","permalink":"/aeterna/docs/governance/troubleshooting"}}');var r=i(4848),t=i(8453);const d={},l="Drift Detection Tuning Guide",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Concepts",id:"concepts",level:2},{value:"Drift Score",id:"drift-score",level:3},{value:"Confidence Score",id:"confidence-score",level:3},{value:"Suppression Rules",id:"suppression-rules",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Per-Project Drift Threshold",id:"per-project-drift-threshold",level:3},{value:"Configuration Options",id:"configuration-options",level:4},{value:"Suppression Rules",id:"suppression-rules-1",level:3},{value:"Suppression Rule Fields",id:"suppression-rule-fields",level:4},{value:"List Suppressions",id:"list-suppressions",level:3},{value:"Delete Suppression",id:"delete-suppression",level:3},{value:"Confidence Scoring",id:"confidence-scoring",level:2},{value:"How Confidence is Calculated",id:"how-confidence-is-calculated",level:3},{value:"Low Confidence Handling",id:"low-confidence-handling",level:3},{value:"Manual Review Workflow",id:"manual-review-workflow",level:3},{value:"Drift Reports",id:"drift-reports",level:2},{value:"Report Fields",id:"report-fields",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Endpoints",id:"endpoints",level:3},{value:"Data Types",id:"data-types",level:3},{value:"DriftConfig",id:"driftconfig",level:4},{value:"DriftSuppression",id:"driftsuppression",level:4},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Start with Conservative Thresholds",id:"1-start-with-conservative-thresholds",level:3},{value:"2. Document Suppression Reasons",id:"2-document-suppression-reasons",level:3},{value:"3. Set Expiration Dates",id:"3-set-expiration-dates",level:3},{value:"4. Review Low-Confidence Results",id:"4-review-low-confidence-results",level:3},{value:"5. Monitor Suppression Growth",id:"5-monitor-suppression-growth",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"High False Positive Rate",id:"high-false-positive-rate",level:3},{value:"Low Confidence Scores",id:"low-confidence-scores",level:3},{value:"Suppression Rules Not Matching",id:"suppression-rules-not-matching",level:3},{value:"Migration from Previous Versions",id:"migration-from-previous-versions",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"drift-detection-tuning-guide",children:"Drift Detection Tuning Guide"})}),"\n",(0,r.jsx)(n.p,{children:"This guide explains how to configure and tune drift detection in the Aeterna governance system for optimal accuracy and reduced noise."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Drift detection identifies when project code or configurations deviate from established policies. However, not all detected drifts are actionable\u2014some are false positives, expected exceptions, or low-confidence results that require manual review."}),"\n",(0,r.jsx)(n.p,{children:"The drift tuning system provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Suppression rules"})," to filter out known exceptions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Confidence scoring"})," to identify uncertain detections"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configurable thresholds"})," per project"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manual review flagging"})," for ambiguous cases"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"concepts",children:"Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"drift-score",children:"Drift Score"}),"\n",(0,r.jsx)(n.p,{children:"A value between 0.0 and 1.0 indicating the degree of policy deviation:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Score Range"}),(0,r.jsx)(n.th,{children:"Interpretation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.0 - 0.2"}),(0,r.jsx)(n.td,{children:"No significant drift"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.2 - 0.5"}),(0,r.jsx)(n.td,{children:"Minor drift, review recommended"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.5 - 0.8"}),(0,r.jsx)(n.td,{children:"Moderate drift, action needed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.8 - 1.0"}),(0,r.jsx)(n.td,{children:"Severe drift, immediate attention"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"confidence-score",children:"Confidence Score"}),"\n",(0,r.jsx)(n.p,{children:"A value between 0.0 and 1.0 indicating how certain the system is about the drift detection:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Score Range"}),(0,r.jsx)(n.th,{children:"Interpretation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.9 - 1.0"}),(0,r.jsx)(n.td,{children:"High confidence (rule-based detection)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.75 - 0.9"}),(0,r.jsx)(n.td,{children:"Medium confidence (semantic analysis)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.0 - 0.75"}),(0,r.jsx)(n.td,{children:"Low confidence (requires manual review)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"suppression-rules",children:"Suppression Rules"}),"\n",(0,r.jsx)(n.p,{children:"Rules that filter out expected or known violations from drift reports. Useful for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Legacy code with approved exceptions"}),"\n",(0,r.jsx)(n.li,{children:"Third-party dependencies with known patterns"}),"\n",(0,r.jsx)(n.li,{children:"Environment-specific configurations"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"per-project-drift-threshold",children:"Per-Project Drift Threshold"}),"\n",(0,r.jsx)(n.p,{children:"Configure the drift threshold for each project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Set drift threshold via API\ncurl -X PUT "http://localhost:8080/api/v1/governance/drift-config/my-project" \\\n  -H "Content-Type: application/json" \\\n  -H "X-Tenant-Id: acme-corp" \\\n  -d \'{\n    "threshold": 0.3,\n    "auto_suppress_info": true\n  }\'\n'})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-options",children:"Configuration Options"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"threshold"})}),(0,r.jsx)(n.td,{children:"f32"}),(0,r.jsx)(n.td,{children:"0.2"}),(0,r.jsx)(n.td,{children:"Drift score threshold for alerts"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auto_suppress_info"})}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"Automatically suppress INFO severity violations"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"suppression-rules-1",children:"Suppression Rules"}),"\n",(0,r.jsx)(n.p,{children:"Create suppression rules to filter known exceptions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create a suppression rule\ncurl -X POST "http://localhost:8080/api/v1/governance/suppressions" \\\n  -H "Content-Type: application/json" \\\n  -H "X-Tenant-Id: acme-corp" \\\n  -d \'{\n    "project_id": "my-project",\n    "policy_id": "security-policy",\n    "rule_pattern": "lodash.*version",\n    "reason": "Legacy dependency approved in ADR-042",\n    "expires_at": 1735689600\n  }\'\n'})}),"\n",(0,r.jsx)(n.h4,{id:"suppression-rule-fields",children:"Suppression Rule Fields"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"project_id"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Project to apply suppression to"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"policy_id"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Policy ID whose violations to suppress"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rule_pattern"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Regex pattern to match violation messages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reason"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Explanation for the suppression"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expires_at"})}),(0,r.jsx)(n.td,{children:"i64"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Unix timestamp when suppression expires"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"list-suppressions",children:"List Suppressions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# List all suppressions for a project\ncurl "http://localhost:8080/api/v1/governance/suppressions/my-project" \\\n  -H "X-Tenant-Id: acme-corp"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Response:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "suppressions": [\n    {\n      "id": "sup-123",\n      "project_id": "my-project",\n      "policy_id": "security-policy",\n      "rule_pattern": "lodash.*version",\n      "reason": "Legacy dependency approved in ADR-042",\n      "created_at": 1704067200,\n      "expires_at": 1735689600\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"delete-suppression",children:"Delete Suppression"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X DELETE "http://localhost:8080/api/v1/governance/suppressions/sup-123" \\\n  -H "X-Tenant-Id: acme-corp"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"confidence-scoring",children:"Confidence Scoring"}),"\n",(0,r.jsx)(n.h3,{id:"how-confidence-is-calculated",children:"How Confidence is Calculated"}),"\n",(0,r.jsx)(n.p,{children:"The drift detection system assigns confidence scores based on the detection method:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Detection Method"}),(0,r.jsx)(n.th,{children:"Base Confidence"}),(0,r.jsx)(n.th,{children:"Rationale"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Rule-based (exact match)"}),(0,r.jsx)(n.td,{children:"1.0"}),(0,r.jsx)(n.td,{children:"Deterministic pattern matching"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Semantic (embedding similarity)"}),(0,r.jsx)(n.td,{children:"0.85"}),(0,r.jsx)(n.td,{children:"Vector similarity may have false positives"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LLM-based (reasoning)"}),(0,r.jsx)(n.td,{children:"0.75"}),(0,r.jsx)(n.td,{children:"Model interpretation can vary"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"low-confidence-handling",children:"Low Confidence Handling"}),"\n",(0,r.jsx)(n.p,{children:"When confidence drops below 0.7, the drift result is flagged for manual review:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct DriftResult {\n    pub project_id: String,\n    pub drift_score: f32,\n    pub confidence: f32,               // 0.0 - 1.0\n    pub violations: Vec<PolicyViolation>,\n    pub suppressed_violations: Vec<PolicyViolation>,\n    pub requires_manual_review: bool,  // true if confidence < 0.7\n    pub timestamp: i64,\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"manual-review-workflow",children:"Manual Review Workflow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Weekly drift reports identify items requiring manual review"}),"\n",(0,r.jsx)(n.li,{children:"Reviewers assess flagged violations"}),"\n",(0,r.jsx)(n.li,{children:"Legitimate violations are addressed; false positives become suppression rules"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"drift-reports",children:"Drift Reports"}),"\n",(0,r.jsx)(n.p,{children:"Weekly drift reports now include tuning information:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Weekly Governance Report - 2025-01-15\n=====================================\n\nSummary:\n- Total Projects Analyzed: 42\n- Active Violations: 15\n- Suppressed Violations: 8\n- Manual Review Required: 3\n\nProjects Requiring Attention:\n- payments-service: drift=0.45, confidence=0.92, violations=5\n- auth-service: drift=0.32, confidence=0.68 (REVIEW)\n- gateway-api: drift=0.28, confidence=0.95, violations=2\n"})}),"\n",(0,r.jsx)(n.h3,{id:"report-fields",children:"Report Fields"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"active_violation_count"})}),(0,r.jsx)(n.td,{children:"Violations not suppressed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"suppressed_violation_count"})}),(0,r.jsx)(n.td,{children:"Violations filtered by suppression rules"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"manual_review_required"})}),(0,r.jsx)(n.td,{children:"Count of low-confidence results needing review"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsx)(n.h3,{id:"endpoints",children:"Endpoints"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Path"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"POST"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v1/governance/suppressions"})}),(0,r.jsx)(n.td,{children:"Create suppression rule"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GET"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v1/governance/suppressions/{project_id}"})}),(0,r.jsx)(n.td,{children:"List suppressions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DELETE"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v1/governance/suppressions/{suppression_id}"})}),(0,r.jsx)(n.td,{children:"Delete suppression"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GET"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v1/governance/drift-config/{project_id}"})}),(0,r.jsx)(n.td,{children:"Get drift config"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PUT"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v1/governance/drift-config/{project_id}"})}),(0,r.jsx)(n.td,{children:"Update drift config"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"data-types",children:"Data Types"}),"\n",(0,r.jsx)(n.h4,{id:"driftconfig",children:"DriftConfig"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct DriftConfig {\n    pub project_id: String,\n    pub threshold: f32,          // Default: 0.2\n    pub auto_suppress_info: bool, // Default: false\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"driftsuppression",children:"DriftSuppression"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct DriftSuppression {\n    pub id: String,\n    pub project_id: String,\n    pub tenant_id: TenantId,\n    pub policy_id: String,\n    pub rule_pattern: Option<String>,\n    pub reason: String,\n    pub created_at: i64,\n    pub expires_at: Option<i64>,\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-start-with-conservative-thresholds",children:"1. Start with Conservative Thresholds"}),"\n",(0,r.jsx)(n.p,{children:"Begin with the default threshold (0.2) and adjust based on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Volume of alerts"}),"\n",(0,r.jsx)(n.li,{children:"Team capacity to review"}),"\n",(0,r.jsx)(n.li,{children:"Historical drift patterns"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-document-suppression-reasons",children:"2. Document Suppression Reasons"}),"\n",(0,r.jsx)(n.p,{children:"Always provide clear reasons for suppressions linking to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ADR approving the exception"}),"\n",(0,r.jsx)(n.li,{children:"Ticket tracking the remediation"}),"\n",(0,r.jsx)(n.li,{children:"Timeline for addressing the drift"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-set-expiration-dates",children:"3. Set Expiration Dates"}),"\n",(0,r.jsx)(n.p,{children:"Don't create permanent suppressions. Set expiration dates to force periodic review:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Suppression expires in 90 days\n"expires_at": $(date -d "+90 days" +%s)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-review-low-confidence-results",children:"4. Review Low-Confidence Results"}),"\n",(0,r.jsxs)(n.p,{children:["Establish a weekly review process for items flagged as ",(0,r.jsx)(n.code,{children:"requires_manual_review"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"True positives: Create tickets to address"}),"\n",(0,r.jsx)(n.li,{children:"False positives: Create suppression rules with patterns"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"5-monitor-suppression-growth",children:"5. Monitor Suppression Growth"}),"\n",(0,r.jsx)(n.p,{children:"Track the ratio of suppressed to active violations. High suppression counts may indicate:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Policies too strict for the codebase"}),"\n",(0,r.jsx)(n.li,{children:"Technical debt accumulation"}),"\n",(0,r.jsx)(n.li,{children:"Need for policy refinement"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"high-false-positive-rate",children:"High False Positive Rate"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptoms"}),": Many violations that aren't actionable"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Review policy rule specificity"}),"\n",(0,r.jsx)(n.li,{children:"Add targeted suppression rules with patterns"}),"\n",(0,r.jsx)(n.li,{children:"Adjust semantic similarity thresholds"}),"\n",(0,r.jsxs)(n.li,{children:["Enable ",(0,r.jsx)(n.code,{children:"auto_suppress_info"})," for informational violations"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"low-confidence-scores",children:"Low Confidence Scores"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptoms"}),": Many results requiring manual review"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Improve policy rule definitions (more specific patterns)"}),"\n",(0,r.jsx)(n.li,{children:"Review embedding model quality"}),"\n",(0,r.jsx)(n.li,{children:"Consider rule-based detection for critical policies"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"suppression-rules-not-matching",children:"Suppression Rules Not Matching"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptoms"}),": Violations not being suppressed despite rules"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check regex pattern syntax"}),"\n",(0,r.jsxs)(n.li,{children:["Verify ",(0,r.jsx)(n.code,{children:"policy_id"})," matches exactly"]}),"\n",(0,r.jsx)(n.li,{children:"Check suppression hasn't expired"}),"\n",(0,r.jsxs)(n.li,{children:["Ensure ",(0,r.jsx)(n.code,{children:"project_id"})," matches"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"migration-from-previous-versions",children:"Migration from Previous Versions"}),"\n",(0,r.jsx)(n.p,{children:"If upgrading from a version without drift tuning:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Run migration ",(0,r.jsx)(n.code,{children:"005_drift_tuning.sql"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"psql -d aeterna -f storage/migrations/005_drift_tuning.sql\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Existing drift results will have:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"confidence = 1.0"})," (assumed high confidence)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"suppressed_violations = []"})," (no suppressions)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"requires_manual_review = false"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create suppression rules for known exceptions"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Adjust thresholds based on current drift levels"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/aeterna/docs/governance/api-reference",children:"API Reference"})," - Full governance API documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/aeterna/docs/governance/policy-model",children:"Policy Model"})," - Understanding policies and rules"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/aeterna/docs/governance/troubleshooting",children:"Troubleshooting"})," - Common issues and solutions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/aeterna/docs/governance/deployment-guide",children:"Deployment Guide"})," - Production deployment"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>d,x:()=>l});var s=i(6540);const r={},t=s.createContext(r);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);