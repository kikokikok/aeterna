"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8350],{721(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"governance/api-reference","title":"Governance System API Reference","description":"This document provides comprehensive API documentation for the governance system in the Aeterna Memory-Knowledge System.","source":"@site/docs/governance/api-reference.md","sourceDirName":"governance","slug":"/governance/api-reference","permalink":"/aeterna/docs/governance/api-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/governance/api-reference.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Policy Model Documentation","permalink":"/aeterna/docs/governance/policy-model"},"next":{"title":"Governance Deployment Guide","permalink":"/aeterna/docs/governance/deployment-guide"}}');var r=t(4848),l=t(8453);const s={},o="Governance System API Reference",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Deployment Modes",id:"deployment-modes",level:2},{value:"Local Mode",id:"local-mode",level:3},{value:"Hybrid Mode",id:"hybrid-mode",level:3},{value:"Remote Mode",id:"remote-mode",level:3},{value:"MCP Tools",id:"mcp-tools",level:2},{value:"1. governance_unit_create",id:"1-governance_unit_create",level:3},{value:"2. governance_policy_add",id:"2-governance_policy_add",level:3},{value:"3. governance_role_assign",id:"3-governance_role_assign",level:3},{value:"4. governance_role_remove",id:"4-governance_role_remove",level:3},{value:"5. governance_hierarchy_navigate",id:"5-governance_hierarchy_navigate",level:3},{value:"Core APIs",id:"core-apis",level:2},{value:"GovernanceEngine",id:"governanceengine",level:3},{value:"Methods",id:"methods",level:4},{value:"add_policy(policy: Policy)",id:"add_policypolicy-policy",level:5},{value:"<code>validate(target_layer: KnowledgeLayer, context: &amp;HashMap&lt;String, serde_json::Value&gt;) -&gt; ValidationResult</code>",id:"validatetarget_layer-knowledgelayer-context-hashmapstring-serde_jsonvalue---validationresult",level:5},{value:"<code>validate_with_context(target_layer: KnowledgeLayer, context: &amp;HashMap&lt;String, serde_json::Value&gt;, tenant_ctx: Option&lt;&amp;TenantContext&gt;) -&gt; ValidationResult</code>",id:"validate_with_contexttarget_layer-knowledgelayer-context-hashmapstring-serde_jsonvalue-tenant_ctx-optiontenantcontext---validationresult",level:5},{value:"<code>check_drift(tenant_ctx: &amp;TenantContext, project_id: &amp;str, context: &amp;HashMap&lt;String, serde_json::Value&gt;) -&gt; Result&lt;f32, anyhow::Error&gt;</code>",id:"check_drifttenant_ctx-tenantcontext-project_id-str-context-hashmapstring-serde_jsonvalue---resultf32-anyhowerror",level:5},{value:"GovernanceClient",id:"governanceclient",level:3},{value:"Methods",id:"methods-1",level:4},{value:"<code>validate(ctx: &amp;TenantContext, layer: KnowledgeLayer, context: &amp;HashMap&lt;String, serde_json::Value&gt;) -&gt; Result&lt;ValidationResult&gt;</code>",id:"validatectx-tenantcontext-layer-knowledgelayer-context-hashmapstring-serde_jsonvalue---resultvalidationresult",level:5},{value:"<code>get_drift_status(ctx: &amp;TenantContext, project_id: &amp;str) -&gt; Result&lt;Option&lt;DriftResult&gt;&gt;</code>",id:"get_drift_statusctx-tenantcontext-project_id-str---resultoptiondriftresult",level:5},{value:"<code>list_proposals(ctx: &amp;TenantContext, layer: Option&lt;KnowledgeLayer&gt;) -&gt; Result&lt;Vec&lt;KnowledgeEntry&gt;&gt;</code>",id:"list_proposalsctx-tenantcontext-layer-optionknowledgelayer---resultvecknowledgeentry",level:5},{value:"<code>replay_events(ctx: &amp;TenantContext, since_timestamp: i64, limit: usize) -&gt; Result&lt;Vec&lt;GovernanceEvent&gt;&gt;</code>",id:"replay_eventsctx-tenantcontext-since_timestamp-i64-limit-usize---resultvecgovernanceevent",level:5},{value:"Data Structures",id:"data-structures",level:2},{value:"Policy",id:"policy",level:3},{value:"PolicyRule",id:"policyrule",level:3},{value:"PolicyViolation",id:"policyviolation",level:3},{value:"ValidationResult",id:"validationresult",level:3},{value:"DriftResult",id:"driftresult",level:3},{value:"TenantContext",id:"tenantcontext",level:3},{value:"OrganizationalUnit",id:"organizationalunit",level:3},{value:"Enums",id:"enums",level:2},{value:"KnowledgeLayer",id:"knowledgelayer",level:3},{value:"ConstraintSeverity",id:"constraintseverity",level:3},{value:"ConstraintOperator",id:"constraintoperator",level:3},{value:"ConstraintTarget",id:"constrainttarget",level:3},{value:"Role",id:"role",level:3},{value:"UnitType",id:"unittype",level:3},{value:"Authentication Requirements",id:"authentication-requirements",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"MCP Tool Errors",id:"mcp-tool-errors",level:3},{value:"GovernanceClient Errors",id:"governanceclient-errors",level:3},{value:"Multi-Tenancy",id:"multi-tenancy",level:2},{value:"Tenant Context Creation",id:"tenant-context-creation",level:3},{value:"Policy Inheritance and Resolution",id:"policy-inheritance-and-resolution",level:2},{value:"Merge Strategies",id:"merge-strategies",level:3},{value:"Example Policy Resolution",id:"example-policy-resolution",level:3},{value:"Drift Detection",id:"drift-detection",level:2},{value:"Drift Score Calculation",id:"drift-score-calculation",level:3},{value:"Analysis Types",id:"analysis-types",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Complete Policy Management Workflow",id:"complete-policy-management-workflow",level:3},{value:"Client Creation for Different Deployment Modes",id:"client-creation-for-different-deployment-modes",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"governance-system-api-reference",children:"Governance System API Reference"})}),"\n",(0,r.jsx)(n.p,{children:"This document provides comprehensive API documentation for the governance system in the Aeterna Memory-Knowledge System."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The governance system provides policy management, validation, and drift detection capabilities for the Memory-Knowledge System. It supports multi-tenancy through tenant contexts and three deployment modes: Local, Hybrid, and Remote."}),"\n",(0,r.jsx)(n.h2,{id:"deployment-modes",children:"Deployment Modes"}),"\n",(0,r.jsx)(n.h3,{id:"local-mode",children:"Local Mode"}),"\n",(0,r.jsxs)(n.p,{children:["All governance operations are performed locally without remote communication. Requires a ",(0,r.jsx)(n.code,{children:"GovernanceEngine"})," instance."]}),"\n",(0,r.jsx)(n.h3,{id:"hybrid-mode",children:"Hybrid Mode"}),"\n",(0,r.jsxs)(n.p,{children:["Combines local governance with remote synchronization. Uses local cache and syncs changes to remote governance service. Requires both ",(0,r.jsx)(n.code,{children:"GovernanceEngine"})," instance and ",(0,r.jsx)(n.code,{children:"remote_url"})," configuration."]}),"\n",(0,r.jsx)(n.h3,{id:"remote-mode",children:"Remote Mode"}),"\n",(0,r.jsxs)(n.p,{children:["All operations are performed through a remote governance service. Requires ",(0,r.jsx)(n.code,{children:"remote_url"})," configuration."]}),"\n",(0,r.jsx)(n.h2,{id:"mcp-tools",children:"MCP Tools"}),"\n",(0,r.jsx)(n.p,{children:"The governance system exposes the following MCP tools for agent interaction:"}),"\n",(0,r.jsx)(n.h3,{id:"1-governance_unit_create",children:"1. governance_unit_create"}),"\n",(0,r.jsx)(n.p,{children:"Creates a new organizational unit (Company, Organization, Team, or Project)."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," (string, required): Name of the unit"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"unit_type"})," (string, required): Type of the unit. Values: ",(0,r.jsx)(n.code,{children:"company"}),", ",(0,r.jsx)(n.code,{children:"organization"}),", ",(0,r.jsx)(n.code,{children:"team"}),", ",(0,r.jsx)(n.code,{children:"project"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"parent_id"})," (string, optional): Parent unit ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenantContext"})," (TenantContext, optional): Tenant context information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"metadata"})," (object, optional): Optional metadata"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "unit_id": "uuid-string"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let params = json!({\n    "name": "Engineering Team",\n    "unit_type": "team",\n    "parent_id": "org-123",\n    "tenantContext": {\n        "tenantId": "acme-corp",\n        "userId": "user-456"\n    }\n});\n\nlet result = tool.call(params).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-governance_policy_add",children:"2. governance_policy_add"}),"\n",(0,r.jsx)(n.p,{children:"Adds or updates a policy for an organizational unit."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"unit_id"})," (string, required): Unit ID to attach policy to"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"policy"})," (object, required): Policy definition"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenantContext"})," (TenantContext, optional): Tenant context information"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "policy_id": "policy-uuid"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let policy = Policy {\n    id: "security-policy".to_string(),\n    name: "Security Standards".to_string(),\n    description: Some("Security constraints for all projects".to_string()),\n    layer: KnowledgeLayer::Company,\n    mode: PolicyMode::Mandatory,\n    merge_strategy: RuleMergeStrategy::Merge,\n    rules: vec![\n        PolicyRule {\n            id: "no-unsafe-deps".to_string(),\n            rule_type: RuleType::Deny,\n            target: ConstraintTarget::Dependency,\n            operator: ConstraintOperator::MustNotUse,\n            value: json!("unsafe-lib"),\n            severity: ConstraintSeverity::Block,\n            message: "Unsafe libraries are forbidden".to_string(),\n        }\n    ],\n    metadata: HashMap::new(),\n};\n\nlet params = json!({\n    "unit_id": "unit-123",\n    "policy": policy,\n    "tenantContext": {\n        "tenantId": "acme-corp",\n        "userId": "user-456"\n    }\n});\n\nlet result = tool.call(params).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-governance_role_assign",children:"3. governance_role_assign"}),"\n",(0,r.jsx)(n.p,{children:"Assigns a role to a user within a specific organizational unit."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_id"})," (string, required): User ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"unit_id"})," (string, required): Unit ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"role"})," (string, required): Role to assign. Values: ",(0,r.jsx)(n.code,{children:"developer"}),", ",(0,r.jsx)(n.code,{children:"techlead"}),", ",(0,r.jsx)(n.code,{children:"architect"}),", ",(0,r.jsx)(n.code,{children:"admin"}),", ",(0,r.jsx)(n.code,{children:"agent"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenantContext"})," (TenantContext, optional): Tenant context information"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let params = json!({\n    "user_id": "user-456",\n    "unit_id": "team-789",\n    "role": "developer",\n    "tenantContext": {\n        "tenantId": "acme-corp",\n        "userId": "user-456"\n    }\n});\n\nlet result = tool.call(params).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-governance_role_remove",children:"4. governance_role_remove"}),"\n",(0,r.jsx)(n.p,{children:"Removes a role from a user within a specific organizational unit."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_id"})," (string, required): User ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"unit_id"})," (string, required): Unit ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"role"})," (string, required): Role to remove. Values: ",(0,r.jsx)(n.code,{children:"developer"}),", ",(0,r.jsx)(n.code,{children:"techlead"}),", ",(0,r.jsx)(n.code,{children:"architect"}),", ",(0,r.jsx)(n.code,{children:"admin"}),", ",(0,r.jsx)(n.code,{children:"agent"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenantContext"})," (TenantContext, optional): Tenant context information"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let params = json!({\n    "user_id": "user-456",\n    "unit_id": "team-789",\n    "role": "developer",\n    "tenantContext": {\n        "tenantId": "acme-corp",\n        "userId": "user-456"\n    }\n});\n\nlet result = tool.call(params).await?;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-governance_hierarchy_navigate",children:"5. governance_hierarchy_navigate"}),"\n",(0,r.jsx)(n.p,{children:"Navigates the organizational hierarchy (ancestors or descendants) for a unit."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"unit_id"})," (string, required): Starting Unit ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"direction"})," (string, required): Navigation direction. Values: ",(0,r.jsx)(n.code,{children:"ancestors"}),", ",(0,r.jsx)(n.code,{children:"descendants"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenantContext"})," (TenantContext, optional): Tenant context information"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "units": [\n    {\n      "id": "unit-123",\n      "name": "Parent Unit",\n      "unitType": "organization",\n      "parentId": "unit-456",\n      "tenantId": "acme-corp",\n      "metadata": {},\n      "createdAt": 1640995200,\n      "updatedAt": 1640995200\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Usage:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let params = json!({\n    "unit_id": "team-789",\n    "direction": "ancestors",\n    "tenantContext": {\n        "tenantId": "acme-corp",\n        "userId": "user-456"\n    }\n});\n\nlet result = tool.call(params).await?;\n'})}),"\n",(0,r.jsx)(n.h2,{id:"core-apis",children:"Core APIs"}),"\n",(0,r.jsx)(n.h3,{id:"governanceengine",children:"GovernanceEngine"}),"\n",(0,r.jsx)(n.p,{children:"The main engine for policy validation and drift detection."}),"\n",(0,r.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h5,{id:"add_policypolicy-policy",children:"add_policy(policy: Policy)"}),"\n",(0,r.jsx)(n.p,{children:"Adds a policy to the engine for validation."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"policy"}),": Policy object with rules and metadata"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"let mut engine = GovernanceEngine::new();\nengine.add_policy(security_policy);\n"})}),"\n",(0,r.jsx)(n.h5,{id:"validatetarget_layer-knowledgelayer-context-hashmapstring-serde_jsonvalue---validationresult",children:(0,r.jsx)(n.code,{children:"validate(target_layer: KnowledgeLayer, context: &HashMap<String, serde_json::Value>) -> ValidationResult"})}),"\n",(0,r.jsx)(n.p,{children:"Validates content against policies for a specific knowledge layer."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"target_layer"}),": The knowledge layer to validate against"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"context"}),": HashMap containing content and metadata to validate"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ValidationResult"}),": Contains validation status and any violations"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let mut context = HashMap::new();\ncontext.insert("dependencies".to_string(), json!(["safe-lib", "unsafe-lib"]));\ncontext.insert("content".to_string(), json!("# ADR 001\\n..."));\n\nlet result = engine.validate(KnowledgeLayer::Project, &context);\nif !result.is_valid {\n    for violation in &result.violations {\n        println!("Violation: {} - {}", violation.rule_id, violation.message);\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h5,{id:"validate_with_contexttarget_layer-knowledgelayer-context-hashmapstring-serde_jsonvalue-tenant_ctx-optiontenantcontext---validationresult",children:(0,r.jsx)(n.code,{children:"validate_with_context(target_layer: KnowledgeLayer, context: &HashMap<String, serde_json::Value>, tenant_ctx: Option<&TenantContext>) -> ValidationResult"})}),"\n",(0,r.jsx)(n.p,{children:"Enhanced validation with tenant context and hierarchy support."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"target_layer"}),": The knowledge layer to validate against"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"context"}),": HashMap containing content and metadata to validate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenant_ctx"}),": Optional tenant context for hierarchical policy resolution"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ValidationResult"}),": Contains validation status and any violations"]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"check_drifttenant_ctx-tenantcontext-project_id-str-context-hashmapstring-serde_jsonvalue---resultf32-anyhowerror",children:(0,r.jsx)(n.code,{children:"check_drift(tenant_ctx: &TenantContext, project_id: &str, context: &HashMap<String, serde_json::Value>) -> Result<f32, anyhow::Error>"})}),"\n",(0,r.jsx)(n.p,{children:"Analyzes content for policy drift and returns a drift score (0.0-1.0)."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tenant_ctx"}),": Tenant context"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"project_id"}),": Project identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"context"}),": HashMap containing content and metadata to analyze"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"f32"}),": Drift score where 0.0 = no drift, 1.0 = maximum drift"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'let mut context = HashMap::new();\ncontext.insert("content".to_string(), json!("some code content"));\ncontext.insert("version_hash".to_string(), json!("abc123"));\n\nlet drift_score = engine.check_drift(&tenant_ctx, "project-456", &context).await?;\nif drift_score > 0.5 {\n    println!("High drift detected: {:.2}", drift_score);\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"governanceclient",children:"GovernanceClient"}),"\n",(0,r.jsx)(n.p,{children:"Client interface for governance operations across deployment modes."}),"\n",(0,r.jsx)(n.h4,{id:"methods-1",children:"Methods"}),"\n",(0,r.jsx)(n.h5,{id:"validatectx-tenantcontext-layer-knowledgelayer-context-hashmapstring-serde_jsonvalue---resultvalidationresult",children:(0,r.jsx)(n.code,{children:"validate(ctx: &TenantContext, layer: KnowledgeLayer, context: &HashMap<String, serde_json::Value>) -> Result<ValidationResult>"})}),"\n",(0,r.jsx)(n.p,{children:"Validates content against policies using the configured deployment mode."}),"\n",(0,r.jsx)(n.h5,{id:"get_drift_statusctx-tenantcontext-project_id-str---resultoptiondriftresult",children:(0,r.jsx)(n.code,{children:"get_drift_status(ctx: &TenantContext, project_id: &str) -> Result<Option<DriftResult>>"})}),"\n",(0,r.jsx)(n.p,{children:"Retrieves the latest drift analysis result for a project."}),"\n",(0,r.jsx)(n.h5,{id:"list_proposalsctx-tenantcontext-layer-optionknowledgelayer---resultvecknowledgeentry",children:(0,r.jsx)(n.code,{children:"list_proposals(ctx: &TenantContext, layer: Option<KnowledgeLayer>) -> Result<Vec<KnowledgeEntry>>"})}),"\n",(0,r.jsx)(n.p,{children:"Lists governance proposals, optionally filtered by knowledge layer."}),"\n",(0,r.jsx)(n.h5,{id:"replay_eventsctx-tenantcontext-since_timestamp-i64-limit-usize---resultvecgovernanceevent",children:(0,r.jsx)(n.code,{children:"replay_events(ctx: &TenantContext, since_timestamp: i64, limit: usize) -> Result<Vec<GovernanceEvent>>"})}),"\n",(0,r.jsx)(n.p,{children:"Replays governance events since a given timestamp for auditing."}),"\n",(0,r.jsx)(n.h2,{id:"data-structures",children:"Data Structures"}),"\n",(0,r.jsx)(n.h3,{id:"policy",children:"Policy"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct Policy {\n    pub id: String,\n    pub name: String,\n    pub description: Option<String>,\n    pub layer: KnowledgeLayer,\n    pub mode: PolicyMode,\n    pub merge_strategy: RuleMergeStrategy,\n    pub rules: Vec<PolicyRule>,\n    pub metadata: HashMap<String, serde_json::Value>\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"policyrule",children:"PolicyRule"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct PolicyRule {\n    pub id: String,\n    pub rule_type: RuleType,\n    pub target: ConstraintTarget,\n    pub operator: ConstraintOperator,\n    pub value: serde_json::Value,\n    pub severity: ConstraintSeverity,\n    pub message: String\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"policyviolation",children:"PolicyViolation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct PolicyViolation {\n    pub rule_id: String,\n    pub policy_id: String,\n    pub severity: ConstraintSeverity,\n    pub message: String,\n    pub context: HashMap<String, serde_json::Value>\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"validationresult",children:"ValidationResult"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct ValidationResult {\n    pub is_valid: bool,\n    pub violations: Vec<PolicyViolation>\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"driftresult",children:"DriftResult"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct DriftResult {\n    pub project_id: String,\n    pub tenant_id: TenantId,\n    pub drift_score: f32,\n    pub violations: Vec<PolicyViolation>,\n    pub timestamp: i64\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"tenantcontext",children:"TenantContext"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct TenantContext {\n    pub tenant_id: TenantId,\n    pub user_id: UserId,\n    pub agent_id: Option<String>\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"organizationalunit",children:"OrganizationalUnit"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:"pub struct OrganizationalUnit {\n    pub id: String,\n    pub name: String,\n    pub unit_type: UnitType,\n    pub parent_id: Option<String>,\n    pub tenant_id: TenantId,\n    pub metadata: HashMap<String, serde_json::Value>,\n    pub created_at: i64,\n    pub updated_at: i64\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"enums",children:"Enums"}),"\n",(0,r.jsx)(n.h3,{id:"knowledgelayer",children:"KnowledgeLayer"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Company"}),": Company-level policies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Org"}),": Organization-level policies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Team"}),": Team-level policies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Project"}),": Project-level policies"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"constraintseverity",children:"ConstraintSeverity"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Info"}),": Informational violation (0.1 drift weight)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Warn"}),": Warning violation (0.5 drift weight)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Block"}),": Blocking violation (1.0 drift weight)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"constraintoperator",children:"ConstraintOperator"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MustUse"}),": Content must use specified value"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MustNotUse"}),": Content must not use specified value"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MustMatch"}),": Content must match regex pattern"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MustNotMatch"}),": Content must not match regex pattern"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MustExist"}),": Content must exist"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MustNotExist"}),": Content must not exist"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"constrainttarget",children:"ConstraintTarget"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"File"}),": Target is file path"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Code"}),": Target is code content"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Dependency"}),": Target is dependency list"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Import"}),": Target is import statements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Config"}),": Target is configuration"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"role",children:"Role"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Developer"}),": Basic developer role (precedence: 1)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TechLead"}),": Tech lead role (precedence: 2)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Architect"}),": Architect role (precedence: 3)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Admin"}),": Admin role (precedence: 4)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Agent"}),": AI agent role (precedence: 0)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"unittype",children:"UnitType"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Company"}),": Company organization unit"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Organization"}),": Organization unit"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Team"}),": Team unit"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Project"}),": Project unit"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"authentication-requirements",children:"Authentication Requirements"}),"\n",(0,r.jsx)(n.p,{children:"All governance API calls require tenant context authentication:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tenant ID"}),": Identifies the tenant/organization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User ID"}),": Identifies the user making the request"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Agent ID"})," (optional): Identifies the AI agent if applicable"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Headers for remote mode:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"X-Tenant-Id: your-tenant-id\nX-User-Id: your-user-id\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.h3,{id:"mcp-tool-errors",children:"MCP Tool Errors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-32602"}),": Invalid input parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-32601"}),": Tool not found"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-32000"}),": Internal server error"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-32001"}),": Request timeout"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"governanceclient-errors",children:"GovernanceClient Errors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Network(reqwest::Error)"}),": Network connectivity issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Api(String)"}),": API-specific errors from remote service"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Serialization(serde_json::Error)"}),": JSON serialization/deserialization errors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Internal(String)"}),": Internal implementation errors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"RemoteUnavailable"}),": Remote service unavailable (using cached data)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SyncConflict(String)"}),": Synchronization conflicts between local and remote"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"multi-tenancy",children:"Multi-Tenancy"}),"\n",(0,r.jsx)(n.p,{children:"The governance system supports multi-tenancy through:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tenant Isolation"}),": Each tenant has separate policies, units, and roles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hierarchical Inheritance"}),": Policies inherit from parent units within the same tenant"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Role-Based Access"}),": Users can have different roles across different units and tenants"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"tenant-context-creation",children:"Tenant Context Creation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use mk_core::types::{TenantId, UserId, TenantContext};\n\nlet tenant_id = TenantId::new("acme-corp".to_string()).unwrap();\nlet user_id = UserId::new("john-doe".to_string()).unwrap();\nlet ctx = TenantContext::new(tenant_id, user_id);\n\n// With agent context\nlet agent_ctx = TenantContext::with_agent(\n    tenant_id,\n    user_id,\n    "agent-assistant-1".to_string()\n);\n'})}),"\n",(0,r.jsx)(n.h2,{id:"policy-inheritance-and-resolution",children:"Policy Inheritance and Resolution"}),"\n",(0,r.jsx)(n.p,{children:"Policies are resolved hierarchically from Company \u2192 Org \u2192 Team \u2192 Project layers:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Collection"}),": Gather all applicable policies from hierarchy"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Merging"}),": Apply merge strategies (Override, Merge, Intersect)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation"}),": Evaluate rules against content"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"merge-strategies",children:"Merge Strategies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Override"}),": Higher-level policies completely override lower-level ones"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Merge"}),": Combine rules from all levels, higher-level takes precedence on conflicts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Intersect"}),": Keep only rules that exist in all levels"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-policy-resolution",children:"Example Policy Resolution"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Company Policy (Mandatory):\n- Rule A: Must not use unsafe dependencies\n\nTeam Policy (Optional):\n- Rule B: Must use specific logging library\n\nProject Policy (Optional):\n- Rule A: Must not use unsafe dependencies (inherited)\n- Rule B: Must use specific logging library (inherited)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"drift-detection",children:"Drift Detection"}),"\n",(0,r.jsx)(n.p,{children:"Drift detection analyzes content for policy violations and semantic contradictions:"}),"\n",(0,r.jsx)(n.h3,{id:"drift-score-calculation",children:"Drift Score Calculation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Drift Score = (sum of violation weights) / (maximum possible score)\n\nViolation Weights:\n- Info violations: 0.1\n- Warn violations: 0.5\n- Block violations: 1.0\n"})}),"\n",(0,r.jsx)(n.h3,{id:"analysis-types",children:"Analysis Types"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rule-based"}),": Evaluates content against defined policy rules"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Semantic"}),": Uses embeddings to detect contradictions with policy intent"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LLM-based"}),": Uses language models for complex reasoning about violations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,r.jsx)(n.h3,{id:"complete-policy-management-workflow",children:"Complete Policy Management Workflow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use knowledge::governance::GovernanceEngine;\nuse mk_core::types::*;\n\n// 1. Create governance engine\nlet mut engine = GovernanceEngine::new();\n\n// 2. Define security policy\nlet security_policy = Policy {\n    id: "company-security".to_string(),\n    name: "Company Security Standards".to_string(),\n    description: Some("Security constraints for all projects".to_string()),\n    layer: KnowledgeLayer::Company,\n    mode: PolicyMode::Mandatory,\n    merge_strategy: RuleMergeStrategy::Merge,\n    rules: vec![\n        PolicyRule {\n            id: "no-unsafe-deps".to_string(),\n            rule_type: RuleType::Deny,\n            target: ConstraintTarget::Dependency,\n            operator: ConstraintOperator::MustNotUse,\n            value: json!("unsafe-lib"),\n            severity: ConstraintSeverity::Block,\n            message: "Unsafe libraries are forbidden".to_string(),\n        },\n        PolicyRule {\n            id: "adr-format".to_string(),\n            rule_type: RuleType::Allow,\n            target: ConstraintTarget::Code,\n            operator: ConstraintOperator::MustMatch,\n            value: json!("^# ADR"),\n            severity: ConstraintSeverity::Warn,\n            message: "ADRs must start with \'# ADR\'".to_string(),\n        }\n    ],\n    metadata: HashMap::new(),\n};\n\n// 3. Add policy to engine\nengine.add_policy(security_policy);\n\n// 4. Validate content\nlet mut context = HashMap::new();\ncontext.insert("dependencies".to_string(), json!(["safe-lib", "another-safe-lib"]));\ncontext.insert("content".to_string(), json!("# ADR 001: Use Rust\\n..."));\n\nlet result = engine.validate(KnowledgeLayer::Project, &context);\nif result.is_valid {\n    println!("Content passes all policy checks");\n} else {\n    for violation in &result.violations {\n        println!("Violation: {} - {}", violation.rule_id, violation.message);\n    }\n}\n\n// 5. Check for drift\nlet tenant_ctx = TenantContext::new(\n    TenantId::new("acme-corp".to_string()).unwrap(),\n    UserId::new("developer-123".to_string()).unwrap()\n);\n\nlet drift_score = engine.check_drift(\n    &tenant_ctx,\n    "my-project",\n    &context\n).await?;\n\nprintln!("Drift score: {:.2}", drift_score);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"client-creation-for-different-deployment-modes",children:"Client Creation for Different Deployment Modes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use knowledge::governance_client::{create_governance_client, GovernanceClientKind};\nuse config::DeploymentConfig;\n\n// Local mode\nlet local_config = DeploymentConfig {\n    mode: "local".to_string(),\n    remote_url: None,\n    sync_enabled: true,\n};\nlet local_client = create_governance_client(&local_config, Some(engine))?;\n\n// Hybrid mode\nlet hybrid_config = DeploymentConfig {\n    mode: "hybrid".to_string(),\n    remote_url: Some("https://governance.example.com".to_string()),\n    sync_enabled: true,\n};\nlet hybrid_client = create_governance_client(&hybrid_config, Some(engine))?;\n\n// Remote mode\nlet remote_config = DeploymentConfig {\n    mode: "remote".to_string(),\n    remote_url: Some("https://governance.example.com".to_string()),\n    sync_enabled: false,\n};\nlet remote_client = create_governance_client(&remote_config, None)?;\n'})}),"\n",(0,r.jsx)(n.p,{children:"This API reference provides comprehensive coverage of the governance system's capabilities for policy management, validation, and drift detection in the Aeterna Memory-Knowledge System."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>s,x:()=>o});var i=t(6540);const r={},l=i.createContext(r);function s(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);