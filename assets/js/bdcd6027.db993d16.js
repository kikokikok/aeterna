"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1159],{6001(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/managed-services-evaluation","title":"Managed Services Evaluation for Aeterna","description":"Overview","source":"@site/docs/guides/managed-services-evaluation.md","sourceDirName":"guides","slug":"/guides/managed-services-evaluation","permalink":"/aeterna/docs/guides/managed-services-evaluation","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/guides/managed-services-evaluation.md","tags":[],"version":"current","frontMatter":{}}');var r=t(4848),i=t(8453);const d={},l="Managed Services Evaluation for Aeterna",o={},c=[{value:"Overview",id:"overview",level:2},{value:"1. Qdrant Cloud",id:"1-qdrant-cloud",level:2},{value:"Pros",id:"pros",level:3},{value:"Cons",id:"cons",level:3},{value:"Pricing Model",id:"pricing-model",level:3},{value:"Migration Path",id:"migration-path",level:3},{value:"2. Upstash Redis",id:"2-upstash-redis",level:2},{value:"Pros",id:"pros-1",level:3},{value:"Cons",id:"cons-1",level:3},{value:"Pricing Model",id:"pricing-model-1",level:3},{value:"When to Use",id:"when-to-use",level:3},{value:"Migration Path",id:"migration-path-1",level:3},{value:"3. Neon",id:"3-neon",level:2},{value:"Pros",id:"pros-2",level:3},{value:"Cons",id:"cons-2",level:3},{value:"Pricing Model",id:"pricing-model-2",level:3},{value:"pgvector Support Details",id:"pgvector-support-details",level:3},{value:"Migration Path",id:"migration-path-2",level:3},{value:"Recommendation Matrix",id:"recommendation-matrix",level:2},{value:"Cost Comparison at Scale",id:"cost-comparison-at-scale",level:3},{value:"Decision Tree: When to Choose Managed",id:"decision-tree-when-to-choose-managed",level:2},{value:"Hybrid Strategy (Recommended)",id:"hybrid-strategy-recommended",level:2}];function a(e){const n={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"managed-services-evaluation-for-aeterna",children:"Managed Services Evaluation for Aeterna"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide evaluates three managed service alternatives to Aeterna's default self-hosted infrastructure. Each service maps directly to a core storage dependency and can be adopted independently via Aeterna's pluggable adapter architecture."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Self-Hosted Default"}),(0,r.jsx)(n.th,{children:"Managed Alternative"}),(0,r.jsx)(n.th,{children:"Role in Aeterna"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Qdrant (cluster mode)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Qdrant Cloud"})}),(0,r.jsx)(n.td,{children:"Vector database for memory embeddings"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Redis Sentinel"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Upstash Redis"})}),(0,r.jsx)(n.td,{children:"Hot-tier cache, session state, pub/sub"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PostgreSQL + Patroni"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Neon"})}),(0,r.jsx)(n.td,{children:"Relational store, pgvector, knowledge metadata"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"1-qdrant-cloud",children:"1. Qdrant Cloud"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it is"}),": Fully managed Qdrant clusters operated by Qdrant GmbH, available on AWS, GCP, and Azure."]}),"\n",(0,r.jsx)(n.h3,{id:"pros",children:"Pros"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Zero-ops clustering"}),": Automatic replication, sharding, and failover \u2014 eliminates the need to operate a 3-node Qdrant cluster and monitor shard health."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Seamless compatibility"}),": Same gRPC/REST API as self-hosted Qdrant. Aeterna's ",(0,r.jsx)(n.code,{children:"QdrantBackend"})," works without code changes; only the connection URL and API key change."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Horizontal scaling on demand"}),": Add capacity through the dashboard without downtime. No manual shard rebalancing."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Built-in snapshots and backups"}),": Automated, configurable retention \u2014 replaces the custom 6-hour snapshot scheduling described in the HA/DR design."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-AZ by default"}),": Production clusters span availability zones automatically, matching the target architecture."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cons",children:"Cons"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vendor lock-in"}),": Dependent on Qdrant GmbH's cloud platform. Mitigated by the fact that the API is identical to self-hosted, so switching back is a configuration change."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Latency overhead"}),": Adds network hop compared to in-cluster Qdrant. Typical added latency is 1\u20135 ms for same-region deployments."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cost at scale"}),": More expensive per GB than self-hosted for large, stable workloads (see pricing below)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limited region availability"}),": Fewer regions than major hyperscalers; verify your target region is supported."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data residency"}),": Data lives on Qdrant's managed infrastructure. May require contractual review for regulated industries."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"pricing-model",children:"Pricing Model"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tier"}),(0,r.jsx)(n.th,{children:"Included"}),(0,r.jsx)(n.th,{children:"Price"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Free"}),(0,r.jsx)(n.td,{children:"1 GB RAM, 1 node"}),(0,r.jsx)(n.td,{children:"$0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Standard"}),(0,r.jsx)(n.td,{children:"Multi-node, configurable RAM/disk"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.del,{children:"$0.045/GB-hour ("}),"$33/GB-month)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Enterprise"}),(0,r.jsx)(n.td,{children:"Dedicated infra, SLA, support"}),(0,r.jsx)(n.td,{children:"Custom pricing"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Storage costs scale linearly with vector count and dimensionality. For Aeterna's default 1536-dimension embeddings, expect roughly 6 KB per vector (embedding + metadata overhead)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": 10 M vectors \u2248 60 GB \u2192 ~$2,000/month on Standard tier."]}),"\n",(0,r.jsx)(n.h3,{id:"migration-path",children:"Migration Path"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a Qdrant Cloud cluster in your target region."}),"\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.code,{children:"QDRANT_URL"})," and ",(0,r.jsx)(n.code,{children:"QDRANT_API_KEY"})," environment variables to the cloud endpoint."]}),"\n",(0,r.jsx)(n.li,{children:"Use Qdrant's snapshot export/import to migrate existing collections, or let Aeterna repopulate on first write."}),"\n",(0,r.jsxs)(n.li,{children:["Verify with ",(0,r.jsx)(n.code,{children:"health_check()"})," \u2014 no code changes needed."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-upstash-redis",children:"2. Upstash Redis"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it is"}),": Serverless, pay-per-request Redis compatible service with global replication. Based on a custom storage engine that persists data to disk."]}),"\n",(0,r.jsx)(n.h3,{id:"pros-1",children:"Pros"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"True serverless pricing"}),": Pay per command (~$0.2 per 100K commands), no idle cost. Ideal for development, staging, and bursty production workloads."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Global replication"}),": Multi-region read replicas with single-digit-ms reads from edge. Useful for geographically distributed Aeterna deployments."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Persistent by default"}),": Data is persisted to disk, eliminating the need for separate RDB/AOF backup configuration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TLS and authentication built in"}),": Encrypted connections out of the box \u2014 no manual TLS certificate management."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REST API fallback"}),": In addition to the standard Redis protocol, offers a REST API for environments where raw TCP connections are restricted (e.g., serverless functions)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cons-1",children:"Cons"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Not fully Redis-compatible"}),": Most commands are supported, but some advanced features (certain Lua scripting edge cases, ",(0,r.jsx)(n.code,{children:"MODULE LOAD"}),") may behave differently. Test Aeterna's pub/sub and Sentinel-dependent code paths."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No Sentinel/Cluster topology"}),": Upstash manages failover internally. If Aeterna code directly references Sentinel endpoints for leader discovery, that code path must be bypassed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Throughput limits on lower tiers"}),": Free tier caps at 10K commands/day. Production workloads with high QPS should provision the Pro tier."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tail latency"}),": P99 latency can be higher than self-hosted Redis in the same cluster network (~2\u201310 ms vs <1 ms)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vendor-specific SDK recommended"}),": While standard Redis clients work, Upstash provides its own SDK for REST access. Not required but encouraged in their docs."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"pricing-model-1",children:"Pricing Model"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tier"}),(0,r.jsx)(n.th,{children:"Commands/day"}),(0,r.jsx)(n.th,{children:"Price"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Free"}),(0,r.jsx)(n.td,{children:"10K"}),(0,r.jsx)(n.td,{children:"$0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Pay-as-you-go"}),(0,r.jsx)(n.td,{children:"Unlimited"}),(0,r.jsx)(n.td,{children:"~$0.2/100K commands"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Pro (fixed)"}),(0,r.jsx)(n.td,{children:"Unlimited"}),(0,r.jsx)(n.td,{children:"From $10/month (higher throughput guarantees)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Enterprise"}),(0,r.jsx)(n.td,{children:"Unlimited"}),(0,r.jsx)(n.td,{children:"Custom"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Storage: ~$0.25/GB-month."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": 50 M commands/month + 5 GB storage \u2248 $100 + $1.25 = ~$101/month."]}),"\n",(0,r.jsx)(n.h3,{id:"when-to-use",children:"When to Use"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Upstash when"}),": Running Aeterna in a serverless or edge environment, optimizing for low-traffic cost efficiency, or deploying to multiple regions with read replicas."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Stay with Redis Sentinel when"}),": Running high-throughput workloads (>100K ops/sec) where sub-millisecond latency is critical, or when full Lua scripting compatibility is required."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"migration-path-1",children:"Migration Path"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create an Upstash Redis database in the target region."}),"\n",(0,r.jsxs)(n.li,{children:["Replace ",(0,r.jsx)(n.code,{children:"REDIS_URL"})," with the Upstash connection string (includes TLS by default)."]}),"\n",(0,r.jsx)(n.li,{children:"If using Sentinel-based discovery in Aeterna, switch to direct connection mode."}),"\n",(0,r.jsx)(n.li,{children:"Test pub/sub channels used for real-time collaboration \u2014 verify message ordering."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"3-neon",children:"3. Neon"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it is"}),": Serverless PostgreSQL with copy-on-write branching, autoscaling compute, and scale-to-zero. Built on a custom storage engine that separates compute from storage."]}),"\n",(0,r.jsx)(n.h3,{id:"pros-2",children:"Pros"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Branching for staging/preview"}),": Create instant, zero-copy database branches for staging environments, PR previews, or migration testing. Each branch is a full PostgreSQL instance at near-zero additional storage cost (copy-on-write)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scale-to-zero"}),": Compute scales down to zero after inactivity (configurable), eliminating cost for idle dev/staging databases."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"pgvector support"}),": Full pgvector extension support including HNSW indexes. Aeterna's ",(0,r.jsx)(n.code,{children:"PgvectorBackend"})," works without modification."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic backups and PITR"}),": Point-in-time recovery without manual WAL archiving configuration. Replaces the S3-based WAL archiving in the HA/DR design."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Connection pooling built in"}),": PgBouncer-compatible pooling included, which simplifies Aeterna's connection management."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Autoscaling compute"}),": Compute units scale automatically based on load, from 0.25 to 10 CU."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cons-2",children:"Cons"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cold start latency"}),': Scale-to-zero instances incur 0.5\u20133 second cold starts on first connection. Problematic for latency-sensitive production workloads unless "always-on" is enabled.']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage-compute separation latency"}),": Neon's architecture adds ~1\u20135 ms read latency compared to local-disk PostgreSQL for random reads."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No synchronous replication control"}),": Patroni allows fine-grained synchronous replication tuning. Neon manages replication internally with eventual consistency for read replicas."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limited extensions"}),": Most common extensions (pgvector, pg_trgm, hstore) are supported, but some system-level extensions may be unavailable."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vendor lock-in"}),": Uses a proprietary storage engine. Exporting data is straightforward (standard pg_dump), but the branching and scale-to-zero features are not portable."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"pricing-model-2",children:"Pricing Model"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Tier"}),(0,r.jsx)(n.th,{children:"Compute"}),(0,r.jsx)(n.th,{children:"Storage"}),(0,r.jsx)(n.th,{children:"Price"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Free"}),(0,r.jsx)(n.td,{children:"0.25 CU, 10 branches"}),(0,r.jsx)(n.td,{children:"512 MB"}),(0,r.jsx)(n.td,{children:"$0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Launch"}),(0,r.jsx)(n.td,{children:"Up to 4 CU, autoscale"}),(0,r.jsx)(n.td,{children:"10 GB included"}),(0,r.jsx)(n.td,{children:"From $19/month"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Scale"}),(0,r.jsx)(n.td,{children:"Up to 10 CU, autoscale"}),(0,r.jsx)(n.td,{children:"50 GB included"}),(0,r.jsx)(n.td,{children:"From $69/month"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Enterprise"}),(0,r.jsx)(n.td,{children:"Custom CU"}),(0,r.jsx)(n.td,{children:"Custom"}),(0,r.jsx)(n.td,{children:"Custom"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Compute: ~$0.16/CU-hour. Storage: ~$0.033/GB-month (beyond included)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": 2 CU average \xd7 730 hrs + 100 GB storage \u2248 $234 + $1.65 = ~$236/month."]}),"\n",(0,r.jsx)(n.h3,{id:"pgvector-support-details",children:"pgvector Support Details"}),"\n",(0,r.jsx)(n.p,{children:"Neon supports pgvector 0.7+ with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CREATE EXTENSION vector;"})," \u2014 available out of the box"]}),"\n",(0,r.jsxs)(n.li,{children:["HNSW indexes (",(0,r.jsx)(n.code,{children:"CREATE INDEX ... USING hnsw"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"IVFFlat indexes"}),"\n",(0,r.jsxs)(n.li,{children:["All distance operators (",(0,r.jsx)(n.code,{children:"<->"}),", ",(0,r.jsx)(n.code,{children:"<#>"}),", ",(0,r.jsx)(n.code,{children:"<=>"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Aeterna's ",(0,r.jsx)(n.code,{children:"PgvectorBackend"})," auto-creates the extension and HNSW index on first use \u2014 no changes needed."]}),"\n",(0,r.jsx)(n.h3,{id:"migration-path-2",children:"Migration Path"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create a Neon project and database."}),"\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"pg_dump"})," from existing Patroni primary, ",(0,r.jsx)(n.code,{children:"pg_restore"})," to Neon."]}),"\n",(0,r.jsxs)(n.li,{children:["Update ",(0,r.jsx)(n.code,{children:"PGVECTOR_URL"})," / ",(0,r.jsx)(n.code,{children:"DATABASE_URL"})," to the Neon connection string."]}),"\n",(0,r.jsx)(n.li,{children:'Enable "always-on" for the production branch to avoid cold-start latency.'}),"\n",(0,r.jsx)(n.li,{children:"Create branches for staging and CI environments."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"recommendation-matrix",children:"Recommendation Matrix"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Criterion"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"Qdrant Cloud"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"Upstash Redis"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"Neon"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Ops burden reduction"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"High"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"High"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"High"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Latency vs self-hosted"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"+1\u20135 ms"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"+2\u201310 ms"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"+1\u20135 ms (warm)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Cost at low traffic"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Medium"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Very Low"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Low"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Cost at high traffic"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Higher than self-hosted"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Higher than self-hosted"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Comparable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Scalability"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Excellent (managed sharding)"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Excellent (serverless)"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Excellent (autoscale CU)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Data residency control"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Medium"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Medium"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Medium"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Migration effort"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Config change only"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Config change + Sentinel bypass"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"pg_dump/restore + config"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Feature parity"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Full (same API)"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"~95% Redis compat"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Full pgvector support"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Lock-in risk"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Low (same API)"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Low (Redis protocol)"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"Medium (proprietary storage)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"cost-comparison-at-scale",children:"Cost Comparison at Scale"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Workload Profile"}),(0,r.jsx)(n.th,{children:"Self-Hosted (3-node HA)"}),(0,r.jsx)(n.th,{children:"Managed"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"Vector DB"}),": 10 M vectors, 1536-dim"]}),(0,r.jsx)(n.td,{children:"~$500/mo (3\xd7 r6g.xlarge)"}),(0,r.jsx)(n.td,{children:"~$2,000/mo (Qdrant Cloud)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"Redis"}),": 50 M cmds/mo, 5 GB"]}),(0,r.jsx)(n.td,{children:"~$300/mo (3\xd7 r6g.large)"}),(0,r.jsx)(n.td,{children:"~$100/mo (Upstash)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.strong,{children:"PostgreSQL"}),": 100 GB, 2 CU avg"]}),(0,r.jsx)(n.td,{children:"~$400/mo (Patroni 3-node)"}),(0,r.jsx)(n.td,{children:"~$236/mo (Neon)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Total"})}),(0,r.jsx)(n.td,{children:"~$1,200/mo + ops team"}),(0,r.jsx)(n.td,{children:"~$2,336/mo, zero ops"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": Self-hosted costs exclude engineer time for operations, on-call, upgrades, and incident response. For small teams, managed services are typically more cost-effective when fully loaded ops costs are included."]}),"\n",(0,r.jsx)(n.h2,{id:"decision-tree-when-to-choose-managed",children:"Decision Tree: When to Choose Managed"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Start\n\u251c\u2500\u2500 Team has < 2 dedicated infra engineers?\n\u2502   \u251c\u2500\u2500 YES \u2192 Prefer managed services\n\u2502   \u2514\u2500\u2500 NO \u2193\n\u251c\u2500\u2500 Running in serverless / edge environment?\n\u2502   \u251c\u2500\u2500 YES \u2192 Upstash Redis + Neon (scale-to-zero)\n\u2502   \u2514\u2500\u2500 NO \u2193\n\u251c\u2500\u2500 Need instant staging/preview environments?\n\u2502   \u251c\u2500\u2500 YES \u2192 Neon (branching)\n\u2502   \u2514\u2500\u2500 NO \u2193\n\u251c\u2500\u2500 Workload is bursty with long idle periods?\n\u2502   \u251c\u2500\u2500 YES \u2192 Managed (pay-per-use)\n\u2502   \u2514\u2500\u2500 NO \u2193\n\u251c\u2500\u2500 Sustained high throughput (>100K ops/sec)?\n\u2502   \u251c\u2500\u2500 YES \u2192 Self-hosted (cost + latency)\n\u2502   \u2514\u2500\u2500 NO \u2193\n\u251c\u2500\u2500 Strict data residency / air-gapped requirement?\n\u2502   \u251c\u2500\u2500 YES \u2192 Self-hosted\n\u2502   \u2514\u2500\u2500 NO \u2193\n\u2514\u2500\u2500 Default \u2192 Managed for dev/staging, evaluate for production\n"})}),"\n",(0,r.jsx)(n.h2,{id:"hybrid-strategy-recommended",children:"Hybrid Strategy (Recommended)"}),"\n",(0,r.jsx)(n.p,{children:"For most Aeterna deployments, a hybrid approach works best:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Environment"}),(0,r.jsx)(n.th,{children:"Vector DB"}),(0,r.jsx)(n.th,{children:"Redis"}),(0,r.jsx)(n.th,{children:"PostgreSQL"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Development"}),(0,r.jsx)(n.td,{children:"Qdrant Cloud (free tier)"}),(0,r.jsx)(n.td,{children:"Upstash (free tier)"}),(0,r.jsx)(n.td,{children:"Neon (free tier)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Staging"}),(0,r.jsx)(n.td,{children:"Qdrant Cloud (standard)"}),(0,r.jsx)(n.td,{children:"Upstash (pay-as-you-go)"}),(0,r.jsx)(n.td,{children:"Neon branch"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Production (small)"}),(0,r.jsx)(n.td,{children:"Qdrant Cloud"}),(0,r.jsx)(n.td,{children:"Upstash Pro"}),(0,r.jsx)(n.td,{children:"Neon Scale"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Production (large)"}),(0,r.jsx)(n.td,{children:"Self-hosted Qdrant cluster"}),(0,r.jsx)(n.td,{children:"Self-hosted Redis Sentinel"}),(0,r.jsx)(n.td,{children:"Self-hosted Patroni"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["All transitions are configuration-only thanks to Aeterna's provider adapter architecture. See ",(0,r.jsx)(n.a,{href:"/aeterna/docs/guides/provider-adapters",children:"Provider Adapters Guide"})," for implementation details."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>d,x:()=>l});var s=t(6540);const r={},i=s.createContext(r);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);