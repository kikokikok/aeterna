"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5283],{6332(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"cca/configuration","title":"CCA Configuration","description":"This document details all configuration options for CCA (Confucius Code Agent) capabilities in Aeterna. Configuration is specified in config/aeterna.toml under the [cca] section.","source":"@site/docs/cca/configuration.md","sourceDirName":"cca","slug":"/cca/configuration","permalink":"/aeterna/docs/cca/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/cca/configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"CCA Architecture","permalink":"/aeterna/docs/cca/architecture"},"next":{"title":"CCA API Reference","permalink":"/aeterna/docs/cca/api-reference"}}');var r=t(4848),s=t(8453);const l={},d="CCA Configuration",c={},o=[{value:"Configuration Overview",id:"configuration-overview",level:2},{value:"Complete Configuration Example",id:"complete-configuration-example",level:2},{value:"Configuration Sections",id:"configuration-sections",level:2},{value:"1. CcaConfig (Top-Level)",id:"1-ccaconfig-top-level",level:3},{value:"2. ContextArchitectConfig",id:"2-contextarchitectconfig",level:3},{value:"Layer Priorities Explained",id:"layer-priorities-explained",level:4},{value:"Staleness Policy Explained",id:"staleness-policy-explained",level:4},{value:"3. NoteTakingConfig",id:"3-notetakingconfig",level:3},{value:"Capture Mode Explained",id:"capture-mode-explained",level:4},{value:"Performance Tuning",id:"performance-tuning",level:4},{value:"4. HindsightConfig",id:"4-hindsightconfig",level:3},{value:"Semantic Threshold Tuning",id:"semantic-threshold-tuning",level:4},{value:"5. MetaAgentConfig",id:"5-metaagentconfig",level:3},{value:"Iteration Budget Tuning",id:"iteration-budget-tuning",level:4},{value:"Environment-Specific Configurations",id:"environment-specific-configurations",level:2},{value:"Development Environment",id:"development-environment",level:3},{value:"Production Environment",id:"production-environment",level:3},{value:"High-Throughput Environment",id:"high-throughput-environment",level:3},{value:"Validation and Defaults",id:"validation-and-defaults",level:2},{value:"Configuration Hot Reload",id:"configuration-hot-reload",level:2},{value:"Monitoring Configuration Impact",id:"monitoring-configuration-impact",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cca-configuration",children:"CCA Configuration"})}),"\n",(0,r.jsxs)(n.p,{children:["This document details all configuration options for CCA (Confucius Code Agent) capabilities in Aeterna. Configuration is specified in ",(0,r.jsx)(n.code,{children:"config/aeterna.toml"})," under the ",(0,r.jsx)(n.code,{children:"[cca]"})," section."]}),"\n",(0,r.jsx)(n.h2,{id:"configuration-overview",children:"Configuration Overview"}),"\n",(0,r.jsx)(n.p,{children:"CCA provides four main configuration sections:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CcaConfig"})," - Top-level enable/disable for all CCA capabilities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ContextArchitectConfig"})," - Controls hierarchical context assembly"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"NoteTakingConfig"})," - Manages trajectory capture and distillation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HindsightConfig"})," - Error pattern recognition settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MetaAgentConfig"})," - Build-test-improve loop parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"complete-configuration-example",children:"Complete Configuration Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[cca]\n# Master switch for all CCA capabilities\nenabled = true\n\n[cca.context_architect]\n# Enable Context Architect component\nenabled = true\n\n# Default token budget for context assembly (100-32000)\n# Recommendation: 4000 for GPT-3.5, 8000 for GPT-4, 16000 for GPT-4-32k\ndefault_token_budget = 4000\n\n# Memory layer priorities (queried in this order)\n# Higher priority layers are queried first and included preferentially\nlayer_priorities = ["session", "project", "team", "org", "company"]\n\n# Minimum relevance score for including memory entries (0.0-1.0)\n# Lower = more entries, higher = only highly relevant\nmin_relevance_score = 0.3\n\n# Enable caching of assembled contexts\nenable_caching = true\n\n# Cache time-to-live in seconds\ncache_ttl_secs = 300\n\n# Staleness policy when cache is expired\n# Options: "serve_stale_warn" | "regenerate_blocking" | "regenerate_async"\nstaleness_policy = "serve_stale_warn"\n\n# Timeout for context assembly in milliseconds\nassembly_timeout_ms = 100\n\n# Enable parallel queries across memory layers (recommended for performance)\nenable_parallel_queries = true\n\n# Enable early termination when token budget is satisfied\n# (stops querying lower-priority layers if budget already filled)\nenable_early_termination = true\n\n[cca.note_taking]\n# Enable Note-Taking Agent component\nenabled = true\n\n# Number of trajectory events before auto-distillation triggers\n# Higher = more context for distillation, lower = more frequent updates\nauto_distill_threshold = 10\n\n# Allow manual triggering of distillation via API\nmanual_trigger_enabled = true\n\n# Enable detection and redaction of sensitive patterns (API keys, tokens, etc.)\nsensitive_patterns_enabled = true\n\n# Capture mode controls what events are recorded\n# Options: "all" | "sampled" | "errors_only" | "disabled"\ncapture_mode = "all"\n\n# Sampling rate when capture_mode = "sampled" (percentage 1-100)\n# Example: 10 = capture 1 in 10 events\nsampling_rate = 10\n\n# Maximum overhead budget per event capture in milliseconds\n# Events exceeding this are dropped to prevent performance impact\noverhead_budget_ms = 5\n\n# Maximum queue size for async event buffering\nqueue_size = 1000\n\n# Batch size for writing events to storage\nbatch_size = 10\n\n# Batch flush interval in milliseconds\n# Events are written every N ms or when batch_size is reached\nbatch_flush_ms = 100\n\n[cca.hindsight]\n# Enable Hindsight Learning component\nenabled = true\n\n# Semantic similarity threshold for matching errors (0.0-1.0)\n# Higher = only very similar errors, lower = broader matching\nsemantic_threshold = 0.8\n\n# Maximum number of matching resolutions to return\nmax_results = 5\n\n# Success rate threshold for promoting resolutions to broader layers\n# Example: 0.8 = promote if 80% success rate after multiple applications\npromotion_threshold = 0.8\n\n# Automatically capture all errors (vs manual capture only)\nauto_capture_enabled = true\n\n[cca.meta_agent]\n# Enable Meta-Agent component\nenabled = true\n\n# Maximum iterations for build-test-improve loop\nmax_iterations = 3\n\n# Timeout for entire iteration (build + test + improve) in seconds\niteration_timeout_secs = 300\n\n# Timeout for build phase in seconds\nbuild_timeout_secs = 120\n\n# Timeout for test phase in seconds\ntest_timeout_secs = 60\n\n# Automatically escalate to higher authority (human/team lead) on repeated failures\nauto_escalate_on_failure = true\n'})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-sections",children:"Configuration Sections"}),"\n",(0,r.jsx)(n.h3,{id:"1-ccaconfig-top-level",children:"1. CcaConfig (Top-Level)"}),"\n",(0,r.jsx)(n.p,{children:"The master configuration for all CCA capabilities."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Master switch for all CCA capabilities. If false, all CCA components are disabled."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"context_architect"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"See below"}),(0,r.jsx)(n.td,{children:"Configuration for Context Architect component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"note_taking"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"See below"}),(0,r.jsx)(n.td,{children:"Configuration for Note-Taking Agent component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hindsight"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"See below"}),(0,r.jsx)(n.td,{children:"Configuration for Hindsight Learning component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"meta_agent"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"See below"}),(0,r.jsx)(n.td,{children:"Configuration for Meta-Agent component"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"2-contextarchitectconfig",children:"2. ContextArchitectConfig"}),"\n",(0,r.jsx)(n.p,{children:"Controls hierarchical context assembly and compression."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Enable Context Architect component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"default_token_budget"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"4000"})}),(0,r.jsx)(n.td,{children:"Default token budget for context assembly (100-32000). Adjust based on your LLM's context window."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"layer_priorities"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'["session", "project", "team", "org", "company"]'})}),(0,r.jsx)(n.td,{children:"Memory layer query order. First = highest priority."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"min_relevance_score"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0.3"})}),(0,r.jsx)(n.td,{children:"Minimum relevance score for including entries (0.0-1.0). Lower = more entries."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enable_caching"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Enable caching of assembled contexts for performance"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cache_ttl_secs"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"300"})}),(0,r.jsx)(n.td,{children:"Cache time-to-live in seconds (5 minutes default)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"staleness_policy"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"serve_stale_warn"'})}),(0,r.jsxs)(n.td,{children:["How to handle expired cache: ",(0,r.jsx)(n.code,{children:'"serve_stale_warn"'})," (return stale + warn), ",(0,r.jsx)(n.code,{children:'"regenerate_blocking"'})," (wait for fresh), ",(0,r.jsx)(n.code,{children:'"regenerate_async"'})," (return stale + refresh async)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"assembly_timeout_ms"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"100"})}),(0,r.jsx)(n.td,{children:"Maximum time to spend assembling context (milliseconds)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enable_parallel_queries"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Query multiple memory layers simultaneously (recommended)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enable_early_termination"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Stop querying lower-priority layers if budget already satisfied"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"layer-priorities-explained",children:"Layer Priorities Explained"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"layer_priorities"})," array determines:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Which layers are queried"}),"\n",(0,r.jsx)(n.li,{children:"The order of querying (first to last)"}),"\n",(0,r.jsx)(n.li,{children:"Which entries are kept when over token budget"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example configurations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'# Session-focused (recent context prioritized)\nlayer_priorities = ["session", "user", "project"]\n\n# Project-focused (broad project context)\nlayer_priorities = ["project", "session", "team"]\n\n# Organizational knowledge (team/company standards)\nlayer_priorities = ["team", "org", "company", "project"]\n\n# All layers (comprehensive but may exceed budget)\nlayer_priorities = ["agent", "user", "session", "project", "team", "org", "company"]\n'})}),"\n",(0,r.jsx)(n.h4,{id:"staleness-policy-explained",children:"Staleness Policy Explained"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Policy"}),(0,r.jsx)(n.th,{children:"Behavior"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"serve_stale_warn"})}),(0,r.jsx)(n.td,{children:"Return cached data + log warning"}),(0,r.jsx)(n.td,{children:"High availability, can tolerate slightly outdated context"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"regenerate_blocking"})}),(0,r.jsx)(n.td,{children:"Wait for fresh data (blocks request)"}),(0,r.jsx)(n.td,{children:"Accuracy critical, latency acceptable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"regenerate_async"})}),(0,r.jsx)(n.td,{children:"Return stale + refresh in background"}),(0,r.jsx)(n.td,{children:"Best of both: fast response + eventual freshness"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"3-notetakingconfig",children:"3. NoteTakingConfig"}),"\n",(0,r.jsx)(n.p,{children:"Manages trajectory capture and distillation to knowledge."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Enable Note-Taking Agent component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auto_distill_threshold"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10"})}),(0,r.jsx)(n.td,{children:"Number of events before automatic distillation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"manual_trigger_enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsxs)(n.td,{children:["Allow manual distillation via ",(0,r.jsx)(n.code,{children:"note_capture"})," tool"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sensitive_patterns_enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Detect and redact sensitive data (API keys, passwords, tokens)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"capture_mode"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"all"'})}),(0,r.jsxs)(n.td,{children:["What to capture: ",(0,r.jsx)(n.code,{children:'"all"'}),", ",(0,r.jsx)(n.code,{children:'"sampled"'}),", ",(0,r.jsx)(n.code,{children:'"errors_only"'}),", ",(0,r.jsx)(n.code,{children:'"disabled"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sampling_rate"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10"})}),(0,r.jsxs)(n.td,{children:["Percentage when ",(0,r.jsx)(n.code,{children:'capture_mode = "sampled"'})," (1-100)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"overhead_budget_ms"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"5"})}),(0,r.jsx)(n.td,{children:"Max overhead per event capture (milliseconds)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"queue_size"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1000"})}),(0,r.jsx)(n.td,{children:"Max events in async buffer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"batch_size"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10"})}),(0,r.jsx)(n.td,{children:"Events per batch write"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"batch_flush_ms"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"100"})}),(0,r.jsx)(n.td,{children:"Flush interval (milliseconds)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"capture-mode-explained",children:"Capture Mode Explained"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Mode"}),(0,r.jsx)(n.th,{children:"Behavior"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"all"})}),(0,r.jsx)(n.td,{children:"Capture every trajectory event"}),(0,r.jsx)(n.td,{children:"Development, debugging, comprehensive learning"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sampled"})}),(0,r.jsxs)(n.td,{children:["Capture 1 in N events (see ",(0,r.jsx)(n.code,{children:"sampling_rate"}),")"]}),(0,r.jsx)(n.td,{children:"Production with high throughput, cost control"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"errors_only"})}),(0,r.jsx)(n.td,{children:"Only capture failed events"}),(0,r.jsx)(n.td,{children:"Error-focused learning, minimal overhead"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"disabled"})}),(0,r.jsx)(n.td,{children:"No capture"}),(0,r.jsx)(n.td,{children:"Temporarily disable without removing config"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"performance-tuning",children:"Performance Tuning"}),"\n",(0,r.jsx)(n.p,{children:"For high-throughput scenarios:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[cca.note_taking]\n# Use sampling to reduce volume\ncapture_mode = "sampled"\nsampling_rate = 20  # 1 in 20 events (5%)\n\n# Increase batch size and queue for better throughput\nqueue_size = 5000\nbatch_size = 50\nbatch_flush_ms = 500  # Flush less frequently\n\n# Reduce per-event overhead budget\noverhead_budget_ms = 2\n'})}),"\n",(0,r.jsx)(n.p,{children:"For comprehensive learning:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[cca.note_taking]\n# Capture everything\ncapture_mode = "all"\n\n# Frequent distillation for immediate insights\nauto_distill_threshold = 5\n\n# Smaller batches for low latency\nbatch_size = 5\nbatch_flush_ms = 50\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-hindsightconfig",children:"4. HindsightConfig"}),"\n",(0,r.jsx)(n.p,{children:"Error pattern recognition and resolution tracking."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Enable Hindsight Learning component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"semantic_threshold"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0.8"})}),(0,r.jsx)(n.td,{children:"Similarity threshold for matching errors (0.0-1.0). Higher = stricter matching."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_results"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"5"})}),(0,r.jsx)(n.td,{children:"Maximum number of resolution suggestions to return"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"promotion_threshold"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0.8"})}),(0,r.jsx)(n.td,{children:"Success rate required to promote resolution to broader layer (0.0-1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auto_capture_enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Automatically capture all errors (vs manual only)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"semantic-threshold-tuning",children:"Semantic Threshold Tuning"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Threshold"}),(0,r.jsx)(n.th,{children:"Matching Behavior"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.95-1.0"}),(0,r.jsx)(n.td,{children:"Nearly identical errors only"}),(0,r.jsx)(n.td,{children:"Prevent false positives, highly specific resolutions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.8-0.95"}),(0,r.jsx)(n.td,{children:"Similar errors with same root cause"}),(0,r.jsx)(n.td,{children:"Balanced (recommended)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0.6-0.8"}),(0,r.jsx)(n.td,{children:"Broad error families"}),(0,r.jsx)(n.td,{children:"Exploratory, learning phase"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"<0.6"}),(0,r.jsx)(n.td,{children:"Very loose matching"}),(0,r.jsx)(n.td,{children:"Not recommended (too many false matches)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:"# Strict matching for production\n[cca.hindsight]\nsemantic_threshold = 0.9\nmax_results = 3\npromotion_threshold = 0.9  # Only promote highly reliable resolutions\n\n# Exploratory learning mode\n[cca.hindsight]\nsemantic_threshold = 0.7\nmax_results = 10\npromotion_threshold = 0.7\n"})}),"\n",(0,r.jsx)(n.h3,{id:"5-metaagentconfig",children:"5. MetaAgentConfig"}),"\n",(0,r.jsx)(n.p,{children:"Build-test-improve loop settings."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Enable Meta-Agent component"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_iterations"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3"})}),(0,r.jsx)(n.td,{children:"Maximum build-test-improve iterations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"iteration_timeout_secs"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"300"})}),(0,r.jsx)(n.td,{children:"Timeout for full iteration (5 minutes)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"build_timeout_secs"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"120"})}),(0,r.jsx)(n.td,{children:"Timeout for build phase (2 minutes)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"test_timeout_secs"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"60"})}),(0,r.jsx)(n.td,{children:"Timeout for test phase (1 minute)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auto_escalate_on_failure"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Escalate to human if all iterations fail"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"iteration-budget-tuning",children:"Iteration Budget Tuning"}),"\n",(0,r.jsx)(n.p,{children:"For quick iterations (e.g., small scripts):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:"[cca.meta_agent]\nmax_iterations = 5\niteration_timeout_secs = 60  # 1 minute per iteration\nbuild_timeout_secs = 30\ntest_timeout_secs = 20\n"})}),"\n",(0,r.jsx)(n.p,{children:"For complex builds (e.g., large projects):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:"[cca.meta_agent]\nmax_iterations = 3\niteration_timeout_secs = 600  # 10 minutes per iteration\nbuild_timeout_secs = 300  # 5 minutes for build\ntest_timeout_secs = 180  # 3 minutes for tests\n"})}),"\n",(0,r.jsx)(n.h2,{id:"environment-specific-configurations",children:"Environment-Specific Configurations"}),"\n",(0,r.jsx)(n.h3,{id:"development-environment",children:"Development Environment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[cca]\nenabled = true\n\n[cca.context_architect]\ndefault_token_budget = 8000  # Generous budget\nenable_parallel_queries = true\nenable_early_termination = false  # Get all context for debugging\nmin_relevance_score = 0.2  # Lower threshold\n\n[cca.note_taking]\ncapture_mode = "all"  # Capture everything\nauto_distill_threshold = 5  # Frequent distillation\nmanual_trigger_enabled = true\n\n[cca.hindsight]\nsemantic_threshold = 0.7  # Broader matching for learning\nmax_results = 10\n\n[cca.meta_agent]\nmax_iterations = 5  # More attempts\nauto_escalate_on_failure = false  # Handle manually\n'})}),"\n",(0,r.jsx)(n.h3,{id:"production-environment",children:"Production Environment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[cca]\nenabled = true\n\n[cca.context_architect]\ndefault_token_budget = 4000  # Cost control\nenable_parallel_queries = true\nenable_early_termination = true  # Performance optimization\nenable_caching = true\ncache_ttl_secs = 300\n\n[cca.note_taking]\ncapture_mode = "sampled"  # Reduce volume\nsampling_rate = 10  # 10% sampling\nauto_distill_threshold = 20  # Less frequent\noverhead_budget_ms = 3  # Strict overhead control\n\n[cca.hindsight]\nsemantic_threshold = 0.85  # Stricter matching\nmax_results = 5\npromotion_threshold = 0.85\n\n[cca.meta_agent]\nmax_iterations = 3\nauto_escalate_on_failure = true  # Alert on failures\n'})}),"\n",(0,r.jsx)(n.h3,{id:"high-throughput-environment",children:"High-Throughput Environment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[cca]\nenabled = true\n\n[cca.context_architect]\ndefault_token_budget = 2000  # Smaller budgets for speed\nenable_parallel_queries = true\nenable_early_termination = true\nassembly_timeout_ms = 50  # Aggressive timeout\n\n[cca.note_taking]\ncapture_mode = "errors_only"  # Minimal capture\nqueue_size = 10000  # Large buffer\nbatch_size = 100  # Large batches\nbatch_flush_ms = 1000  # Infrequent flushes\noverhead_budget_ms = 1  # Very strict\n\n[cca.hindsight]\nenabled = true  # Still useful for errors\nauto_capture_enabled = true\n\n[cca.meta_agent]\nenabled = false  # Disable for latency-sensitive scenarios\n'})}),"\n",(0,r.jsx)(n.h2,{id:"validation-and-defaults",children:"Validation and Defaults"}),"\n",(0,r.jsxs)(n.p,{children:["All configuration is validated on startup using the ",(0,r.jsx)(n.code,{children:"validator"})," crate. If validation fails, Aeterna will not start and will output detailed error messages."]}),"\n",(0,r.jsx)(n.p,{children:"Default values are provided for all options, so minimal configuration is required:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:"# Minimal configuration (all components enabled with defaults)\n[cca]\nenabled = true\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is equivalent to the full default configuration shown at the beginning of this document."}),"\n",(0,r.jsx)(n.h2,{id:"configuration-hot-reload",children:"Configuration Hot Reload"}),"\n",(0,r.jsxs)(n.p,{children:["CCA configuration supports hot reload without restarting the server (requires ",(0,r.jsx)(n.code,{children:"config"})," crate hot reload feature):"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Modify ",(0,r.jsx)(n.code,{children:"config/aeterna.toml"})]}),"\n",(0,r.jsxs)(n.li,{children:["Send SIGHUP to Aeterna process: ",(0,r.jsx)(n.code,{children:"kill -HUP <pid>"})]}),"\n",(0,r.jsx)(n.li,{children:"Configuration is reloaded within 5 seconds"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Note: Some changes (e.g., enabling/disabling components) may require draining in-flight requests."}),"\n",(0,r.jsx)(n.h2,{id:"monitoring-configuration-impact",children:"Monitoring Configuration Impact"}),"\n",(0,r.jsx)(n.p,{children:"Track these metrics to understand configuration effectiveness:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token budget utilization"}),": ",(0,r.jsx)(n.code,{children:"context_architect.tokens_used / context_architect.token_budget"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cache hit rate"}),": ",(0,r.jsx)(n.code,{children:"context_architect.cache_hits / context_architect.total_queries"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Note capture overhead"}),": ",(0,r.jsx)(n.code,{children:"note_taking.capture_duration_ms"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hindsight match rate"}),": ",(0,r.jsx)(n.code,{children:"hindsight.matches_found / hindsight.queries"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Meta-agent iteration distribution"}),": Histogram of iterations needed"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Adjust configuration based on these metrics to optimize for your workload."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>d});var i=t(6540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);