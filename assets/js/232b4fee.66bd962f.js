"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1306],{4711(e,n,a){a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"guides/ux-first-governance","title":"UX-First Governance: Natural Language Policy Management","description":"Enterprise-scale knowledge governance without the complexity","source":"@site/docs/guides/ux-first-governance.md","sourceDirName":"guides","slug":"/guides/ux-first-governance","permalink":"/aeterna/docs/guides/ux-first-governance","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/guides/ux-first-governance.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Governance System Troubleshooting Guide","permalink":"/aeterna/docs/governance/troubleshooting"},"next":{"title":"Agent Developer Guide: Governance Integration","permalink":"/aeterna/docs/guides/agent-governance-integration"}}');var t=a(4848),i=a(8453);const o={},s="UX-First Governance: Natural Language Policy Management",c={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Executive Summary",id:"executive-summary",level:2},{value:"The Problem",id:"the-problem",level:3},{value:"What is UX-First Governance?",id:"what-is-ux-first-governance",level:3},{value:"Key Capabilities",id:"key-capabilities",level:3},{value:"Success Metrics",id:"success-metrics",level:3},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"System Layers",id:"system-layers",level:3},{value:"OPAL: The Organizational Referential",id:"opal-the-organizational-referential",level:3},{value:"Governance Flow Diagram",id:"governance-flow-diagram",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Memory Layer Hierarchy",id:"memory-layer-hierarchy",level:3},{value:"Knowledge Layers",id:"knowledge-layers",level:3},{value:"Roles and Permissions",id:"roles-and-permissions",level:3},{value:"Approval Workflow State Machine",id:"approval-workflow-state-machine",level:3},{value:"Organization Structure",id:"organization-structure",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Quick Start (5 Minutes)",id:"quick-start-5-minutes",level:3},{value:"1. Initialize Company",id:"1-initialize-company",level:4},{value:"2. Create Organization and Team",id:"2-create-organization-and-team",level:4},{value:"3. Initialize Project (Auto-Detection)",id:"3-initialize-project-auto-detection",level:4},{value:"4. Check Status",id:"4-check-status",level:4},{value:"Persona Workflows",id:"persona-workflows",level:2},{value:"Developer Workflow",id:"developer-workflow",level:3},{value:"Daily Tasks",id:"daily-tasks",level:4},{value:"Tech Lead Workflow",id:"tech-lead-workflow",level:3},{value:"Approval Management",id:"approval-management",level:4},{value:"Architect Workflow",id:"architect-workflow",level:3},{value:"Organization-Wide Policy Management",id:"organization-wide-policy-management",level:4},{value:"Admin Workflow",id:"admin-workflow",level:3},{value:"System Setup and Management",id:"system-setup-and-management",level:4},{value:"CLI Command Reference",id:"cli-command-reference",level:2},{value:"Core Commands",id:"core-commands",level:3},{value:"Status and Context",id:"status-and-context",level:4},{value:"Memory Commands",id:"memory-commands",level:4},{value:"Knowledge Commands",id:"knowledge-commands",level:4},{value:"Policy Commands",id:"policy-commands",level:4},{value:"Governance Commands",id:"governance-commands",level:4},{value:"Organization Management",id:"organization-management",level:4},{value:"Admin Commands",id:"admin-commands",level:4},{value:"Integration Scenarios",id:"integration-scenarios",level:2},{value:"CI/CD Integration",id:"cicd-integration",level:3},{value:"GitHub Actions Example",id:"github-actions-example",level:4},{value:"GitLab CI Example",id:"gitlab-ci-example",level:4},{value:"AI Assistant Integration",id:"ai-assistant-integration",level:3},{value:"OpenCode Plugin",id:"opencode-plugin",level:4},{value:"Agent Workflow",id:"agent-workflow",level:4},{value:"Pre-Commit Hook",id:"pre-commit-hook",level:3},{value:"Advanced Topics",id:"advanced-topics",level:2},{value:"Natural Language to Cedar Translation",id:"natural-language-to-cedar-translation",level:3},{value:"How It Works",id:"how-it-works",level:4},{value:"Common Translation Patterns",id:"common-translation-patterns",level:4},{value:"Meta-Governance: Policies About Policies",id:"meta-governance-policies-about-policies",level:3},{value:"Example: Company-Level Meta-Governance",id:"example-company-level-meta-governance",level:4},{value:"Cedar Meta-Policy Example",id:"cedar-meta-policy-example",level:4},{value:"Context Resolution Deep Dive",id:"context-resolution-deep-dive",level:3},{value:"Resolution Priority Order",id:"resolution-priority-order",level:4},{value:"Context File Schema",id:"context-file-schema",level:4},{value:"Git Remote Mapping",id:"git-remote-mapping",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Issue: Context Resolution Fails",id:"issue-context-resolution-fails",level:4},{value:"Issue: Policy Validation Fails",id:"issue-policy-validation-fails",level:4},{value:"Issue: Approval Workflow Stuck",id:"issue-approval-workflow-stuck",level:4},{value:"Issue: Agent Token Expired",id:"issue-agent-token-expired",level:4},{value:"Issue: OPAL Sync Failure",id:"issue-opal-sync-failure",level:4},{value:"Debugging Tips",id:"debugging-tips",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ux-first-governance-natural-language-policy-management",children:"UX-First Governance: Natural Language Policy Management"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Enterprise-scale knowledge governance without the complexity"})}),"\n",(0,t.jsx)(n.p,{children:"This guide documents Aeterna's UX-First Governance system, a revolutionary approach to enterprise policy management that uses natural language instead of complex policy DSLs. With OPAL-powered organizational referential and Cedar-based authorization, Aeterna makes governance accessible to everyone, from developers to executives."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#executive-summary",children:"Executive Summary"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#architecture-overview",children:"Architecture Overview"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#core-concepts",children:"Core Concepts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getting-started",children:"Getting Started"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#persona-workflows",children:"Persona Workflows"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#developer-workflow",children:"Developer Workflow"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#tech-lead-workflow",children:"Tech Lead Workflow"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#architect-workflow",children:"Architect Workflow"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#admin-workflow",children:"Admin Workflow"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#cli-command-reference",children:"CLI Command Reference"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#integration-scenarios",children:"Integration Scenarios"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#advanced-topics",children:"Advanced Topics"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"executive-summary",children:"Executive Summary"}),"\n",(0,t.jsx)(n.h3,{id:"the-problem",children:"The Problem"}),"\n",(0,t.jsx)(n.p,{children:"Traditional enterprise governance systems require deep technical expertise:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Pain Point"}),(0,t.jsx)(n.th,{children:"Traditional Approach"}),(0,t.jsx)(n.th,{children:"Aeterna UX-First"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Policy creation"}),(0,t.jsx)(n.td,{children:"Learn Cedar DSL syntax"}),(0,t.jsx)(n.td,{children:'"Block MySQL in this project"'})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Onboarding"}),(0,t.jsx)(n.td,{children:"Manual TOML configs"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"aeterna init"})," (auto-detects)"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Context resolution"}),(0,t.jsx)(n.td,{children:"Specify org/team/project flags"}),(0,t.jsx)(n.td,{children:"Auto-resolves from git"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Knowledge discovery"}),(0,t.jsx)(n.td,{children:"Navigate file hierarchies"}),(0,t.jsx)(n.td,{children:"Natural language search"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Administration"}),(0,t.jsx)(n.td,{children:"Scattered across tools"}),(0,t.jsx)(n.td,{children:"Unified CLI and API"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"what-is-ux-first-governance",children:"What is UX-First Governance?"}),"\n",(0,t.jsxs)(n.p,{children:["UX-First Governance is an architectural approach where ",(0,t.jsx)(n.strong,{children:"every capability is accessible through natural language, simple APIs, and intuitive CLI commands"}),". Implementation details like Cedar policies, TOML configs, and layer hierarchies are completely hidden from end users."]}),"\n",(0,t.jsx)(n.h3,{id:"key-capabilities",children:"Key Capabilities"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Natural Language Policies"}),': "Block MySQL" \u2192 Cedar policy']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zero-Config Onboarding"}),": Auto-detect git context, initialize in seconds"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automatic Context Resolution"}),": No more ",(0,t.jsx)(n.code,{children:"--company --org --team"})," flags"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Semantic Search"}),": Find memories and knowledge without knowing structure"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OPAL Integration"}),": Real-time organizational referential with Cedar Agent"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Meta-Governance"}),": Policies about policies, with approval workflows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AI Agent Integration"}),": Agents propose, simulate, and track policies autonomously"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"success-metrics",children:"Success Metrics"}),"\n",(0,t.jsx)(n.p,{children:"After deploying UX-First Governance:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Developer onboarding"}),": 5 minutes (from 2+ hours)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Policy creation"}),": <1 minute (from 30+ minutes)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context errors"}),": Near zero (from frequent)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Governance adoption"}),": 10x increase across teams"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AI agent autonomy"}),": 80% of routine governance tasks automated"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,t.jsx)(n.h3,{id:"system-layers",children:"System Layers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         USER INTERACTION LAYER                               \u2502\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502   \u2502   Human     \u2502    \u2502  AI Agent   \u2502    \u2502    CLI      \u2502    \u2502  Web API    \u2502 \u2502\n\u2502   \u2502  (Chat)     \u2502    \u2502   (LLM)     \u2502    \u2502  (Script)   \u2502    \u2502  (REST)     \u2502 \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502                                    \u2502                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         NATURAL LANGUAGE LAYER                               \u2502\n\u2502                                                                              \u2502\n\u2502   "Block MySQL in this project"                                              \u2502\n\u2502   "Only architects can approve org policies"                                 \u2502\n\u2502   "Require 2 approvers for company-level changes"                            \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         SKILL / TOOL LAYER                                   \u2502\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502   \u2502  Policy Skill   \u2502  \u2502 Governance Skill\u2502  \u2502  Onboarding Skill\u2502             \u2502\n\u2502   \u2502                 \u2502  \u2502                 \u2502  \u2502                 \u2502             \u2502\n\u2502   \u2502 \u2022 draft         \u2502  \u2502 \u2022 configure     \u2502  \u2502 \u2022 org_init      \u2502             \u2502\n\u2502   \u2502 \u2022 validate      \u2502  \u2502 \u2022 approve       \u2502  \u2502 \u2022 team_create   \u2502             \u2502\n\u2502   \u2502 \u2022 propose       \u2502  \u2502 \u2022 reject        \u2502  \u2502 \u2022 project_init  \u2502             \u2502\n\u2502   \u2502 \u2022 explain       \u2502  \u2502 \u2022 audit         \u2502  \u2502 \u2022 user_register \u2502             \u2502\n\u2502   \u2502 \u2022 simulate      \u2502  \u2502 \u2022 roles         \u2502  \u2502 \u2022 agent_register\u2502             \u2502\n\u2502   \u2502 \u2022 list          \u2502  \u2502                 \u2502  \u2502                 \u2502             \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502            \u2502                    \u2502                    \u2502                       \u2502\n\u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                       \u2502\n\u2502                                 \u2502                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         TRANSLATION LAYER                                    \u2502\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502   \u2502                  LLM-Powered Translator                          \u2502       \u2502\n\u2502   \u2502                                                                  \u2502       \u2502\n\u2502   \u2502   Natural Language \u2500\u2500\u2500\u2500\u2500\u2500\u25b6 Structured Intent \u2500\u2500\u2500\u2500\u2500\u2500\u25b6 Cedar      \u2502       \u2502\n\u2502   \u2502                                                                  \u2502       \u2502\n\u2502   \u2502   "Block MySQL" \u2500\u2500\u25b6 {target: dep, op: deny, value: "mysql"}     \u2502       \u2502\n\u2502   \u2502                 \u2500\u2500\u25b6 forbid(principal, action, resource)          \u2502       \u2502\n\u2502   \u2502                     when { resource.dependency == "mysql" }      \u2502       \u2502\n\u2502   \u2502                                                                  \u2502       \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502   \u2502                  Cedar Validator                                 \u2502       \u2502\n\u2502   \u2502                                                                  \u2502       \u2502\n\u2502   \u2502   \u2022 Syntax validation (cedar-policy crate)                       \u2502       \u2502\n\u2502   \u2502   \u2022 Schema compliance                                            \u2502       \u2502\n\u2502   \u2502   \u2022 Conflict detection                                           \u2502       \u2502\n\u2502   \u2502   \u2022 Simulation against test scenarios                            \u2502       \u2502\n\u2502   \u2502                                                                  \u2502       \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    GOVERNANCE ENGINE + OPAL/CEDAR                            \u2502\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502   \u2502                        OPAL SERVER                               \u2502       \u2502\n\u2502   \u2502                                                                  \u2502       \u2502\n\u2502   \u2502   PostgreSQL (Referential)          Git (Policies)              \u2502       \u2502\n\u2502   \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502       \u2502\n\u2502   \u2502   \u2502 companies           \u2502          \u2502 cedar-policies/     \u2502     \u2502       \u2502\n\u2502   \u2502   \u2502 organizations       \u2502          \u2502   company.cedar     \u2502     \u2502       \u2502\n\u2502   \u2502   \u2502 teams               \u2502          \u2502   org.cedar         \u2502     \u2502       \u2502\n\u2502   \u2502   \u2502 projects            \u2502          \u2502   meta-governance/  \u2502     \u2502       \u2502\n\u2502   \u2502   \u2502 users               \u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502       \u2502\n\u2502   \u2502   \u2502 agents              \u2502                                       \u2502       \u2502\n\u2502   \u2502   \u2502 memberships         \u2502          PubSub Channel              \u2502       \u2502\n\u2502   \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          (WebSocket)                 \u2502       \u2502\n\u2502   \u2502                                           \u2502                      \u2502       \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                               \u2502                              \u2502\n\u2502               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502               \u2502                             \u2502                \u2502              \u2502\n\u2502               \u25bc                             \u25bc                \u25bc              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502   \u2502   OPAL Client + Cedar   \u2502  \u2502   OPAL Client + Cedar   \u2502  \u2502  OPAL   \u2502    \u2502\n\u2502   \u2502   Agent (Region A)      \u2502  \u2502   Agent (Region B)      \u2502  \u2502  Agent  \u2502    \u2502\n\u2502   \u2502                         \u2502  \u2502                         \u2502  \u2502 (CI/CD) \u2502    \u2502\n\u2502   \u2502   Topics:               \u2502  \u2502   Topics:               \u2502  \u2502         \u2502    \u2502\n\u2502   \u2502   - company:acme        \u2502  \u2502   - company:acme        \u2502  \u2502 Topics: \u2502    \u2502\n\u2502   \u2502   - org:platform        \u2502  \u2502   - org:data            \u2502  \u2502   *     \u2502    \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502   \u2502   Proposal   \u2502  \u2502   Approval   \u2502  \u2502    Cedar     \u2502  \u2502    Audit     \u2502   \u2502\n\u2502   \u2502    Store     \u2502  \u2502   Workflow   \u2502  \u2502   Authorizer \u2502  \u2502     Log      \u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h3,{id:"opal-the-organizational-referential",children:"OPAL: The Organizational Referential"}),"\n",(0,t.jsx)(n.p,{children:"OPAL (Open Policy Administration Layer) provides the source of truth for organizational topology:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What it stores:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Company \u2192 Organization \u2192 Team \u2192 Project hierarchy"}),"\n",(0,t.jsx)(n.li,{children:"User memberships and roles"}),"\n",(0,t.jsx)(n.li,{children:"Agent delegation chains"}),"\n",(0,t.jsx)(n.li,{children:"Policy files from git repositories"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Why it matters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Real-time sync"}),": Changes propagate to all Cedar Agents instantly"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context resolution"}),": Automatic detection of who/where without flags"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Self-hosted"}),": Apache 2.0 licensed, runs in your infrastructure"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IdP integration"}),": Syncs with Okta, Azure AD, Google Workspace"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Data flow:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PostgreSQL (Referential) \u2500\u2500\u2510\n                           \u251c\u2500\u2500\u25ba OPAL Server \u2500\u2500\u25ba WebSocket PubSub\nGit (Cedar Policies)  \u2500\u2500\u2500\u2500\u2500\u2518                           \u2502\n                                                       \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n                    \u25bc\n        OPAL Client + Cedar Agent\n                    \u2502\n                    \u25bc\n        Authorization Decisions\n        Context Resolution Queries\n"})}),"\n",(0,t.jsx)(n.h3,{id:"governance-flow-diagram",children:"Governance Flow Diagram"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         GOVERNANCE WORKFLOW                                  \u2502\n\u2502                                                                              \u2502\n\u2502  1. NATURAL LANGUAGE INPUT                                                   \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                           \u2502\n\u2502     \u2502 Developer: "Block MySQL in this project"  \u2502                           \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2502\n\u2502                           \u2502                                                  \u2502\n\u2502  2. INTENT EXTRACTION     \u25bc                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u2502 LLM Translator:                                      \u2502                 \u2502\n\u2502     \u2502 {                                                    \u2502                 \u2502\n\u2502     \u2502   "action": "deny",                                  \u2502                 \u2502\n\u2502     \u2502   "target_type": "dependency",                       \u2502                 \u2502\n\u2502     \u2502   "target_value": "mysql",                           \u2502                 \u2502\n\u2502     \u2502   "severity": "block"                                \u2502                 \u2502\n\u2502     \u2502 }                                                    \u2502                 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                           \u2502                                                  \u2502\n\u2502  3. CEDAR GENERATION      \u25bc                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u2502 forbid(                                              \u2502                 \u2502\n\u2502     \u2502   principal,                                         \u2502                 \u2502\n\u2502     \u2502   action == Action::"UseDependency",                 \u2502                 \u2502\n\u2502     \u2502   resource                                           \u2502                 \u2502\n\u2502     \u2502 )                                                    \u2502                 \u2502\n\u2502     \u2502 when {                                               \u2502                 \u2502\n\u2502     \u2502   resource.dependency == "mysql"                     \u2502                 \u2502\n\u2502     \u2502 };                                                   \u2502                 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                           \u2502                                                  \u2502\n\u2502  4. VALIDATION            \u25bc                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u2502 Cedar Validator:                                     \u2502                 \u2502\n\u2502     \u2502 \u2705 Syntax valid                                      \u2502                 \u2502\n\u2502     \u2502 \u2705 Schema compliant                                  \u2502                 \u2502\n\u2502     \u2502 \u26a0\ufe0f  Warning: Consider blocking mysql2 as well        \u2502                 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                           \u2502                                                  \u2502\n\u2502  5. SIMULATION            \u25bc                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u2502 Test against current project:                        \u2502                 \u2502\n\u2502     \u2502 \u2705 Pass (no MySQL dependencies found)                \u2502                 \u2502\n\u2502     \u2502                                                      \u2502                 \u2502\n\u2502     \u2502 Test against hypothetical:                           \u2502                 \u2502\n\u2502     \u2502 \u274c Block (would block if MySQL added)                \u2502                 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                           \u2502                                                  \u2502\n\u2502  6. APPROVAL WORKFLOW     \u25bc                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u2502 Proposal Created: prop_abc123                        \u2502                 \u2502\n\u2502     \u2502 Required Approvers: 1 (tech lead or architect)       \u2502                 \u2502\n\u2502     \u2502 Notified: alice@company.com                          \u2502                 \u2502\n\u2502     \u2502 Review Period: 24 hours                              \u2502                 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                           \u2502                                                  \u2502\n\u2502  7. ACTIVATION            \u25bc                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u2502 alice@company.com approves                           \u2502                 \u2502\n\u2502     \u2502 Policy ID: no-mysql                                  \u2502                 \u2502\n\u2502     \u2502 Status: ACTIVE                                       \u2502                 \u2502\n\u2502     \u2502 Pushed to OPAL \u2192 synced to all Cedar Agents          \u2502                 \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,t.jsx)(n.h3,{id:"memory-layer-hierarchy",children:"Memory Layer Hierarchy"}),"\n",(0,t.jsx)(n.p,{children:"Aeterna organizes memories in a 7-layer hierarchy:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'agent    \u2190\u2500\u2500 Per-agent instance (most specific)\n   \u2502         "This agent prefers Rust for new services"\nuser         Per-user\n   \u2502         "Alice prefers snake_case for API fields"\nsession      Per-conversation\n   \u2502         "Current task: Implement payment API"\nproject      Per-repository\n   \u2502         "payments-service uses PostgreSQL"\nteam         Per-team\n   \u2502         "API Team decided on REST over GraphQL"\norg          Per-organization/department\n   \u2502         "Platform Engineering standardized on Kubernetes"\ncompany  \u2190\u2500\u2500 Per-tenant (least specific)\n             "Acme Corp mandates TLS 1.3+"\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Search precedence"}),": Agent \u2192 User \u2192 Session \u2192 Project \u2192 Team \u2192 Org \u2192 Company"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Promotion flow"}),": Memories with high reward scores automatically promote upward"]}),"\n",(0,t.jsx)(n.h3,{id:"knowledge-layers",children:"Knowledge Layers"}),"\n",(0,t.jsx)(n.p,{children:"Knowledge (ADRs, patterns, policies) follows a 4-layer hierarchy:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Company (highest precedence)\n    \u2193 Policies flow DOWN\nOrganization\n    \u2193 Teams inherit + customize\nTeam\n    \u2193 Projects inherit + override\nProject (lowest precedence)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Merge strategies:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Override"}),": Child completely replaces parent"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Merge"}),": Combines rules from both"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Intersect"}),": Keeps only common rules (stricter)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"roles-and-permissions",children:"Roles and Permissions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         ROLE HIERARCHY                                       \u2502\n\u2502                                                                              \u2502\n\u2502   Admin (precedence: 4)                                                      \u2502\n\u2502   \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                                      \u2502\n\u2502   \u2022 Full system access                                                       \u2502\n\u2502   \u2022 Configure meta-governance                                                \u2502\n\u2502   \u2022 Manage all resources                                                     \u2502\n\u2502                                                                              \u2502\n\u2502        Architect (precedence: 3)                                             \u2502\n\u2502        \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                                 \u2502\n\u2502        \u2022 Design policies                                                     \u2502\n\u2502        \u2022 Manage knowledge repository                                         \u2502\n\u2502        \u2022 Approve org-level proposals                                         \u2502\n\u2502                                                                              \u2502\n\u2502             Tech Lead (precedence: 2)                                        \u2502\n\u2502             \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                            \u2502\n\u2502             \u2022 Manage team resources                                          \u2502\n\u2502             \u2022 Approve team-level proposals                                   \u2502\n\u2502             \u2022 Enforce policies                                               \u2502\n\u2502                                                                              \u2502\n\u2502                  Developer (precedence: 1)                                   \u2502\n\u2502                  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                       \u2502\n\u2502                  \u2022 Standard development                                      \u2502\n\u2502                  \u2022 Propose policies                                          \u2502\n\u2502                  \u2022 Access knowledge                                          \u2502\n\u2502                                                                              \u2502\n\u2502                       Agent (precedence: 0)                                  \u2502\n\u2502                       \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                     \u2502\n\u2502                       \u2022 Delegated permissions from user                      \u2502\n\u2502                       \u2022 Cannot exceed user's capabilities                    \u2502\n\u2502                       \u2022 Auto-proposal (with limits)                          \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h3,{id:"approval-workflow-state-machine",children:"Approval Workflow State Machine"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     PROPOSAL STATE MACHINE                                   \u2502\n\u2502                                                                              \u2502\n\u2502                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                       \u2502\n\u2502                          \u2502  DRAFTED  \u2502                                       \u2502\n\u2502                          \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n\u2502                                \u2502                                             \u2502\n\u2502                         submit \u2502                                             \u2502\n\u2502                                \u25bc                                             \u2502\n\u2502                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                   \u2502\n\u2502                     \u2502 PENDING_APPROVAL   \u2502                                   \u2502\n\u2502                     \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                                   \u2502\n\u2502                           \u2502        \u2502                                         \u2502\n\u2502                   approve \u2502        \u2502 reject                                  \u2502\n\u2502                           \u2502        \u2502                                         \u2502\n\u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u2502\n\u2502            \u25bc                                      \u25bc                          \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502     \u2502 APPROVED  \u2502                          \u2502 REJECTED \u2502                      \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                          \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502           \u2502                                      \u2502                           \u2502\n\u2502    activate                              revise/abandon                      \u2502\n\u2502           \u2502                                      \u2502                           \u2502\n\u2502           \u25bc                                      \u25bc                           \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502     \u2502  ACTIVE   \u2502                          \u2502 ABANDONED\u2502                      \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502           \u2502                                                                  \u2502\n\u2502      deprecate                                                               \u2502\n\u2502           \u2502                                                                  \u2502\n\u2502           \u25bc                                                                  \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                           \u2502\n\u2502     \u2502 DEPRECATED \u2502                                                           \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                           \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h3,{id:"organization-structure",children:"Organization Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Acme Corp (Company)\n\u251c\u2500\u2500 Platform Engineering (Org)\n\u2502   \u251c\u2500\u2500 API Team (Team)\n\u2502   \u2502   \u251c\u2500\u2500 alice@acme.com (Tech Lead)\n\u2502   \u2502   \u251c\u2500\u2500 bob@acme.com (Developer)\n\u2502   \u2502   \u251c\u2500\u2500 payments-service (Project)\n\u2502   \u2502   \u251c\u2500\u2500 auth-service (Project)\n\u2502   \u2502   \u2514\u2500\u2500 gateway-service (Project)\n\u2502   \u2514\u2500\u2500 Data Platform Team (Team)\n\u2502       \u251c\u2500\u2500 carol@acme.com (Architect)\n\u2502       \u251c\u2500\u2500 analytics-pipeline (Project)\n\u2502       \u2514\u2500\u2500 ml-inference (Project)\n\u251c\u2500\u2500 Product Engineering (Org)\n\u2502   \u251c\u2500\u2500 Web Team (Team)\n\u2502   \u2502   \u251c\u2500\u2500 dashboard-ui (Project)\n\u2502   \u2502   \u2514\u2500\u2500 admin-portal (Project)\n\u2502   \u2514\u2500\u2500 Mobile Team (Team)\n\u2502       \u251c\u2500\u2500 ios-app (Project)\n\u2502       \u2514\u2500\u2500 android-app (Project)\n\u2514\u2500\u2500 Security (Org)\n    \u2514\u2500\u2500 SecOps Team (Team)\n        \u2514\u2500\u2500 security-scanner (Project)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OPAL Server"}),": Deployed and accessible"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"PostgreSQL"}),": For organizational referential"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cedar Agent"}),": Deployed via OPAL Client"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Aeterna CLI"}),": Installed and configured"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"quick-start-5-minutes",children:"Quick Start (5 Minutes)"}),"\n",(0,t.jsx)(n.h4,{id:"1-initialize-company",children:"1. Initialize Company"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna init\n\nWelcome to Aeterna!\n\nLet\'s set up your organization.\n\nCompany name: Acme Corp\nAdmin email: admin@acme.com\nSSO Provider (optional, press Enter to skip): okta\nGovernance level [standard/strict/permissive]: standard\n\nInitializing...\n\u2705 Company \'Acme Corp\' created\n\u2705 Default security policies applied\n\u2705 Admin role assigned to admin@acme.com\n\u2705 OPAL Server synchronized\n\nNext steps:\n  aeterna org create "Engineering"\n  aeterna team create "Platform" --org engineering\n  aeterna project init  # In your git repository\n'})}),"\n",(0,t.jsx)(n.h4,{id:"2-create-organization-and-team",children:"2. Create Organization and Team"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna org create \"Platform Engineering\"\n\n\u2705 Organization 'Platform Engineering' created in 'Acme Corp'\n   ID: org:acme-corp:platform-engineering\n   Inherited: 2 company-level policies\n   Members: 0 (invite users with 'aeterna user invite')\n\n$ aeterna team create \"API Team\" --org platform-engineering --lead alice@acme.com\n\n\u2705 Team 'API Team' created in 'Platform Engineering'\n   ID: team:platform-engineering:api-team\n   Lead: alice@acme.com (tech_lead)\n   Inherited: 3 policies from org\n   Members: 1\n"})}),"\n",(0,t.jsx)(n.h4,{id:"3-initialize-project-auto-detection",children:"3. Initialize Project (Auto-Detection)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ cd payments-service\n$ aeterna project init\n\n\ud83d\udd0d Detecting context...\n   Git remote: github.com/acme/payments-service\n   Git user: alice@acme.com\n   \n\ud83d\udccd Matched to: Platform Engineering \u2192 API Team\n\n\u2705 Project initialized: payments-service\n   Config: .aeterna/context.toml\n   Policies inherited: 5\n   Knowledge items: 23\n   \nYour project is ready! Try:\n   aeterna status          # Check current state\n   aeterna memory search   # Search memories\n   aeterna knowledge search # Search knowledge base\n"})}),"\n",(0,t.jsx)(n.h4,{id:"4-check-status",children:"4. Check Status"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna status\n\n\ud83d\udccd Current Context\n   Company:  acme-corp (from context.toml)\n   Org:      platform-engineering (from context.toml)\n   Team:     api-team (from git remote)\n   Project:  payments-service (from git remote)\n   User:     alice@acme.com (from git user.email)\n\n\ud83d\udea6 Governance Status\n   Active policies: 5\n   Pending approvals: 0\n   Recent violations: 0\n\n\ud83d\udcda Knowledge\n   ADRs: 12\n   Patterns: 8\n   Policies: 5\n\n\ud83d\udcbe Memory\n   Project memories: 15\n   Team memories: 47\n   Org memories: 123\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"persona-workflows",children:"Persona Workflows"}),"\n",(0,t.jsx)(n.h3,{id:"developer-workflow",children:"Developer Workflow"}),"\n",(0,t.jsx)(n.h4,{id:"daily-tasks",children:"Daily Tasks"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Morning: Check context and status"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna status\n\n\ud83d\udccd Current Context: acme-corp / platform-engineering / api-team / payments-service\n\ud83d\udea6 Status: All systems operational\n\ud83d\udccc Pending for you: None\n\nRecent team learnings:\n  \u2022 "PostgreSQL connection pooling: max 20 connections" (2 hours ago)\n  \u2022 "Use snake_case for API field names" (1 day ago)\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Search for relevant knowledge"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna knowledge search "how do we handle authentication"\n\nFound 3 results:\n\n[95%] ADR-015: JWT Authentication Strategy\n   "Use JWT tokens with 1-hour expiration, refresh tokens for long sessions"\n   Layer: org:platform-engineering\n   \n[88%] Pattern: OAuth2 Integration\n   "Standard OAuth2 flow for third-party integrations"\n   Layer: company:acme-corp\n   \n[72%] Policy: Authentication Requirements\n   "All APIs must implement authentication, no anonymous access"\n   Layer: company:acme-corp\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Search memory for past decisions"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna memory search "database decisions we made last month"\n\nFound 2 memories:\n\n[95%] team:api-team - 2024-01-10\n   "Decided to use PostgreSQL for all new services per ADR-042"\n   by alice@acme.com\n   \n[82%] org:platform-engineering - 2024-01-05\n   "Redis for caching, but not for primary data storage"\n   by bob@acme.com\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Check if a dependency is allowed"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna check dependency mysql\n\n\u274c BLOCKED\n\nPolicy: security-baseline (company)\nRule: no-mysql\nSeverity: block\nMessage: MySQL is prohibited. Use PostgreSQL instead.\nReference: ADR-042\n\nAllowed alternatives:\n  \u2022 postgresql\n  \u2022 pg (Node.js client)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Add memory about a decision"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna memory add "Decided to use bcrypt for password hashing, cost factor 12" \\\n  --layer project \\\n  --tags "security,authentication"\n\n\u2705 Memory added: mem_abc123\n   Layer: project:payments-service\n   Tags: security, authentication\n   \nTip: If this becomes team-wide, promote with:\n  aeterna memory promote mem_abc123 --to team\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Propose a new policy"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna policy create "Require 2FA for admin endpoints" --scope project --severity warn\n\n\ud83d\udccb Draft Policy Created: draft_xyz789\n\nName: require-2fa\nScope: project (payments-service)\nSeverity: warn\nEffect: Requires two-factor authentication for admin endpoints\n\nSimulating against current project...\n\u2705 Current project passes (2FA already implemented)\n\nSubmit for approval? [y/N]: y\nJustification: Security best practice for admin access\n\n\u2705 Proposal submitted: prop_abc123\nNotified: alice@acme.com (Tech Lead)\nReview period: 24 hours\n'})}),"\n",(0,t.jsx)(n.h3,{id:"tech-lead-workflow",children:"Tech Lead Workflow"}),"\n",(0,t.jsx)(n.h4,{id:"approval-management",children:"Approval Management"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Morning: Check pending approvals"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna govern pending\n\nYou have 3 pending approvals:\n\n[POLICY] prop_abc123 - "Require 2FA for admin endpoints"\n  Proposed by: bob@acme.com\n  Scope: project:payments-service\n  Created: 2 hours ago\n  View: aeterna policy draft show draft_xyz789\n\n[KNOWLEDGE] prop_def456 - "Add pattern for API pagination"\n  Proposed by: charlie@acme.com\n  Scope: team:api-team\n  Created: 1 day ago\n\n[MEMORY PROMOTION] prom_ghi789 - Promote to team layer\n  Memory: "KApp has 20-char ID limit"\n  Proposed by: alice@acme.com\n  Reason: "All team members should know this gotcha"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Review and approve policy proposal"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna policy draft show draft_xyz789\n\n\ud83d\udccb Policy Draft: require-2fa\n\nNatural Language:\n  "Require 2FA for admin endpoints"\n\nGenerated Cedar:\n  permit(\n    principal,\n    action == Action::"AccessAdminEndpoint",\n    resource\n  )\n  when {\n    principal.has_2fa == true\n  };\n\nHuman Readable:\n  This policy requires two-factor authentication for all admin endpoint access.\n  Violations will generate warnings but not block access.\n\nValidation:\n  \u2705 Syntax valid\n  \u2705 Schema compliant\n  \u26a0\ufe0f  Warning: Consider making this blocking (severity: block) for production\n\nSimulation Results:\n  Current project: \u2705 Pass (2FA implemented)\n  Hypothetical without 2FA: \u26a0\ufe0f  Warn\n\n$ aeterna govern approve prop_abc123 --comment "Good security practice, approved"\n\n\u2705 Proposal approved: prop_abc123\n   Policy activated: require-2fa\n   Effective immediately\n   Audit trail updated\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Promote memory to team layer"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna memory promote mem_abc123 --to team --reason "Critical gotcha for all team members"\n\n\u2705 Memory promoted: mem_abc123\n   From: project:payments-service\n   To: team:api-team\n   All team members will now see this memory in search results\n   Audit log: promotion recorded\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Configure team governance"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna govern configure --scope team:api-team --interactive\n\n\ud83d\udd27 Governance Configuration for team:api-team\n\nPolicy Approval Settings:\n  Required approvers [1]: 1\n  Allowed approvers [tech_lead,architect]: tech_lead,architect\n  Auto-approve for roles [none]: \n  Review period (hours) [24]: 48\n\nKnowledge Proposal Settings:\n  Required approvers [1]: 1\n  Allowed proposers [developer,tech_lead,architect]: developer,tech_lead,architect\n  Auto-approve types [none]: pattern\n\nMemory Promotion Settings:\n  Auto-promote threshold [0.9]: 0.85\n  Require approval above layer [team]: team\n\nSave configuration? [y/N]: y\n\n\u2705 Governance configured for team:api-team\n\nEffective rules:\n- Policies require 1 approval from tech_lead or architect\n- Knowledge patterns auto-approve, ADRs require review\n- Memory auto-promotes at 0.85 importance threshold\n"})}),"\n",(0,t.jsx)(n.h3,{id:"architect-workflow",children:"Architect Workflow"}),"\n",(0,t.jsx)(n.h4,{id:"organization-wide-policy-management",children:"Organization-Wide Policy Management"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Create organization-wide policy"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna policy create\n\nWhat should this policy do? All services must use OpenTelemetry for tracing\nScope? [project/team/org/company]: org\nSeverity? [info/warn/block]: warn\n\n\ud83d\udccb Draft Policy Created: draft_otel_001\n\nName: require-opentelemetry\nScope: org:platform-engineering\nSeverity: warn\nEffect: Requires opentelemetry dependency in all services\n\n\u26a0\ufe0f Impact Analysis:\n   12 services in scope\n   8 already compliant\n   4 would receive warnings:\n     - auth-service\n     - gateway\n     - legacy-api\n     - batch-processor\n\nWould you like to:\n1. Keep as warning (recommended for migration)\n2. Change to blocking\n3. Add grace period\n4. Exclude specific projects\n\nChoice: 4\nExclude which projects? legacy-api\n\nUpdated policy excludes legacy-api.\n\nSimulating...\n\u2705 Simulation complete\n\nSubmit for approval? [y/N]: y\nJustification: Standardizing on OpenTelemetry for observability\n\n\u2705 Proposal submitted: prop_org_001\nRequired approvers: 2 (org-level requires quorum)\nNotified: bob@acme.com (Admin), carol@acme.com (Architect)\nReview period: 48 hours (org-level policy)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Explain existing policy to developer"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna policy explain security-baseline\n\n\ud83d\udccb Policy: security-baseline\n\nSummary:\n  This company-wide mandatory policy enforces core security requirements\n  across all projects.\n\nScope: company:acme-corp\nMode: mandatory (cannot be overridden)\nCreated by: admin@acme.com on 2024-01-15\n\nRules:\n\n1. no-vulnerable-lodash\n   Effect: Blocks any project from using lodash versions below 4.17.21\n   Reason: CVE-2021-23337 (prototype pollution vulnerability)\n   Severity: block (prevents deployment)\n   \n2. require-security-doc\n   Effect: Requires every project to have a SECURITY.md file\n   Severity: warn (generates warning, allows action)\n\n3. tls-1-3-required\n   Effect: All network connections must use TLS 1.3 or higher\n   Severity: block\n\nApplies to: All projects in Acme Corp\nCannot be overridden by lower scopes\n\nRelated:\n  \u2022 ADR-008: Security Baseline Requirements\n  \u2022 Pattern: Secure Configuration\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Audit governance activity"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna govern audit --scope org:platform-engineering --last 30d\n\nGovernance Audit Report\nScope: org:platform-engineering\nPeriod: 2024-01-01 to 2024-01-31\n\nSummary:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Event Type          \u2502 Count \u2502 Approved \u2502 Rejected \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Policy Proposals    \u2502 15    \u2502 12       \u2502 3        \u2502\n\u2502 Knowledge Proposals \u2502 28    \u2502 26       \u2502 2        \u2502\n\u2502 Memory Promotions   \u2502 67    \u2502 67       \u2502 0        \u2502\n\u2502 Role Changes        \u2502 8     \u2502 8        \u2502 0        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nRecent Events:\n\n[2024-01-28 10:23] POLICY_APPROVED\n  Actor: alice@acme.com\n  Proposal: prop_org_001 (require-opentelemetry)\n  Comment: "LGTM, aligns with observability standards"\n\n[2024-01-27 15:45] POLICY_REJECTED\n  Actor: carol@acme.com\n  Proposal: prop_org_002 (mandate-graphql)\n  Reason: "Too prescriptive, teams should choose API style"\n\n[2024-01-26 09:12] ROLE_ASSIGNED\n  Actor: admin@acme.com\n  User: david@acme.com\n  Role: architect\n  Scope: org:platform-engineering\n\nExport full audit log? [y/N]: y\nFormat [csv/json]: csv\n\n\u2705 Exported to: governance-audit-2024-01.csv\n'})}),"\n",(0,t.jsx)(n.h3,{id:"admin-workflow",children:"Admin Workflow"}),"\n",(0,t.jsx)(n.h4,{id:"system-setup-and-management",children:"System Setup and Management"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Bootstrap entire organization"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna init --company "Acme Corp" --admin admin@acme.com --governance strict\n\n\u2705 Company initialized: acme-corp\n\nCreated:\n  \u2022 Company: Acme Corp\n  \u2022 Default org: default\n  \u2022 Admin user: admin@acme.com\n  \u2022 OPAL Server connection: established\n  \u2022 Cedar Agent: synchronized\n\nDefault policies applied:\n  \u2022 security-baseline (blocking)\n  \u2022 compliance-requirements (blocking)\n  \u2022 coding-standards (warning)\n\n$ aeterna org create "Platform Engineering"\n$ aeterna org create "Product Engineering"\n$ aeterna org create "Security"\n\n$ aeterna team create "API Team" --org platform-engineering --lead alice@acme.com\n$ aeterna team create "Data Platform" --org platform-engineering --lead bob@acme.com\n$ aeterna team create "Web Team" --org product-engineering --lead carol@acme.com\n$ aeterna team create "SecOps" --org security --lead dave@acme.com\n\n\u2705 Organization structure created\n   Total orgs: 3\n   Total teams: 4\n   Total users: 4\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Register user and assign roles"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna user register \\\n  --email eve@acme.com \\\n  --display-name "Eve Johnson" \\\n  --teams api-team,data-platform \\\n  --role developer\n\n\u2705 User registered: user:eve@acme.com\n\nMemberships:\n  \u2022 team:api-team (developer)\n  \u2022 team:data-platform (developer)\n\nCapabilities:\n  Memory: read, write, promote to team\n  Knowledge: read, propose\n  Policy: read, propose\n\n$ aeterna govern roles assign eve@acme.com tech_lead --scope team:api-team\n\n\u2705 Role assigned\n   User: eve@acme.com\n   Role: tech_lead\n   Scope: team:api-team\n   Granted by: admin@acme.com\n   \nUpdated capabilities for eve@acme.com in team:api-team:\n  \u2022 Can approve team-level proposals\n  \u2022 Can manage team resources\n  \u2022 Can promote memories to org layer\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: Register AI agent with delegation"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna agent register \\\n  --agent-id "agent:opencode-alice" \\\n  --delegated-by alice@acme.com \\\n  --scope project:payments-service \\\n  --max-severity warn \\\n  --expires 2024-12-31\n\n\u2705 Agent registered: agent:opencode-alice\n\nDelegation chain:\n  user:alice@acme.com\n    \u2192 team:api-team\n    \u2192 org:platform-engineering\n    \u2192 company:acme-corp\n\nCapabilities (delegated from alice@acme.com):\n  \u2022 Read memory: yes\n  \u2022 Write memory: yes\n  \u2022 Propose policies: yes (max severity: warn)\n  \u2022 Approve policies: no (requires human)\n  \u2022 Promote memories: team layer only\n\nToken: aeterna_agent_abc123xyz (save securely)\n\nConfigure your AI assistant:\n  export AETERNA_AGENT_ID="agent:opencode-alice"\n  export AETERNA_AGENT_TOKEN="aeterna_agent_abc123xyz"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Task: System health check"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna admin health --verbose\n\n\ud83c\udfe5 Aeterna System Health\n\nCore Services:\n  \u2705 OPAL Server: healthy (latency: 23ms)\n  \u2705 PostgreSQL: healthy (connections: 12/100)\n  \u2705 Cedar Agent: healthy (policies: 47 synced)\n  \u2705 Redis: healthy (memory: 45MB/2GB)\n  \u2705 Qdrant: healthy (collections: 7)\n\nGovernance:\n  \u2705 Active policies: 47\n  \u2705 Pending proposals: 3\n  \u26a0\ufe0f  Expired proposals: 1 (auto-archived)\n  \u2705 Recent approvals: 12 (last 24h)\n\nKnowledge:\n  \u2705 ADRs: 45\n  \u2705 Patterns: 52\n  \u2705 Policies: 47\n  \u2705 Git sync: up to date (last sync: 5 min ago)\n\nMemory:\n  \u2705 Total memories: 1,247\n  \u2705 Promoted this week: 89\n  \u2705 Average reward: 0.78\n  \u26a0\ufe0f  Low-reward memories: 23 (candidates for pruning)\n\nUsers & Agents:\n  \u2705 Registered users: 127\n  \u2705 Active agents: 45\n  \u2705 Team memberships: 312\n  \u26a0\ufe0f  Expired agent tokens: 3 (renewal recommended)\n\nRecommendations:\n  \u2022 Renew 3 expired agent tokens\n  \u2022 Review 1 expired proposal\n  \u2022 Consider pruning 23 low-reward memories\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"cli-command-reference",children:"CLI Command Reference"}),"\n",(0,t.jsx)(n.h3,{id:"core-commands",children:"Core Commands"}),"\n",(0,t.jsx)(n.h4,{id:"status-and-context",children:"Status and Context"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Show current status\naeterna status\naeterna status --scope company\naeterna status --json\n\n# Show/set context\naeterna context show\naeterna context set --team backend\naeterna context set --org engineering\naeterna context clear\n\n# Quick health check\naeterna check\naeterna check dependency mysql\naeterna check --dry-run\n"})}),"\n",(0,t.jsx)(n.h4,{id:"memory-commands",children:"Memory Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Search memories\naeterna memory search "database decisions"\naeterna memory search "auth" --layer team --last 30d\naeterna memory search "performance" --min-relevance 0.8\n\n# Browse memories\naeterna memory browse --layer team\naeterna memory browse --layer team --category decisions\naeterna memory browse --layer org --page 2\n\n# Add memory\naeterna memory add "Decided to use PostgreSQL" --layer project\naeterna memory add "Use snake_case for APIs" --layer team --tags "style,convention"\n\n# Promote memory\naeterna memory promote mem_abc123 --to team --reason "Team consensus"\naeterna memory promote mem_def456 --to org\n\n# Memory provenance\naeterna memory where mem_abc123\naeterna memory attribution mem_abc123\n\n# Provide feedback\naeterna memory feedback mem_abc123 --type helpful --score 0.9\naeterna memory feedback mem_def456 --type not-helpful --score 0.2\n'})}),"\n",(0,t.jsx)(n.h4,{id:"knowledge-commands",children:"Knowledge Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Search knowledge\naeterna knowledge search "authentication approaches"\naeterna knowledge search "database" --type adr\naeterna knowledge search "security" --layers company,org\n\n# Browse knowledge\naeterna knowledge browse --type adr\naeterna knowledge browse --type pattern --layer team\naeterna knowledge browse --type policy\n\n# Propose knowledge\naeterna knowledge propose "We should use JWT for auth" --type adr\naeterna knowledge propose "API rate limiting pattern" --type pattern\n\n# Explain knowledge\naeterna knowledge explain ADR-042\naeterna knowledge explain security-baseline\n\n# Get knowledge item\naeterna knowledge get company/adrs/adr-042.md\naeterna knowledge get team/patterns/api-pagination.md\n'})}),"\n",(0,t.jsx)(n.h4,{id:"policy-commands",children:"Policy Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Create policy (interactive)\naeterna policy create\naeterna policy create --interactive\n\n# Create policy (non-interactive)\naeterna policy create "Block MySQL usage" --scope project --severity block\naeterna policy create "Require README" --scope team --severity warn\n\n# List policies\naeterna policy list\naeterna policy list --scope team\naeterna policy list --scope org --include-inherited\naeterna policy list --severity block\naeterna policy list --format json\n\n# Explain policy\naeterna policy explain security-baseline\naeterna policy explain no-mysql --verbose\n\n# Simulate policy\naeterna policy simulate draft_abc123\naeterna policy simulate draft_abc123 --scenario \'{"dependencies": ["mysql"]}\'\naeterna policy simulate draft_abc123 --live\n\n# Draft management\naeterna policy draft show draft_abc123\naeterna policy draft list\naeterna policy draft submit draft_abc123 --justification "Per ADR-042"\naeterna policy draft delete draft_abc123\n'})}),"\n",(0,t.jsx)(n.h4,{id:"governance-commands",children:"Governance Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Configure governance\naeterna govern configure --scope org --interactive\naeterna govern configure --scope team --policy-approvers tech_lead,architect\naeterna govern configure --scope org --approval-count 2 --review-period 48h\n\n# View governance status\naeterna govern status\naeterna govern status --scope company\n\n# Manage roles\naeterna govern roles list\naeterna govern roles list --scope team\naeterna govern roles assign alice@acme.com tech_lead --scope team:backend\naeterna govern roles revoke alice@acme.com tech_lead --scope team:backend\n\n# Approval workflow\naeterna govern pending\naeterna govern pending --scope org\naeterna govern approve prop_abc123 --comment "LGTM"\naeterna govern reject prop_abc123 --reason "Needs revision"\n\n# Audit\naeterna govern audit --last 7d\naeterna govern audit --scope company --from 2024-01-01 --to 2024-01-31\naeterna govern audit --scope org --event-type policy_approved\naeterna govern audit --scope team --format csv > audit.csv\naeterna govern audit --scope company --format json | jq \'.events[]\'\n'})}),"\n",(0,t.jsx)(n.h4,{id:"organization-management",children:"Organization Management"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Initialize company\naeterna init\naeterna init --company "Acme Corp" --admin admin@acme.com\naeterna init --company "Acme" --governance strict\n\n# Create organization\naeterna org create "Platform Engineering"\naeterna org create "Product" --inherit-from platform-engineering\n\n# Create team\naeterna team create "API Team" --org platform-engineering\naeterna team create "Backend" --org engineering --lead alice@acme.com\n\n# Initialize project\naeterna project init\naeterna project init --team api-team\naeterna project init --path /path/to/repo\n\n# User management\naeterna user register --email bob@acme.com\naeterna user register --email carol@acme.com --teams api-team,data-team --role developer\naeterna user list\naeterna user list --team api-team\naeterna user whoami\n\n# Agent management\naeterna agent register --name "code-assistant" --delegated-by alice@acme.com\naeterna agent register --agent-id "agent:ci-bot" --scope project --max-severity warn\naeterna agent list\naeterna agent list --user alice@acme.com\naeterna agent revoke agent:opencode-alice\n'})}),"\n",(0,t.jsx)(n.h4,{id:"admin-commands",children:"Admin Commands"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Health check\naeterna admin health\naeterna admin health --verbose\n\n# Validate all policies\naeterna admin validate --all\naeterna admin validate --scope project\naeterna admin validate --policy security-baseline\n\n# Migration\naeterna admin migrate --from v1 --to v2 --dry-run\naeterna admin migrate --from v1 --to v2 --execute\n\n# Export/Import\naeterna admin export policies --scope company > policies.json\naeterna admin export policies --scope org --format yaml > org-policies.yaml\naeterna admin import policies < policies.json\naeterna admin import knowledge --from ./knowledge-export/\n\n# Drift detection\naeterna admin drift --scope project\naeterna admin drift --scope org --threshold 0.3\naeterna admin drift --all\n\n# Sync\naeterna sync\naeterna sync --force\naeterna sync --memory-knowledge\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"integration-scenarios",children:"Integration Scenarios"}),"\n",(0,t.jsx)(n.h3,{id:"cicd-integration",children:"CI/CD Integration"}),"\n",(0,t.jsx)(n.h4,{id:"github-actions-example",children:"GitHub Actions Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"name: Aeterna Governance Check\n\non: [pull_request]\n\njobs:\n  governance-check:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      \n      - name: Setup Aeterna CLI\n        run: |\n          curl -sSL https://get.aeterna.dev | sh\n          \n      - name: Context Resolution\n        env:\n          AETERNA_API_URL: ${{ secrets.AETERNA_API_URL }}\n          AETERNA_AGENT_ID: agent:ci-bot\n          AETERNA_AGENT_TOKEN: ${{ secrets.AETERNA_AGENT_TOKEN }}\n        run: |\n          aeterna context show\n          \n      - name: Check Dependencies\n        run: |\n          # Extract dependencies and check each\n          cat package.json | jq -r '.dependencies | keys[]' | while read dep; do\n            if ! aeterna check dependency \"$dep\"; then\n              echo \"::error::Dependency $dep violates policy\"\n              exit 1\n            fi\n          done\n          \n      - name: Validate Against Policies\n        run: |\n          aeterna check --all\n          \n      - name: Post Results to PR\n        if: failure()\n        uses: actions/github-script@v7\n        with:\n          script: |\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: '\u274c Governance check failed. See logs for details.'\n            })\n"})}),"\n",(0,t.jsx)(n.h4,{id:"gitlab-ci-example",children:"GitLab CI Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"governance_check:\n  stage: test\n  image: aeterna/cli:latest\n  variables:\n    AETERNA_API_URL: $AETERNA_API_URL\n    AETERNA_AGENT_ID: agent:ci-bot\n    AETERNA_AGENT_TOKEN: $AETERNA_AGENT_TOKEN\n  script:\n    - aeterna context show\n    - aeterna check --all\n    - aeterna admin drift --scope project\n  only:\n    - merge_requests\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ai-assistant-integration",children:"AI Assistant Integration"}),"\n",(0,t.jsx)(n.h4,{id:"opencode-plugin",children:"OpenCode Plugin"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// .opencode/config.ts\nimport { AeternaPlugin } from '@kiko-aeterna/opencode-plugin';\n\nexport default {\n  plugins: [\n    new AeternaPlugin({\n      apiUrl: process.env.AETERNA_API_URL,\n      agentId: 'agent:opencode-alice',\n      agentToken: process.env.AETERNA_AGENT_TOKEN,\n      \n      // Auto-inject context into agent prompts\n      autoInjectContext: true,\n      \n      // Check policies before code generation\n      policyCheckBeforeGeneration: true,\n      \n      // Add memories after successful tasks\n      autoMemoryCapture: true,\n      \n      // Search knowledge for relevant ADRs/patterns\n      knowledgeSearchEnabled: true,\n    }),\n  ],\n};\n"})}),"\n",(0,t.jsx)(n.h4,{id:"agent-workflow",children:"Agent Workflow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Example: AI agent autonomously managing governance\n\nasync def agent_workflow(user_request: str):\n    # Step 1: Search for relevant knowledge\n    knowledge = await aeterna_knowledge_search(\n        query=user_request,\n        layers=["project", "team", "org", "company"]\n    )\n    \n    # Step 2: Search for relevant memories\n    memories = await aeterna_memory_search(\n        query=user_request,\n        layers=["auto"]  # All accessible layers\n    )\n    \n    # Step 3: Generate code with context\n    code = await generate_code(\n        request=user_request,\n        knowledge_context=knowledge,\n        memory_context=memories\n    )\n    \n    # Step 4: Check policies before returning\n    validation = await aeterna_check(\n        code=code,\n        dependencies=extract_dependencies(code)\n    )\n    \n    if validation.has_blocking_violations:\n        # Explain violation and regenerate\n        return f"Cannot proceed: {validation.blocking_message}"\n    \n    # Step 5: Add memory about decision\n    if code_quality_high(code):\n        await aeterna_memory_add(\n            content=f"Successfully implemented {user_request}",\n            layer="session",\n            tags=["success", "implementation"]\n        )\n    \n    return code\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pre-commit-hook",children:"Pre-Commit Hook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# .git/hooks/pre-commit\n\n# Check if Aeterna is available\nif ! command -v aeterna &> /dev/null; then\n    echo "Aeterna CLI not found, skipping governance check"\n    exit 0\nfi\n\necho "Running Aeterna governance check..."\n\n# Get staged files\nSTAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM)\n\n# Check dependencies if package.json changed\nif echo "$STAGED_FILES" | grep -q "package.json"; then\n    echo "Checking dependencies..."\n    if ! aeterna check --dependencies; then\n        echo "\u274c Dependency check failed"\n        exit 1\n    fi\nfi\n\n# Check policies\nif ! aeterna check --staged; then\n    echo "\u274c Policy check failed"\n    echo "Override with: git commit --no-verify"\n    exit 1\nfi\n\necho "\u2705 Governance check passed"\nexit 0\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"advanced-topics",children:"Advanced Topics"}),"\n",(0,t.jsx)(n.h3,{id:"natural-language-to-cedar-translation",children:"Natural Language to Cedar Translation"}),"\n",(0,t.jsx)(n.h4,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     TRANSLATION PIPELINE                                     \u2502\n\u2502                                                                              \u2502\n\u2502  INPUT: "Block MySQL in this project"                                        \u2502\n\u2502                                                                              \u2502\n\u2502  Step 1: Intent Extraction (LLM)                                             \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                           \u2502\n\u2502  Prompt: Extract policy intent from natural language                         \u2502\n\u2502  Output: {                                                                   \u2502\n\u2502    "action": "deny",                                                         \u2502\n\u2502    "target_type": "dependency",                                              \u2502\n\u2502    "target_value": "mysql",                                                  \u2502\n\u2502    "severity": "block"                                                       \u2502\n\u2502  }                                                                           \u2502\n\u2502                                                                              \u2502\n\u2502  Step 2: Cedar Generation                                                    \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                                   \u2502\n\u2502  Template match: Deny + Dependency \u2192 Use forbid() pattern                    \u2502\n\u2502  Output: forbid(                                                             \u2502\n\u2502            principal,                                                        \u2502\n\u2502            action == Action::"UseDependency",                                \u2502\n\u2502            resource                                                          \u2502\n\u2502          )                                                                   \u2502\n\u2502          when {                                                              \u2502\n\u2502            resource.dependency == "mysql"                                    \u2502\n\u2502          };                                                                  \u2502\n\u2502                                                                              \u2502\n\u2502  Step 3: Validation                                                          \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                                          \u2502\n\u2502  Cedar parser: \u2705 Syntax valid                                               \u2502\n\u2502  Schema check: \u2705 Compliant                                                  \u2502\n\u2502  Conflict check: \u26a0\ufe0f  Warning: Consider blocking mysql2, mariadb as well      \u2502\n\u2502                                                                              \u2502\n\u2502  Step 4: Human-Readable Explanation (LLM)                                    \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501                                   \u2502\n\u2502  Prompt: Explain this Cedar policy in plain English                          \u2502\n\u2502  Output: "This policy blocks any code that uses MySQL as a dependency.       \u2502\n\u2502           Violations will prevent the action from proceeding."               \u2502\n\u2502                                                                              \u2502\n\u2502  OUTPUT: PolicyDraft (ready for review and proposal)                         \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h4,{id:"common-translation-patterns",children:"Common Translation Patterns"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Natural Language"}),(0,t.jsx)(n.th,{children:"Structured Intent"}),(0,t.jsx)(n.th,{children:"Cedar Template"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:'"Block MySQL"'}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'{action: deny, target: dependency, value: "mysql"}'})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'forbid() when { resource.dependency == "mysql" }'})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:'"Require README"'}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'{action: allow, target: file, value: "README.md", condition: must_exist}'})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'permit() when { file.exists("README.md") }'})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:'"No console.log in production"'}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'{action: deny, target: code, pattern: "console\\\\.log"}'})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'forbid() when { code.matches("console\\\\.log") }'})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:'"Only architects can approve"'}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'{action: allow, principal: role, value: "architect"}'})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'permit() when { principal.role == Role::"Architect" }'})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"meta-governance-policies-about-policies",children:"Meta-Governance: Policies About Policies"}),"\n",(0,t.jsxs)(n.p,{children:["Meta-governance defines ",(0,t.jsx)(n.strong,{children:"who can create, approve, and enforce policies"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"example-company-level-meta-governance",children:"Example: Company-Level Meta-Governance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna govern configure --scope company --interactive\n\n\ud83d\udd27 Meta-Governance Configuration\n\nWho can propose company-level policies?\n  [architects, admins]: admins\n\nWho can approve company-level policies?\n  [architect, admin]: admin\n\nRequired approvers: 2\n\nAuto-approve for roles: none\n\nReview period (hours): 72\n\nWhat happens if no response?\n  [escalate, auto-reject]: escalate\n\nEscalate to: ceo@acme.com\n\nSave? [y/N]: y\n\n\u2705 Meta-governance configured\n\nEffective rules:\n- Only admins can propose company policies\n- Requires 2 admin approvals\n- 72-hour review period\n- Auto-escalates to CEO if no response\n"})}),"\n",(0,t.jsx)(n.h4,{id:"cedar-meta-policy-example",children:"Cedar Meta-Policy Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cedar",children:'// Meta-policy: Only admins can configure governance\npermit(\n  principal,\n  action == Action::"ConfigureGovernance",\n  resource\n)\nwhen {\n  principal.role == Role::"Admin" &&\n  principal.scope.contains(resource.scope)\n};\n\n// Meta-policy: Agents cannot approve blocking policies\nforbid(\n  principal is Agent,\n  action == Action::"ApprovePolicy",\n  resource\n)\nwhen {\n  resource.policy.severity == Severity::"Block" &&\n  !resource.has_human_confirmation\n};\n\n// Meta-policy: Company policies require admin approval\npermit(\n  principal,\n  action == Action::"ApprovePolicy",\n  resource\n)\nwhen {\n  resource.scope == Scope::"Company"\n}\nonly_if {\n  principal.role == Role::"Admin"\n};\n'})}),"\n",(0,t.jsx)(n.h3,{id:"context-resolution-deep-dive",children:"Context Resolution Deep Dive"}),"\n",(0,t.jsx)(n.h4,{id:"resolution-priority-order",children:"Resolution Priority Order"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'1. Explicit CLI flags\n   --company acme --org platform --team api --project payments\n   \u2193 HIGHEST PRECEDENCE\n   \n2. Environment variables\n   AETERNA_COMPANY=acme\n   AETERNA_ORG=platform\n   AETERNA_TEAM=api\n   AETERNA_PROJECT=payments\n   \u2193\n   \n3. Local context file\n   .aeterna/context.toml\n   \u2193\n   \n4. Parent directory traversal\n   Walk up from current dir looking for .aeterna/\n   \u2193\n   \n5. Git remote detection\n   git remote -v \u2192 github.com/acme/payments-service\n   \u2193\n   \n6. Git user detection\n   git config user.email \u2192 alice@acme.com\n   \u2193\n   \n7. SSO/JWT claims\n   JWT token \u2192 { company: "acme", email: "alice@acme.com" }\n   \u2193\n   \n8. Interactive prompt\n   Ask user to select company/org/team\n   \u2193 LOWEST PRECEDENCE\n'})}),"\n",(0,t.jsx)(n.h4,{id:"context-file-schema",children:"Context File Schema"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-toml",children:'# .aeterna/context.toml\n\n[context]\ncompany = "acme-corp"\norg = "platform-engineering"\nteam = "api-team"\nproject = "payments-service"\n\n[user]\nemail = "alice@acme.com"\n\n[agent]\n# Populated if running as agent\nid = "agent:opencode-alice"\ndelegated_by = "alice@acme.com"\n\n[defaults]\nmemory_layer = "project"\npolicy_scope = "project"\nauto_sync = true\n\n[overrides]\n# Override auto-detection\n# team = "backend-team"  # Uncomment to force team context\n'})}),"\n",(0,t.jsx)(n.h4,{id:"git-remote-mapping",children:"Git Remote Mapping"}),"\n",(0,t.jsx)(n.p,{children:"Aeterna maps git remote URLs to organizational structure:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Git Remote"}),(0,t.jsx)(n.th,{children:"Detected Context"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"github.com/acme/payments-service"})}),(0,t.jsx)(n.td,{children:"company: acme, project: payments-service"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"gitlab.com/acme-corp/platform/api-team/gateway"})}),(0,t.jsx)(n.td,{children:"company: acme-corp, org: platform, team: api-team, project: gateway"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bitbucket.org/acme/data/analytics-pipeline"})}),(0,t.jsx)(n.td,{children:"company: acme, org: data, project: analytics-pipeline"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Patterns are configurable in OPAL Server."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsx)(n.h4,{id:"issue-context-resolution-fails",children:"Issue: Context Resolution Fails"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna status\nERROR: Unable to resolve context\n\nPossible causes:\n1. Not in a git repository\n2. No .aeterna/context.toml found\n3. Git remote not mapped to organization\n4. Environment variables not set\n\nSolutions:\n  # Option 1: Initialize project\n  aeterna project init --team api-team\n  \n  # Option 2: Set context explicitly\n  aeterna context set --company acme --org platform --team api\n  \n  # Option 3: Use environment variables\n  export AETERNA_COMPANY=acme\n  export AETERNA_ORG=platform\n  export AETERNA_TEAM=api\n  \n  # Option 4: Use CLI flags\n  aeterna status --company acme --org platform --team api\n"})}),"\n",(0,t.jsx)(n.h4,{id:"issue-policy-validation-fails",children:"Issue: Policy Validation Fails"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna policy create "Block MySQL" --scope project\nERROR: Policy validation failed\n\nValidation errors:\n  \u2022 Schema error: Unknown attribute \'dep\' on resource\n    Line 3: resource.dep == "mysql"\n    Suggestion: Did you mean \'dependency\'?\n\nSolution:\n  The natural language translator made an error.\n  Try being more specific:\n  \n  aeterna policy create "Block MySQL database dependency" --scope project\n'})}),"\n",(0,t.jsx)(n.h4,{id:"issue-approval-workflow-stuck",children:"Issue: Approval Workflow Stuck"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna govern pending\nYou have 1 pending approval:\n\n[POLICY] prop_abc123 - "Require 2FA"\n  Status: PENDING\n  Created: 5 days ago\n  Expires: EXPIRED\n  Required approvers: 1\n  Current approvals: 0\n\n$ aeterna govern status\n\u26a0\ufe0f  Warning: 1 expired proposal\n\nSolution:\n  # Option 1: Manually approve (if authorized)\n  aeterna govern approve prop_abc123\n  \n  # Option 2: Reject and re-propose\n  aeterna govern reject prop_abc123 --reason "Expired, will re-propose"\n  \n  # Option 3: Configure auto-escalation\n  aeterna govern configure --scope team --auto-escalate-after 48h\n'})}),"\n",(0,t.jsx)(n.h4,{id:"issue-agent-token-expired",children:"Issue: Agent Token Expired"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna check\nERROR: Agent authentication failed\nReason: Token expired\n\nSolution:\n  # Renew agent token\n  aeterna agent renew agent:opencode-alice\n  \n  # Or register new agent\n  aeterna agent register --name "code-assistant" --delegated-by alice@acme.com\n  \n  # Update environment variable\n  export AETERNA_AGENT_TOKEN="<new-token>"\n'})}),"\n",(0,t.jsx)(n.h4,{id:"issue-opal-sync-failure",children:"Issue: OPAL Sync Failure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna status\n\u26a0\ufe0f  Warning: OPAL Server unreachable\n\n$ aeterna admin health\n\u274c OPAL Server: connection refused\n\nSolution:\n  # Check OPAL Server status\n  curl http://opal-server:8181/health\n  \n  # Check network connectivity\n  ping opal-server\n  \n  # Verify configuration\n  cat ~/.aeterna/config.toml | grep opal_url\n  \n  # Update OPAL URL if needed\n  aeterna config set opal_url "https://opal.acme.com"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Enable verbose logging:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'export AETERNA_LOG_LEVEL=debug\naeterna policy create "Block MySQL" --verbose\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Check Cedar Agent sync status:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ aeterna admin health --component cedar-agent\n\nCedar Agent Status:\n  Connected to OPAL: \u2705\n  Last sync: 2 minutes ago\n  Synced policies: 47\n  Synced data: companies (1), orgs (3), teams (12), users (127)\n  \nSubscribed topics:\n  - company:acme-corp\n  - org:platform-engineering\n  - team:api-team\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"View raw Cedar policy:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna policy draft show draft_abc123 --format cedar\n\nforbid(\n  principal,\n  action == Action::"UseDependency",\n  resource\n)\nwhen {\n  resource.dependency == "mysql"\n};\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Test policy simulation manually:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ aeterna policy simulate draft_abc123 \\\n  --scenario \'{"dependencies": ["mysql", "pg", "redis"]}\' \\\n  --verbose\n\nSimulation Results:\n\nScenario: custom\nContext:\n  dependencies: ["mysql", "pg", "redis"]\n\nPolicy Evaluation:\n  Rule: forbid-mysql-dependency\n    Target: dependency\n    Operator: ==\n    Value: "mysql"\n    Match: dependencies[0] = "mysql"\n    Result: VIOLATION\n\nOutcome: BLOCK\nViolations:\n  \u2022 MySQL dependency is prohibited (severity: block)\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"Aeterna's UX-First Governance revolutionizes enterprise policy management by:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Eliminating complexity"}),": Natural language instead of Cedar DSL"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zero-config onboarding"}),": Auto-detect context, initialize in seconds"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Real-time sync"}),": OPAL + Cedar Agent keep policies consistent globally"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AI-first design"}),": Agents propose, simulate, and manage governance autonomously"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Meta-governance"}),": Policies about policies ensure proper oversight"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Complete audit trail"}),": Every action logged from intent to enforcement"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"The result"}),": Governance becomes an enabler, not a blocker. Developers stay in flow, architects maintain standards, and AI agents operate with safety guardrails."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For Developers"}),": Run ",(0,t.jsx)(n.code,{children:"aeterna status"})," and explore your current context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For Tech Leads"}),": Configure team governance with ",(0,t.jsx)(n.code,{children:"aeterna govern configure"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For Architects"}),": Create org-wide policies with ",(0,t.jsx)(n.code,{children:"aeterna policy create"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For Admins"}),": Bootstrap your organization with ",(0,t.jsx)(n.code,{children:"aeterna init"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Need help?"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Documentation: ",(0,t.jsx)(n.a,{href:"https://docs.aeterna.dev",children:"https://docs.aeterna.dev"})]}),"\n",(0,t.jsxs)(n.li,{children:["Community: ",(0,t.jsx)(n.a,{href:"https://discord.gg/aeterna",children:"https://discord.gg/aeterna"})]}),"\n",(0,t.jsxs)(n.li,{children:["Support: ",(0,t.jsx)(n.a,{href:"mailto:support@aeterna.dev",children:"support@aeterna.dev"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Document Version"}),": 1.0.0\n",(0,t.jsx)(n.strong,{children:"Last Updated"}),": January 2024\n",(0,t.jsx)(n.strong,{children:"Change"}),": add-ux-first-governance"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,a){a.d(n,{R:()=>o,x:()=>s});var r=a(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);