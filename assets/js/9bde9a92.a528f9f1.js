"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3888],{6426(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"specs/core-concepts","title":"Core Concepts and Terminology","description":"This document establishes the foundational vocabulary and mental models for the Memory-Knowledge System. All subsequent specifications reference these definitions.","source":"@site/docs/specs/01-core-concepts.md","sourceDirName":"specs","slug":"/specs/core-concepts","permalink":"/aeterna/docs/specs/core-concepts","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/specs/01-core-concepts.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Core Concepts and Terminology","status":"draft","version":"0.1.0","created":"2025-01-07T00:00:00.000Z","authors":["AI Systems Architecture Team"],"related":["00-overview.md","02-memory-system.md","03-knowledge-repository.md"]},"sidebar":"docs","previous":{"title":"Memory-Knowledge System Specification","permalink":"/aeterna/docs/specs/overview"},"next":{"title":"Architecture: Memory-Knowledge System","permalink":"/aeterna/docs/architecture-overview"}}');var t=r(4848),i=r(8453);const d={title:"Core Concepts and Terminology",status:"draft",version:"0.1.0",created:new Date("2025-01-07T00:00:00.000Z"),authors:["AI Systems Architecture Team"],related:["00-overview.md","02-memory-system.md","03-knowledge-repository.md"]},l="Core Concepts and Terminology",o={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Glossary",id:"glossary",level:2},{value:"Core Entities",id:"core-entities",level:3},{value:"Memory System Terms",id:"memory-system-terms",level:3},{value:"Knowledge Repository Terms",id:"knowledge-repository-terms",level:3},{value:"Sync System Terms",id:"sync-system-terms",level:3},{value:"Infrastructure Terms",id:"infrastructure-terms",level:3},{value:"Mental Model",id:"mental-model",level:2},{value:"The Two-System Architecture",id:"the-two-system-architecture",level:3},{value:"Memory: The &quot;Fast Brain&quot;",id:"memory-the-fast-brain",level:3},{value:"Knowledge: The &quot;Reference Library&quot;",id:"knowledge-the-reference-library",level:3},{value:"The Pointer Pattern",id:"the-pointer-pattern",level:3},{value:"Design Principles",id:"design-principles",level:2},{value:"1. Separation of Concerns",id:"1-separation-of-concerns",level:3},{value:"2. Provider Agnosticism",id:"2-provider-agnosticism",level:3},{value:"3. Ecosystem Agnosticism",id:"3-ecosystem-agnosticism",level:3},{value:"4. Hierarchical Layering",id:"4-hierarchical-layering",level:3},{value:"5. Immutability Where It Matters",id:"5-immutability-where-it-matters",level:3},{value:"6. Offline-First",id:"6-offline-first",level:3},{value:"7. Graceful Degradation",id:"7-graceful-degradation",level:3},{value:"System Boundaries",id:"system-boundaries",level:2},{value:"What This Specification Covers",id:"what-this-specification-covers",level:3},{value:"What This Specification Does NOT Cover",id:"what-this-specification-does-not-cover",level:3},{value:"Interface Boundaries",id:"interface-boundaries",level:3},{value:"Data Flow Patterns",id:"data-flow-patterns",level:2},{value:"Pattern 1: Memory Write",id:"pattern-1-memory-write",level:3},{value:"Pattern 2: Memory Search",id:"pattern-2-memory-search",level:3},{value:"Pattern 3: Knowledge Query",id:"pattern-3-knowledge-query",level:3},{value:"Pattern 4: Constraint Check",id:"pattern-4-constraint-check",level:3},{value:"Pattern 5: Memory-Knowledge Sync",id:"pattern-5-memory-knowledge-sync",level:3},{value:"Key Invariants",id:"key-invariants",level:2},{value:"Memory Invariants",id:"memory-invariants",level:3},{value:"Knowledge Invariants",id:"knowledge-invariants",level:3},{value:"Sync Invariants",id:"sync-invariants",level:3},{value:"Layer Invariants",id:"layer-invariants",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"core-concepts-and-terminology",children:"Core Concepts and Terminology"})}),"\n",(0,t.jsx)(n.p,{children:"This document establishes the foundational vocabulary and mental models for the Memory-Knowledge System. All subsequent specifications reference these definitions."}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#glossary",children:"Glossary"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#mental-model",children:"Mental Model"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#design-principles",children:"Design Principles"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#system-boundaries",children:"System Boundaries"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#data-flow-patterns",children:"Data Flow Patterns"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"glossary",children:"Glossary"}),"\n",(0,t.jsx)(n.h3,{id:"core-entities",children:"Core Entities"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Term"}),(0,t.jsx)(n.th,{children:"Definition"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory"})}),(0,t.jsx)(n.td,{children:"A discrete unit of semantic information stored for retrieval. Contains content, metadata, and vector embedding."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge"})}),(0,t.jsx)(n.td,{children:"A structured, versioned artifact representing organizational decisions, policies, patterns, or specifications."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory Layer"})}),(0,t.jsx)(n.td,{children:"A hierarchical scope for memory isolation (agent, user, session, project, team, org, company)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge Layer"})}),(0,t.jsx)(n.td,{children:"A hierarchical scope for knowledge federation (project, team, org, company)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Provider"})}),(0,t.jsx)(n.td,{children:"A storage backend that persists memories (e.g., Mem0, Letta, Chroma, Pinecone)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Ecosystem"})}),(0,t.jsx)(n.td,{children:"An AI agent framework that consumes this specification (e.g., LangChain, AutoGen, CrewAI, OpenCode)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Adapter"})}),(0,t.jsx)(n.td,{children:"A bridge component that translates between this specification and a specific provider or ecosystem."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"memory-system-terms",children:"Memory System Terms"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Term"}),(0,t.jsx)(n.th,{children:"Definition"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory Entry"})}),(0,t.jsx)(n.td,{children:"A single memory record with id, content, embedding, metadata, and layer assignment."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory Search"})}),(0,t.jsx)(n.td,{children:"Vector-based semantic retrieval of memories matching a query."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Layer Precedence"})}),(0,t.jsx)(n.td,{children:"Rules determining which layer's memory takes priority when conflicts exist."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory Consolidation"})}),(0,t.jsx)(n.td,{children:"Process of merging similar memories to reduce redundancy."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory Decay"})}),(0,t.jsx)(n.td,{children:"Optional mechanism to reduce relevance of old memories over time."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Rehydration"})}),(0,t.jsx)(n.td,{children:"Loading memories into agent context at session start."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"knowledge-repository-terms",children:"Knowledge Repository Terms"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Term"}),(0,t.jsx)(n.th,{children:"Definition"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge Item"})}),(0,t.jsx)(n.td,{children:"A single versioned artifact (ADR, policy, pattern, spec)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge Type"})}),(0,t.jsxs)(n.td,{children:["Category of knowledge: ",(0,t.jsx)(n.code,{children:"adr"}),", ",(0,t.jsx)(n.code,{children:"policy"}),", ",(0,t.jsx)(n.code,{children:"pattern"}),", ",(0,t.jsx)(n.code,{children:"spec"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge Commit"})}),(0,t.jsx)(n.td,{children:"An immutable snapshot of a knowledge item at a point in time."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Constraint"})}),(0,t.jsx)(n.td,{children:"A declarative rule attached to knowledge that guides agent behavior."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Constraint DSL"})}),(0,t.jsx)(n.td,{children:"Domain-specific language for expressing constraints."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Manifest"})}),(0,t.jsx)(n.td,{children:"Index file listing all knowledge items with metadata."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Federation"})}),(0,t.jsx)(n.td,{children:"Multi-tenant knowledge sharing across organizational boundaries."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"sync-system-terms",children:"Sync System Terms"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Term"}),(0,t.jsx)(n.th,{children:"Definition"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Sync Bridge"})}),(0,t.jsx)(n.td,{children:"Component that synchronizes memory and knowledge systems."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Pointer"})}),(0,t.jsx)(n.td,{children:"Memory entry that references knowledge item (stores summary, links to full content)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Delta Sync"})}),(0,t.jsx)(n.td,{children:"Efficient synchronization using content hashing to detect changes."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Content Hash"})}),(0,t.jsx)(n.td,{children:"SHA-256 hash of knowledge item content for change detection."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Sync State"})}),(0,t.jsx)(n.td,{children:"Persistent record of last sync timestamp and hashes."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Conflict"})}),(0,t.jsx)(n.td,{children:"Situation where memory and knowledge have diverged."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"infrastructure-terms",children:"Infrastructure Terms"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Term"}),(0,t.jsx)(n.th,{children:"Definition"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Vector Store"})}),(0,t.jsx)(n.td,{children:"Database optimized for similarity search (Qdrant, Pinecone, Chroma)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Embedding Model"})}),(0,t.jsx)(n.td,{children:"ML model that converts text to vector representations."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Central Hub"})}),(0,t.jsx)(n.td,{children:"Git repository containing federated knowledge from multiple tenants."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Upstream"})}),(0,t.jsx)(n.td,{children:"Parent layer in federation hierarchy (e.g., org is upstream of project)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Downstream"})}),(0,t.jsx)(n.td,{children:"Child layer in federation hierarchy (e.g., project is downstream of org)."})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mental-model",children:"Mental Model"}),"\n",(0,t.jsx)(n.h3,{id:"the-two-system-architecture",children:"The Two-System Architecture"}),"\n",(0,t.jsxs)(n.p,{children:["Think of the Memory-Knowledge System as ",(0,t.jsx)(n.strong,{children:"two complementary databases"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502    MEMORY SYSTEM     \u2502       \u2502  KNOWLEDGE REPOSITORY \u2502       \u2502\n\u2502  \u2502                      \u2502       \u2502                       \u2502       \u2502\n\u2502  \u2502  "What I remember"   \u2502       \u2502  "What I should know" \u2502       \u2502\n\u2502  \u2502                      \u2502       \u2502                       \u2502       \u2502\n\u2502  \u2502  \u2022 Semantic search   \u2502       \u2502  \u2022 Versioned content  \u2502       \u2502\n\u2502  \u2502  \u2022 Fast retrieval    \u2502       \u2502  \u2022 Full audit trail   \u2502       \u2502\n\u2502  \u2502  \u2022 Fuzzy matching    \u2502       \u2502  \u2022 Constraint rules   \u2502       \u2502\n\u2502  \u2502  \u2022 Session context   \u2502       \u2502  \u2022 Org-wide policies  \u2502       \u2502\n\u2502  \u2502                      \u2502       \u2502                       \u2502       \u2502\n\u2502  \u2502  Vector DB           \u2502       \u2502  Git Repository       \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502             \u2502                               \u2502                    \u2502\n\u2502             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502                         \u2502                                        \u2502\n\u2502                         \u25bc                                        \u2502\n\u2502                   SYNC BRIDGE                                    \u2502\n\u2502             (Keeps them aligned)                                 \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h3,{id:"memory-the-fast-brain",children:'Memory: The "Fast Brain"'}),"\n",(0,t.jsxs)(n.p,{children:["Memory is like ",(0,t.jsx)(n.strong,{children:"working memory"})," in human cognition:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Quick access"}),": Optimized for fast semantic retrieval"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fuzzy matching"}),': "Find things similar to X"']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Contextual"}),": Scoped to sessions, users, projects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ephemeral-ish"}),": Can be consolidated, pruned, or decayed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Summaries"}),": Stores digestible chunks, not full documents"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use memory when"}),": You need to quickly recall relevant context during agent execution."]}),"\n",(0,t.jsx)(n.h3,{id:"knowledge-the-reference-library",children:'Knowledge: The "Reference Library"'}),"\n",(0,t.jsxs)(n.p,{children:["Knowledge is like ",(0,t.jsx)(n.strong,{children:"long-term institutional memory"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authoritative"}),": Single source of truth"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Versioned"}),": Full history of changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Structured"}),": Typed artifacts with schemas"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enforced"}),": Constraints that guide behavior"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Permanent"}),": Immutable commits, never lost"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use knowledge when"}),": You need to establish, enforce, or reference organizational decisions."]}),"\n",(0,t.jsx)(n.h3,{id:"the-pointer-pattern",children:"The Pointer Pattern"}),"\n",(0,t.jsxs)(n.p,{children:["Memory and knowledge are connected via ",(0,t.jsx)(n.strong,{children:"pointers"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        MEMORY ENTRY                              \u2502\n\u2502                                                                  \u2502\n\u2502  id: "mem_abc123"                                               \u2502\n\u2502  content: "Use PostgreSQL for all new services (ADR-042)"       \u2502\n\u2502  embedding: [0.12, -0.34, 0.56, ...]                            \u2502\n\u2502  metadata:                                                       \u2502\n\u2502    type: "knowledge_pointer"                                    \u2502\n\u2502    sourceType: "adr"                                            \u2502\n\u2502    sourceId: "adr-042-database-selection"       \u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502    contentHash: "sha256:abc123..."                   \u2502          \u2502\n\u2502                                                      \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                       \u2502\n                                                       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      KNOWLEDGE ITEM                              \u2502\n\u2502                                                                  \u2502\n\u2502  id: "adr-042-database-selection"                               \u2502\n\u2502  type: "adr"                                                    \u2502\n\u2502  title: "Database Selection for New Services"                   \u2502\n\u2502  content: |                                                     \u2502\n\u2502    ## Context                                                   \u2502\n\u2502    We need to standardize on a database for new services...     \u2502\n\u2502    (500+ lines of detailed rationale)                           \u2502\n\u2502                                                                  \u2502\n\u2502  constraints:                                                    \u2502\n\u2502    - operator: must_use                                         \u2502\n\u2502      target: dependency                                         \u2502\n\u2502      pattern: "postgresql"                                      \u2502\n\u2502      severity: block                                            \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Why pointers?"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Memory stays lean"}),": Summaries fit in context windows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Knowledge stays complete"}),": Full content always available"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sync is efficient"}),": Compare hashes, not content"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Search is fast"}),": Vector search on summaries"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audit is preserved"}),": Knowledge history intact"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"design-principles",children:"Design Principles"}),"\n",(0,t.jsx)(n.h3,{id:"1-separation-of-concerns",children:"1. Separation of Concerns"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   RETRIEVAL     \u2502     \u2502    STORAGE      \u2502     \u2502   ENFORCEMENT   \u2502\n\u2502                 \u2502     \u2502                 \u2502     \u2502                 \u2502\n\u2502 "Find relevant  \u2502     \u2502 "Persist and    \u2502     \u2502 "Apply rules    \u2502\n\u2502  information"   \u2502     \u2502  version data"  \u2502     \u2502  to behavior"   \u2502\n\u2502                 \u2502     \u2502                 \u2502     \u2502                 \u2502\n\u2502 Memory System   \u2502     \u2502 Both Systems    \u2502     \u2502 Knowledge Repo  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.p,{children:"Each system has a clear responsibility:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Memory"}),": Retrieval and context augmentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Knowledge"}),": Storage, versioning, and constraint enforcement"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sync Bridge"}),": Consistency between systems"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-provider-agnosticism",children:"2. Provider Agnosticism"}),"\n",(0,t.jsxs)(n.p,{children:["The specification defines ",(0,t.jsx)(n.strong,{children:"interfaces, not implementations"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    APPLICATION CODE                              \u2502\n\u2502                                                                  \u2502\n\u2502  const memory = await memoryManager.search("database policies") \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    PROVIDER ADAPTER                              \u2502\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502  Mem0   \u2502  \u2502  Letta  \u2502  \u2502 Chroma  \u2502  \u2502Pinecone \u2502            \u2502\n\u2502  \u2502 Adapter \u2502  \u2502 Adapter \u2502  \u2502 Adapter \u2502  \u2502 Adapter \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.p,{children:"Switch providers by changing configuration, not code."}),"\n",(0,t.jsx)(n.h3,{id:"3-ecosystem-agnosticism",children:"3. Ecosystem Agnosticism"}),"\n",(0,t.jsxs)(n.p,{children:["The specification works with ",(0,t.jsx)(n.strong,{children:"any AI agent framework"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    ECOSYSTEM ADAPTERS                            \u2502\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 LangChain \u2502  \u2502  AutoGen  \u2502  \u2502  CrewAI   \u2502  \u2502 OpenCode  \u2502    \u2502\n\u2502  \u2502  Adapter  \u2502  \u2502  Adapter  \u2502  \u2502  Adapter  \u2502  \u2502  Adapter  \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502        \u2502              \u2502              \u2502              \u2502            \u2502\n\u2502        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502                              \u2502                                   \u2502\n\u2502                              \u25bc                                   \u2502\n\u2502               UNIFIED MEMORY-KNOWLEDGE API                       \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-hierarchical-layering",children:"4. Hierarchical Layering"}),"\n",(0,t.jsxs)(n.p,{children:["Both memory and knowledge use ",(0,t.jsx)(n.strong,{children:"hierarchical layers"})," with precedence:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"MEMORY LAYERS (7 levels)              KNOWLEDGE LAYERS (4 levels)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500             \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nagent    \u25c4\u2500\u2500 Most specific            project  \u25c4\u2500\u2500 Most specific\n   \u2502                                      \u2502\nuser                                   team\n   \u2502                                      \u2502\nsession                                org\n   \u2502                                      \u2502\nproject                                company \u25c4\u2500\u2500 Least specific\n   \u2502\nteam\n   \u2502\norg\n   \u2502\ncompany  \u25c4\u2500\u2500 Least specific\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Precedence rule"}),": More specific layers override less specific layers."]}),"\n",(0,t.jsx)(n.h3,{id:"5-immutability-where-it-matters",children:"5. Immutability Where It Matters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"System"}),(0,t.jsx)(n.th,{children:"Mutability"}),(0,t.jsx)(n.th,{children:"Rationale"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory"})}),(0,t.jsx)(n.td,{children:"Mutable"}),(0,t.jsx)(n.td,{children:"Consolidation, decay, updates needed"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge Commits"})}),(0,t.jsx)(n.td,{children:"Immutable"}),(0,t.jsx)(n.td,{children:"Audit trail, reproducibility"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Sync State"})}),(0,t.jsx)(n.td,{children:"Mutable"}),(0,t.jsx)(n.td,{children:"Tracks last sync position"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"6-offline-first",children:"6. Offline-First"}),"\n",(0,t.jsx)(n.p,{children:"The system must work without network connectivity:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     OFFLINE OPERATION                            \u2502\n\u2502                                                                  \u2502\n\u2502  1. Local memory cache serves reads                             \u2502\n\u2502  2. Local knowledge repo serves reads                           \u2502\n\u2502  3. Writes queue for later sync                                 \u2502\n\u2502  4. Conflict resolution on reconnect                            \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h3,{id:"7-graceful-degradation",children:"7. Graceful Degradation"}),"\n",(0,t.jsx)(n.p,{children:"If one system is unavailable, the other continues:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Scenario"}),(0,t.jsx)(n.th,{children:"Behavior"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Memory unavailable"}),(0,t.jsx)(n.td,{children:"Knowledge still enforces constraints"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Knowledge unavailable"}),(0,t.jsx)(n.td,{children:"Memory still provides context"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Sync unavailable"}),(0,t.jsx)(n.td,{children:"Both operate independently, sync later"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Provider unavailable"}),(0,t.jsx)(n.td,{children:"Fall back to local cache if configured"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"system-boundaries",children:"System Boundaries"}),"\n",(0,t.jsx)(n.h3,{id:"what-this-specification-covers",children:"What This Specification Covers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      IN SCOPE                                    \u2502\n\u2502                                                                  \u2502\n\u2502  \u2022 Memory storage and retrieval interfaces                      \u2502\n\u2502  \u2022 Knowledge repository structure and versioning                \u2502\n\u2502  \u2022 Constraint DSL and enforcement rules                         \u2502\n\u2502  \u2022 Sync bridge algorithm and state management                   \u2502\n\u2502  \u2022 Provider adapter interface contracts                         \u2502\n\u2502  \u2022 Ecosystem adapter interface contracts                        \u2502\n\u2502  \u2022 Tool/function calling contracts                              \u2502\n\u2502  \u2022 Configuration schema and validation                          \u2502\n\u2502  \u2022 Data portability and migration                               \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h3,{id:"what-this-specification-does-not-cover",children:"What This Specification Does NOT Cover"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     OUT OF SCOPE                                 \u2502\n\u2502                                                                  \u2502\n\u2502  \u2022 Agent orchestration (how agents are scheduled)               \u2502\n\u2502  \u2022 LLM selection (which models to use)                          \u2502\n\u2502  \u2022 Embedding model selection (delegated to provider)            \u2502\n\u2502  \u2022 User authentication (delegated to ecosystem)                 \u2502\n\u2502  \u2022 Authorization/permissions (delegated to ecosystem)           \u2502\n\u2502  \u2022 User interface design                                        \u2502\n\u2502  \u2022 Billing and metering                                         \u2502\n\u2502  \u2022 Network transport protocols                                  \u2502\n\u2502  \u2022 Specific provider implementation details                     \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h3,{id:"interface-boundaries",children:"Interface Boundaries"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  ECOSYSTEM                                                       \u2502\n\u2502  (LangChain, AutoGen, etc.)                                     \u2502\n\u2502                                                                  \u2502\n\u2502       \u2502                                                          \u2502\n\u2502       \u2502 Ecosystem Adapter Interface                              \u2502\n\u2502       \u25bc                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                                                          \u2502    \u2502\n\u2502  \u2502  MEMORY-KNOWLEDGE CORE (This Specification)              \u2502    \u2502\n\u2502  \u2502                                                          \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502       \u2502                                                          \u2502\n\u2502       \u2502 Provider Adapter Interface                               \u2502\n\u2502       \u25bc                                                          \u2502\n\u2502                                                                  \u2502\n\u2502  PROVIDER                                                        \u2502\n\u2502  (Mem0, Letta, Chroma, etc.)                                    \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"data-flow-patterns",children:"Data Flow Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"pattern-1-memory-write",children:"Pattern 1: Memory Write"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  Agent                                                           \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 1. "Remember: User prefers TypeScript"                     \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Ecosystem Adapter                                               \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 2. Determine layer (user), format content                  \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Memory Manager                                                  \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 3. Generate embedding, validate metadata                   \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Provider Adapter                                                \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 4. Persist to vector store                                 \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Vector Store (Qdrant, Pinecone, etc.)                          \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-2-memory-search",children:"Pattern 2: Memory Search"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  Agent                                                           \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 1. "What are the user\'s preferences?"                      \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Ecosystem Adapter                                               \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 2. Determine layers to search, build query                 \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Memory Manager                                                  \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 3. Search each layer, apply precedence                     \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Provider Adapter                                                \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 4. Vector similarity search                                \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Results                                                         \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 5. Merge, rank, return                                     \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Agent Context                                                   \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-3-knowledge-query",children:"Pattern 3: Knowledge Query"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  Agent                                                           \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 1. "What policies apply to database selection?"            \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Knowledge Manager                                               \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 2. Search knowledge repository                             \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Git Backend                                                     \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 3. Find matching items across layers                       \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Results + Constraints                                           \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 4. Return items with applicable constraints                \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Agent Context (with enforcement rules)                          \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-4-constraint-check",children:"Pattern 4: Constraint Check"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  Agent                                                           \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 1. "Adding MySQL dependency"                               \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Constraint Engine                                               \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 2. Load applicable constraints from knowledge              \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Evaluation                                                      \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 3. Check: must_use postgresql (severity: block)            \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Violation Detected                                              \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 4. Return: BLOCKED - "Use PostgreSQL per ADR-042"          \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Agent (stops action, explains constraint)                       \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-5-memory-knowledge-sync",children:"Pattern 5: Memory-Knowledge Sync"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                  \u2502\n\u2502  Sync Trigger (schedule, manual, or event)                      \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 1. Initiate sync                                           \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Sync Bridge                                                     \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 2. Load last sync state (timestamps, hashes)               \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Delta Detection                                                 \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 3. Compare knowledge hashes vs memory pointers             \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Changes: [added: 2, updated: 1, deleted: 0]                    \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 4. For each change:                                        \u2502\n\u2502    \u2502    - Added: Create memory pointer                          \u2502\n\u2502    \u2502    - Updated: Update memory content + hash                 \u2502\n\u2502    \u2502    - Deleted: Mark memory as orphaned                      \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Commit Sync State                                               \u2502\n\u2502    \u2502                                                             \u2502\n\u2502    \u2502 5. Persist new hashes and timestamp                        \u2502\n\u2502    \u25bc                                                             \u2502\n\u2502  Done                                                            \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"key-invariants",children:"Key Invariants"}),"\n",(0,t.jsxs)(n.p,{children:["These invariants must ",(0,t.jsx)(n.strong,{children:"always"})," hold:"]}),"\n",(0,t.jsx)(n.h3,{id:"memory-invariants",children:"Memory Invariants"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Every memory entry has a unique ",(0,t.jsx)(n.code,{children:"id"})]}),"\n",(0,t.jsx)(n.li,{children:"Every memory entry belongs to exactly one layer"}),"\n",(0,t.jsx)(n.li,{children:"Memory content length does not exceed provider limits"}),"\n",(0,t.jsx)(n.li,{children:"Memory metadata is valid JSON"}),"\n",(0,t.jsx)(n.li,{children:"Embeddings are generated by consistent model"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"knowledge-invariants",children:"Knowledge Invariants"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Every knowledge item has a unique ",(0,t.jsx)(n.code,{children:"id"})]}),"\n",(0,t.jsx)(n.li,{children:"Knowledge commits are immutable once created"}),"\n",(0,t.jsxs)(n.li,{children:["Every knowledge item has a ",(0,t.jsx)(n.code,{children:"type"})," from allowed set"]}),"\n",(0,t.jsx)(n.li,{children:"Constraints attached to knowledge are valid DSL"}),"\n",(0,t.jsx)(n.li,{children:"Manifest reflects current state of repository"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"sync-invariants",children:"Sync Invariants"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Pointers always reference existing knowledge items (or are marked orphaned)"}),"\n",(0,t.jsx)(n.li,{children:"Content hash in pointer matches knowledge item at sync time"}),"\n",(0,t.jsx)(n.li,{children:"Sync state accurately reflects last successful sync"}),"\n",(0,t.jsx)(n.li,{children:"Conflicts are detected and reported, never silently overwritten"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"layer-invariants",children:"Layer Invariants"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Layer precedence is deterministic (same input \u2192 same output)"}),"\n",(0,t.jsx)(n.li,{children:"More specific layers always override less specific"}),"\n",(0,t.jsx)(n.li,{children:"Layer assignment is explicit, never inferred"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Next"}),": ",(0,t.jsx)(n.a,{href:"/aeterna/docs/specs/memory-system",children:"02-memory-system.md"})," - Memory System Specification"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>d,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);