"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5073],{9313(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"specs/deployment","title":"08 - Deployment Patterns","description":"Overview","source":"@site/docs/specs/08-deployment.md","sourceDirName":"specs","slug":"/specs/deployment","permalink":"/aeterna/docs/specs/deployment","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/specs/08-deployment.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{}}');var t=r(4848),o=r(8453);const a={},i="08 - Deployment Patterns",d={},l=[{value:"Overview",id:"overview",level:2},{value:"Deployment Models",id:"deployment-models",level:2},{value:"Model Comparison",id:"model-comparison",level:3},{value:"Architecture Diagram",id:"architecture-diagram",level:3},{value:"Local Development",id:"local-development",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Docker Compose (Local)",id:"docker-compose-local",level:3},{value:"Quick Start (Local)",id:"quick-start-local",level:3},{value:"Self-Hosted Production",id:"self-hosted-production",level:2},{value:"Infrastructure Requirements",id:"infrastructure-requirements",level:3},{value:"Docker Compose (Production)",id:"docker-compose-production",level:3},{value:"Database Initialization",id:"database-initialization",level:3},{value:"Nginx Configuration",id:"nginx-configuration",level:3},{value:"Kubernetes Deployment",id:"kubernetes-deployment",level:2},{value:"Namespace and ConfigMap",id:"namespace-and-configmap",level:3},{value:"Secrets",id:"secrets",level:3},{value:"Memory Service Deployment",id:"memory-service-deployment",level:3},{value:"Knowledge Service Deployment",id:"knowledge-service-deployment",level:3},{value:"Qdrant StatefulSet",id:"qdrant-statefulset",level:3},{value:"Horizontal Pod Autoscaler",id:"horizontal-pod-autoscaler",level:3},{value:"Ingress",id:"ingress",level:3},{value:"Cloud Deployment",id:"cloud-deployment",level:2},{value:"AWS Architecture",id:"aws-architecture",level:3},{value:"Terraform Configuration",id:"terraform-configuration",level:3},{value:"Using Mem0 Cloud",id:"using-mem0-cloud",level:3},{value:"Hybrid Deployment",id:"hybrid-deployment",level:2},{value:"Hybrid Configuration",id:"hybrid-configuration",level:3},{value:"Monitoring &amp; Observability",id:"monitoring--observability",level:2},{value:"Prometheus Metrics",id:"prometheus-metrics",level:3},{value:"Grafana Dashboard",id:"grafana-dashboard",level:3},{value:"Backup &amp; Disaster Recovery",id:"backup--disaster-recovery",level:2},{value:"Backup Strategy",id:"backup-strategy",level:3},{value:"Backup Script",id:"backup-script",level:3},{value:"Recovery Procedure",id:"recovery-procedure",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Network Security",id:"network-security",level:3},{value:"Encryption",id:"encryption",level:3},{value:"Related Specifications",id:"related-specifications",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"08---deployment-patterns",children:"08 - Deployment Patterns"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"status: draft\nversion: 0.1.0\ndate: 2026-01-07\ndepends_on:\n  - 05-adapter-architecture.md\n  - 07-configuration.md\n"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"This specification defines deployment patterns for the Memory-Knowledge System. The architecture supports multiple deployment models to accommodate different organizational requirements, from local development to enterprise-scale production."}),"\n",(0,t.jsx)(n.h2,{id:"deployment-models",children:"Deployment Models"}),"\n",(0,t.jsx)(n.h3,{id:"model-comparison",children:"Model Comparison"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Model"}),(0,t.jsx)(n.th,{children:"Memory Provider"}),(0,t.jsx)(n.th,{children:"Knowledge Store"}),(0,t.jsx)(n.th,{children:"Vector DB"}),(0,t.jsx)(n.th,{children:"Use Case"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Local"})}),(0,t.jsx)(n.td,{children:"Letta (local)"}),(0,t.jsx)(n.td,{children:"SQLite"}),(0,t.jsx)(n.td,{children:"Qdrant (local)"}),(0,t.jsx)(n.td,{children:"Development, single-user"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Self-Hosted"})}),(0,t.jsx)(n.td,{children:"OpenMemory"}),(0,t.jsx)(n.td,{children:"PostgreSQL"}),(0,t.jsx)(n.td,{children:"Qdrant/Milvus"}),(0,t.jsx)(n.td,{children:"Team/org, data sovereignty"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Cloud"})}),(0,t.jsx)(n.td,{children:"Mem0 Cloud"}),(0,t.jsx)(n.td,{children:"Managed"}),(0,t.jsx)(n.td,{children:"Managed"}),(0,t.jsx)(n.td,{children:"SaaS, minimal ops"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Hybrid"})}),(0,t.jsx)(n.td,{children:"Mem0 Cloud"}),(0,t.jsx)(n.td,{children:"Self-hosted"}),(0,t.jsx)(n.td,{children:"Self-hosted"}),(0,t.jsx)(n.td,{children:"Sensitive knowledge, cloud memory"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"architecture-diagram",children:"Architecture Diagram"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TB\n    subgraph "Client Layer"\n        A1[Agent 1]\n        A2[Agent 2]\n        A3[Agent N]\n    end\n    \n    subgraph "API Gateway"\n        GW[Load Balancer]\n    end\n    \n    subgraph "Service Layer"\n        MS[Memory Service]\n        KS[Knowledge Service]\n        SS[Sync Service]\n    end\n    \n    subgraph "Storage Layer"\n        MP[(Memory Provider)]\n        KR[(Knowledge Repo)]\n        VDB[(Vector DB)]\n        Cache[(Redis Cache)]\n    end\n    \n    A1 & A2 & A3 --\x3e GW\n    GW --\x3e MS & KS & SS\n    MS --\x3e MP\n    MS --\x3e Cache\n    KS --\x3e KR\n    KS --\x3e VDB\n    SS --\x3e MS & KS'}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"local-development",children:"Local Development"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Docker Desktop or Podman"}),"\n",(0,t.jsx)(n.li,{children:"8GB RAM minimum"}),"\n",(0,t.jsx)(n.li,{children:"20GB disk space"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"docker-compose-local",children:"Docker Compose (Local)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# docker-compose.local.yml\nversion: \'3.8\'\n\nservices:\n  # Memory Provider - Letta (local mode)\n  letta:\n    image: letta/letta-server:latest\n    ports:\n      - "8283:8283"\n    environment:\n      - LETTA_SERVER_MODE=local\n      - LETTA_LLM_PROVIDER=openai\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n    volumes:\n      - letta_data:/root/.letta\n\n  # Vector Database - Qdrant\n  qdrant:\n    image: qdrant/qdrant:latest\n    ports:\n      - "6333:6333"\n      - "6334:6334"\n    volumes:\n      - qdrant_data:/qdrant/storage\n    environment:\n      - QDRANT__SERVICE__GRPC_PORT=6334\n\n  # Knowledge Repository - SQLite (embedded in service)\n  knowledge-service:\n    build:\n      context: ./services/knowledge\n      dockerfile: Dockerfile\n    ports:\n      - "8080:8080"\n    environment:\n      - DATABASE_URL=sqlite:///data/knowledge.db\n      - VECTOR_DB_URL=http://qdrant:6333\n    volumes:\n      - knowledge_data:/data\n    depends_on:\n      - qdrant\n\n  # Sync Service\n  sync-service:\n    build:\n      context: ./services/sync\n      dockerfile: Dockerfile\n    ports:\n      - "8081:8081"\n    environment:\n      - MEMORY_PROVIDER_URL=http://letta:8283\n      - KNOWLEDGE_SERVICE_URL=http://knowledge-service:8080\n    depends_on:\n      - letta\n      - knowledge-service\n\nvolumes:\n  letta_data:\n  qdrant_data:\n  knowledge_data:\n'})}),"\n",(0,t.jsx)(n.h3,{id:"quick-start-local",children:"Quick Start (Local)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Clone the reference implementation\ngit clone https://github.com/memory-knowledge-spec/reference-impl.git\ncd reference-impl\n\n# Set environment variables\ncp .env.example .env\n# Edit .env with your API keys\n\n# Start services\ndocker compose -f docker-compose.local.yml up -d\n\n# Verify health\ncurl http://localhost:8080/health\ncurl http://localhost:8283/health\ncurl http://localhost:6333/health\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"self-hosted-production",children:"Self-Hosted Production"}),"\n",(0,t.jsx)(n.h3,{id:"infrastructure-requirements",children:"Infrastructure Requirements"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Minimum"}),(0,t.jsx)(n.th,{children:"Recommended"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Memory Service"})}),(0,t.jsx)(n.td,{children:"2 CPU, 4GB RAM"}),(0,t.jsx)(n.td,{children:"4 CPU, 8GB RAM"}),(0,t.jsx)(n.td,{children:"Per instance"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Knowledge Service"})}),(0,t.jsx)(n.td,{children:"2 CPU, 4GB RAM"}),(0,t.jsx)(n.td,{children:"4 CPU, 8GB RAM"}),(0,t.jsx)(n.td,{children:"Per instance"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"PostgreSQL"})}),(0,t.jsx)(n.td,{children:"2 CPU, 4GB RAM, 100GB SSD"}),(0,t.jsx)(n.td,{children:"4 CPU, 16GB RAM, 500GB SSD"}),(0,t.jsx)(n.td,{children:"Primary + replica"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Qdrant"})}),(0,t.jsx)(n.td,{children:"4 CPU, 8GB RAM, 100GB SSD"}),(0,t.jsx)(n.td,{children:"8 CPU, 32GB RAM, 500GB NVMe"}),(0,t.jsx)(n.td,{children:"Per node"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Redis"})}),(0,t.jsx)(n.td,{children:"1 CPU, 2GB RAM"}),(0,t.jsx)(n.td,{children:"2 CPU, 4GB RAM"}),(0,t.jsx)(n.td,{children:"Cache layer"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"docker-compose-production",children:"Docker Compose (Production)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# docker-compose.prod.yml\nversion: \'3.8\'\n\nservices:\n  # Memory Provider - OpenMemory\n  openmemory:\n    image: mem0ai/openmemory:latest\n    deploy:\n      replicas: 2\n      resources:\n        limits:\n          cpus: \'4\'\n          memory: 8G\n    ports:\n      - "8283:8283"\n    environment:\n      - OPENMEMORY_MODE=production\n      - DATABASE_URL=postgresql://${DB_USER}:${DB_PASS}@postgres:5432/memory\n      - VECTOR_DB_URL=http://qdrant:6333\n      - REDIS_URL=redis://redis:6379\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n    depends_on:\n      - postgres\n      - qdrant\n      - redis\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:8283/health"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  # Knowledge Service\n  knowledge-service:\n    image: memory-knowledge-spec/knowledge-service:latest\n    deploy:\n      replicas: 2\n      resources:\n        limits:\n          cpus: \'4\'\n          memory: 8G\n    ports:\n      - "8080:8080"\n    environment:\n      - NODE_ENV=production\n      - DATABASE_URL=postgresql://${DB_USER}:${DB_PASS}@postgres:5432/knowledge\n      - VECTOR_DB_URL=http://qdrant:6333\n      - REDIS_URL=redis://redis:6379\n      - JWT_SECRET=${JWT_SECRET}\n    depends_on:\n      - postgres\n      - qdrant\n      - redis\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  # Sync Service\n  sync-service:\n    image: memory-knowledge-spec/sync-service:latest\n    deploy:\n      replicas: 1\n      resources:\n        limits:\n          cpus: \'2\'\n          memory: 4G\n    ports:\n      - "8081:8081"\n    environment:\n      - MEMORY_PROVIDER_URL=http://openmemory:8283\n      - KNOWLEDGE_SERVICE_URL=http://knowledge-service:8080\n      - SYNC_INTERVAL_MS=60000\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - openmemory\n      - knowledge-service\n\n  # PostgreSQL\n  postgres:\n    image: postgres:16-alpine\n    deploy:\n      resources:\n        limits:\n          cpus: \'4\'\n          memory: 16G\n    environment:\n      - POSTGRES_USER=${DB_USER}\n      - POSTGRES_PASSWORD=${DB_PASS}\n      - POSTGRES_DB=memory\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n      - ./init-db.sql:/docker-entrypoint-initdb.d/init.sql\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U ${DB_USER}"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  # Qdrant Vector Database\n  qdrant:\n    image: qdrant/qdrant:latest\n    deploy:\n      resources:\n        limits:\n          cpus: \'8\'\n          memory: 32G\n    ports:\n      - "6333:6333"\n      - "6334:6334"\n    volumes:\n      - qdrant_data:/qdrant/storage\n    environment:\n      - QDRANT__SERVICE__GRPC_PORT=6334\n      - QDRANT__CLUSTER__ENABLED=false\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:6333/health"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  # Redis Cache\n  redis:\n    image: redis:7-alpine\n    deploy:\n      resources:\n        limits:\n          cpus: \'2\'\n          memory: 4G\n    ports:\n      - "6379:6379"\n    volumes:\n      - redis_data:/data\n    command: redis-server --appendonly yes\n    healthcheck:\n      test: ["CMD", "redis-cli", "ping"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  # Nginx Load Balancer\n  nginx:\n    image: nginx:alpine\n    ports:\n      - "80:80"\n      - "443:443"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./certs:/etc/nginx/certs:ro\n    depends_on:\n      - openmemory\n      - knowledge-service\n\nvolumes:\n  postgres_data:\n  qdrant_data:\n  redis_data:\n'})}),"\n",(0,t.jsx)(n.h3,{id:"database-initialization",children:"Database Initialization"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- init-db.sql\n-- Create databases\nCREATE DATABASE memory;\nCREATE DATABASE knowledge;\n\n-- Memory database schema\n\\c memory;\n\nCREATE TABLE IF NOT EXISTS memories (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    agent_id VARCHAR(255) NOT NULL,\n    user_id VARCHAR(255),\n    session_id VARCHAR(255),\n    content TEXT NOT NULL,\n    metadata JSONB DEFAULT '{}',\n    embedding_id VARCHAR(255),\n    created_at TIMESTAMPTZ DEFAULT NOW(),\n    updated_at TIMESTAMPTZ DEFAULT NOW()\n);\n\nCREATE INDEX idx_memories_agent ON memories(agent_id);\nCREATE INDEX idx_memories_user ON memories(user_id);\nCREATE INDEX idx_memories_session ON memories(session_id);\nCREATE INDEX idx_memories_created ON memories(created_at);\n\n-- Knowledge database schema\n\\c knowledge;\n\nCREATE TABLE IF NOT EXISTS knowledge_items (\n    id VARCHAR(255) PRIMARY KEY,\n    type VARCHAR(50) NOT NULL,\n    layer VARCHAR(50) NOT NULL,\n    title VARCHAR(500) NOT NULL,\n    summary TEXT,\n    content TEXT NOT NULL,\n    content_hash VARCHAR(64) NOT NULL,\n    severity VARCHAR(20) DEFAULT 'info',\n    status VARCHAR(50) DEFAULT 'draft',\n    tags JSONB DEFAULT '[]',\n    constraints JSONB DEFAULT '[]',\n    metadata JSONB DEFAULT '{}',\n    version INTEGER DEFAULT 1,\n    created_at TIMESTAMPTZ DEFAULT NOW(),\n    updated_at TIMESTAMPTZ DEFAULT NOW(),\n    promoted_at TIMESTAMPTZ,\n    promoted_from VARCHAR(255)\n);\n\nCREATE INDEX idx_knowledge_type ON knowledge_items(type);\nCREATE INDEX idx_knowledge_layer ON knowledge_items(layer);\nCREATE INDEX idx_knowledge_status ON knowledge_items(status);\nCREATE INDEX idx_knowledge_tags ON knowledge_items USING GIN(tags);\n\nCREATE TABLE IF NOT EXISTS knowledge_history (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    item_id VARCHAR(255) NOT NULL REFERENCES knowledge_items(id),\n    version INTEGER NOT NULL,\n    content TEXT NOT NULL,\n    content_hash VARCHAR(64) NOT NULL,\n    changed_by VARCHAR(255),\n    change_reason TEXT,\n    created_at TIMESTAMPTZ DEFAULT NOW()\n);\n\nCREATE INDEX idx_history_item ON knowledge_history(item_id);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"nginx-configuration",children:"Nginx Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:"# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream memory_service {\n        least_conn;\n        server openmemory:8283;\n    }\n\n    upstream knowledge_service {\n        least_conn;\n        server knowledge-service:8080;\n    }\n\n    upstream sync_service {\n        server sync-service:8081;\n    }\n\n    server {\n        listen 80;\n        server_name _;\n        return 301 https://$host$request_uri;\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name memory-knowledge.example.com;\n\n        ssl_certificate /etc/nginx/certs/fullchain.pem;\n        ssl_certificate_key /etc/nginx/certs/privkey.pem;\n        ssl_protocols TLSv1.2 TLSv1.3;\n\n        # Memory API\n        location /api/memory/ {\n            proxy_pass http://memory_service/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Knowledge API\n        location /api/knowledge/ {\n            proxy_pass http://knowledge_service/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Sync API\n        location /api/sync/ {\n            proxy_pass http://sync_service/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n        }\n\n        # Health check\n        location /health {\n            return 200 'OK';\n            add_header Content-Type text/plain;\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"kubernetes-deployment",children:"Kubernetes Deployment"}),"\n",(0,t.jsx)(n.h3,{id:"namespace-and-configmap",children:"Namespace and ConfigMap"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# k8s/namespace.yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: memory-knowledge\n  labels:\n    app.kubernetes.io/name: memory-knowledge\n\n---\n# k8s/configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: memory-knowledge-config\n  namespace: memory-knowledge\ndata:\n  SYNC_INTERVAL_MS: "60000"\n  LOG_LEVEL: "info"\n  VECTOR_DIMENSIONS: "1536"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"secrets",children:"Secrets"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# k8s/secrets.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: memory-knowledge-secrets\n  namespace: memory-knowledge\ntype: Opaque\nstringData:\n  OPENAI_API_KEY: "${OPENAI_API_KEY}"\n  DB_USER: "mkuser"\n  DB_PASS: "${DB_PASSWORD}"\n  JWT_SECRET: "${JWT_SECRET}"\n  REDIS_PASSWORD: "${REDIS_PASSWORD}"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"memory-service-deployment",children:"Memory Service Deployment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# k8s/memory-service.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: memory-service\n  namespace: memory-knowledge\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: memory-service\n  template:\n    metadata:\n      labels:\n        app: memory-service\n    spec:\n      containers:\n        - name: openmemory\n          image: mem0ai/openmemory:latest\n          ports:\n            - containerPort: 8283\n          envFrom:\n            - configMapRef:\n                name: memory-knowledge-config\n            - secretRef:\n                name: memory-knowledge-secrets\n          env:\n            - name: DATABASE_URL\n              value: "postgresql://$(DB_USER):$(DB_PASS)@postgres-service:5432/memory"\n            - name: VECTOR_DB_URL\n              value: "http://qdrant-service:6333"\n            - name: REDIS_URL\n              value: "redis://:$(REDIS_PASSWORD)@redis-service:6379"\n          resources:\n            requests:\n              cpu: "1"\n              memory: "2Gi"\n            limits:\n              cpu: "4"\n              memory: "8Gi"\n          livenessProbe:\n            httpGet:\n              path: /health\n              port: 8283\n            initialDelaySeconds: 30\n            periodSeconds: 10\n          readinessProbe:\n            httpGet:\n              path: /ready\n              port: 8283\n            initialDelaySeconds: 5\n            periodSeconds: 5\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: memory-service\n  namespace: memory-knowledge\nspec:\n  selector:\n    app: memory-service\n  ports:\n    - port: 8283\n      targetPort: 8283\n'})}),"\n",(0,t.jsx)(n.h3,{id:"knowledge-service-deployment",children:"Knowledge Service Deployment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# k8s/knowledge-service.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: knowledge-service\n  namespace: memory-knowledge\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: knowledge-service\n  template:\n    metadata:\n      labels:\n        app: knowledge-service\n    spec:\n      containers:\n        - name: knowledge\n          image: memory-knowledge-spec/knowledge-service:latest\n          ports:\n            - containerPort: 8080\n          envFrom:\n            - configMapRef:\n                name: memory-knowledge-config\n            - secretRef:\n                name: memory-knowledge-secrets\n          env:\n            - name: DATABASE_URL\n              value: "postgresql://$(DB_USER):$(DB_PASS)@postgres-service:5432/knowledge"\n            - name: VECTOR_DB_URL\n              value: "http://qdrant-service:6333"\n            - name: REDIS_URL\n              value: "redis://:$(REDIS_PASSWORD)@redis-service:6379"\n          resources:\n            requests:\n              cpu: "1"\n              memory: "2Gi"\n            limits:\n              cpu: "4"\n              memory: "8Gi"\n          livenessProbe:\n            httpGet:\n              path: /health\n              port: 8080\n            initialDelaySeconds: 30\n            periodSeconds: 10\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: knowledge-service\n  namespace: memory-knowledge\nspec:\n  selector:\n    app: knowledge-service\n  ports:\n    - port: 8080\n      targetPort: 8080\n'})}),"\n",(0,t.jsx)(n.h3,{id:"qdrant-statefulset",children:"Qdrant StatefulSet"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# k8s/qdrant.yaml\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: qdrant\n  namespace: memory-knowledge\nspec:\n  serviceName: qdrant\n  replicas: 3\n  selector:\n    matchLabels:\n      app: qdrant\n  template:\n    metadata:\n      labels:\n        app: qdrant\n    spec:\n      containers:\n        - name: qdrant\n          image: qdrant/qdrant:latest\n          ports:\n            - containerPort: 6333\n            - containerPort: 6334\n          env:\n            - name: QDRANT__CLUSTER__ENABLED\n              value: "true"\n            - name: QDRANT__CLUSTER__P2P__PORT\n              value: "6335"\n          volumeMounts:\n            - name: qdrant-storage\n              mountPath: /qdrant/storage\n          resources:\n            requests:\n              cpu: "2"\n              memory: "8Gi"\n            limits:\n              cpu: "8"\n              memory: "32Gi"\n  volumeClaimTemplates:\n    - metadata:\n        name: qdrant-storage\n      spec:\n        accessModes: ["ReadWriteOnce"]\n        storageClassName: fast-ssd\n        resources:\n          requests:\n            storage: 100Gi\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: qdrant-service\n  namespace: memory-knowledge\nspec:\n  selector:\n    app: qdrant\n  ports:\n    - name: http\n      port: 6333\n      targetPort: 6333\n    - name: grpc\n      port: 6334\n      targetPort: 6334\n'})}),"\n",(0,t.jsx)(n.h3,{id:"horizontal-pod-autoscaler",children:"Horizontal Pod Autoscaler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# k8s/hpa.yaml\napiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: memory-service-hpa\n  namespace: memory-knowledge\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: memory-service\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 70\n    - type: Resource\n      resource:\n        name: memory\n        target:\n          type: Utilization\n          averageUtilization: 80\n\n---\napiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: knowledge-service-hpa\n  namespace: memory-knowledge\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: knowledge-service\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 70\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ingress",children:"Ingress"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# k8s/ingress.yaml\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: memory-knowledge-ingress\n  namespace: memory-knowledge\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    nginx.ingress.kubernetes.io/proxy-body-size: "50m"\nspec:\n  tls:\n    - hosts:\n        - memory-knowledge.example.com\n      secretName: memory-knowledge-tls\n  rules:\n    - host: memory-knowledge.example.com\n      http:\n        paths:\n          - path: /api/memory\n            pathType: Prefix\n            backend:\n              service:\n                name: memory-service\n                port:\n                  number: 8283\n          - path: /api/knowledge\n            pathType: Prefix\n            backend:\n              service:\n                name: knowledge-service\n                port:\n                  number: 8080\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"cloud-deployment",children:"Cloud Deployment"}),"\n",(0,t.jsx)(n.h3,{id:"aws-architecture",children:"AWS Architecture"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TB\n    subgraph "AWS Cloud"\n        subgraph "VPC"\n            subgraph "Public Subnet"\n                ALB[Application Load Balancer]\n            end\n            \n            subgraph "Private Subnet - Compute"\n                ECS[ECS Fargate Cluster]\n                MS[Memory Service Tasks]\n                KS[Knowledge Service Tasks]\n            end\n            \n            subgraph "Private Subnet - Data"\n                RDS[(RDS PostgreSQL)]\n                EC[(ElastiCache Redis)]\n                OS[(OpenSearch)]\n            end\n        end\n        \n        S3[(S3 - Backups)]\n        CW[CloudWatch]\n    end\n    \n    ALB --\x3e ECS\n    ECS --\x3e MS & KS\n    MS & KS --\x3e RDS & EC & OS\n    ECS --\x3e CW\n    RDS --\x3e S3'}),"\n",(0,t.jsx)(n.h3,{id:"terraform-configuration",children:"Terraform Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-hcl",children:'# main.tf\nterraform {\n  required_providers {\n    aws = {\n      source  = "hashicorp/aws"\n      version = "~> 5.0"\n    }\n  }\n}\n\nprovider "aws" {\n  region = var.aws_region\n}\n\n# VPC\nmodule "vpc" {\n  source  = "terraform-aws-modules/vpc/aws"\n  version = "5.0.0"\n\n  name = "memory-knowledge-vpc"\n  cidr = "10.0.0.0/16"\n\n  azs             = ["${var.aws_region}a", "${var.aws_region}b", "${var.aws_region}c"]\n  private_subnets = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]\n  public_subnets  = ["10.0.101.0/24", "10.0.102.0/24", "10.0.103.0/24"]\n\n  enable_nat_gateway = true\n  single_nat_gateway = false\n}\n\n# RDS PostgreSQL\nmodule "rds" {\n  source  = "terraform-aws-modules/rds/aws"\n  version = "6.0.0"\n\n  identifier = "memory-knowledge-db"\n\n  engine               = "postgres"\n  engine_version       = "16.1"\n  family               = "postgres16"\n  major_engine_version = "16"\n  instance_class       = "db.r6g.large"\n\n  allocated_storage     = 100\n  max_allocated_storage = 500\n\n  db_name  = "memoryknowledge"\n  username = var.db_username\n  port     = 5432\n\n  multi_az               = true\n  db_subnet_group_name   = module.vpc.database_subnet_group\n  vpc_security_group_ids = [module.security_group.security_group_id]\n\n  backup_retention_period = 7\n  skip_final_snapshot     = false\n  deletion_protection     = true\n\n  performance_insights_enabled = true\n}\n\n# ElastiCache Redis\nmodule "elasticache" {\n  source  = "terraform-aws-modules/elasticache/aws"\n  version = "1.0.0"\n\n  cluster_id           = "memory-knowledge-cache"\n  engine               = "redis"\n  node_type            = "cache.r6g.large"\n  num_cache_nodes      = 2\n  parameter_group_name = "default.redis7"\n  port                 = 6379\n  subnet_group_name    = module.vpc.elasticache_subnet_group_name\n  security_group_ids   = [module.security_group.security_group_id]\n}\n\n# ECS Cluster\nresource "aws_ecs_cluster" "main" {\n  name = "memory-knowledge-cluster"\n\n  setting {\n    name  = "containerInsights"\n    value = "enabled"\n  }\n}\n\n# ECS Task Definition - Memory Service\nresource "aws_ecs_task_definition" "memory_service" {\n  family                   = "memory-service"\n  network_mode             = "awsvpc"\n  requires_compatibilities = ["FARGATE"]\n  cpu                      = 2048\n  memory                   = 4096\n  execution_role_arn       = aws_iam_role.ecs_execution.arn\n  task_role_arn            = aws_iam_role.ecs_task.arn\n\n  container_definitions = jsonencode([\n    {\n      name  = "memory-service"\n      image = "mem0ai/openmemory:latest"\n      portMappings = [\n        {\n          containerPort = 8283\n          hostPort      = 8283\n          protocol      = "tcp"\n        }\n      ]\n      environment = [\n        { name = "DATABASE_URL", value = "postgresql://${var.db_username}:${var.db_password}@${module.rds.db_instance_endpoint}/memory" },\n        { name = "REDIS_URL", value = "redis://${module.elasticache.cache_nodes[0].address}:6379" }\n      ]\n      secrets = [\n        { name = "OPENAI_API_KEY", valueFrom = aws_secretsmanager_secret.openai.arn }\n      ]\n      logConfiguration = {\n        logDriver = "awslogs"\n        options = {\n          awslogs-group         = "/ecs/memory-service"\n          awslogs-region        = var.aws_region\n          awslogs-stream-prefix = "ecs"\n        }\n      }\n    }\n  ])\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"using-mem0-cloud",children:"Using Mem0 Cloud"}),"\n",(0,t.jsx)(n.p,{children:"For teams preferring managed services:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Configuration for Mem0 Cloud\nconst config: MemoryKnowledgeConfig = {\n  memory: {\n    provider: 'mem0',\n    config: {\n      apiKey: process.env.MEM0_API_KEY,\n      organizationId: process.env.MEM0_ORG_ID,\n      projectId: process.env.MEM0_PROJECT_ID,\n    },\n  },\n  knowledge: {\n    // Self-hosted knowledge for data sovereignty\n    provider: 'postgresql',\n    config: {\n      connectionString: process.env.KNOWLEDGE_DB_URL,\n    },\n  },\n  vector: {\n    // Use Mem0's built-in vector storage\n    provider: 'mem0',\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"hybrid-deployment",children:"Hybrid Deployment"}),"\n",(0,t.jsx)(n.p,{children:"For organizations requiring data sovereignty for knowledge but cloud convenience for memory:"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TB\n    subgraph "Cloud (Mem0)"\n        M0[Mem0 Cloud API]\n        MV[(Mem0 Vector Store)]\n    end\n    \n    subgraph "On-Premise"\n        KS[Knowledge Service]\n        PG[(PostgreSQL)]\n        QD[(Qdrant)]\n    end\n    \n    subgraph "Sync Layer"\n        SS[Sync Service]\n    end\n    \n    Agent --\x3e M0\n    Agent --\x3e KS\n    M0 --\x3e MV\n    KS --\x3e PG\n    KS --\x3e QD\n    SS --\x3e M0\n    SS --\x3e KS'}),"\n",(0,t.jsx)(n.h3,{id:"hybrid-configuration",children:"Hybrid Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "memory": {\n    "provider": "mem0",\n    "config": {\n      "apiKey": "${MEM0_API_KEY}",\n      "organizationId": "org_xxx"\n    }\n  },\n  "knowledge": {\n    "provider": "postgresql",\n    "config": {\n      "connectionString": "postgresql://localhost:5432/knowledge"\n    }\n  },\n  "vector": {\n    "provider": "qdrant",\n    "config": {\n      "url": "http://localhost:6333"\n    }\n  },\n  "sync": {\n    "enabled": true,\n    "mode": "hybrid",\n    "memoryToKnowledge": {\n      "enabled": true,\n      "promotionThreshold": 0.8\n    },\n    "knowledgeToMemory": {\n      "enabled": true,\n      "summaryOnly": true\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"monitoring--observability",children:"Monitoring & Observability"}),"\n",(0,t.jsx)(n.h3,{id:"prometheus-metrics",children:"Prometheus Metrics"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# prometheus/rules.yaml\ngroups:\n  - name: memory-knowledge\n    rules:\n      - alert: HighMemoryLatency\n        expr: histogram_quantile(0.99, rate(memory_operation_duration_seconds_bucket[5m])) > 1\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: High memory operation latency\n\n      - alert: KnowledgeSyncFailed\n        expr: increase(knowledge_sync_failures_total[1h]) > 5\n        for: 10m\n        labels:\n          severity: critical\n        annotations:\n          summary: Knowledge sync failures detected\n\n      - alert: VectorDBUnhealthy\n        expr: up{job="qdrant"} == 0\n        for: 2m\n        labels:\n          severity: critical\n        annotations:\n          summary: Vector database is down\n'})}),"\n",(0,t.jsx)(n.h3,{id:"grafana-dashboard",children:"Grafana Dashboard"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "dashboard": {\n    "title": "Memory-Knowledge System",\n    "panels": [\n      {\n        "title": "Memory Operations/sec",\n        "type": "graph",\n        "targets": [\n          {\n            "expr": "rate(memory_operations_total[5m])",\n            "legendFormat": "{{operation}}"\n          }\n        ]\n      },\n      {\n        "title": "Knowledge Items by Layer",\n        "type": "piechart",\n        "targets": [\n          {\n            "expr": "knowledge_items_total",\n            "legendFormat": "{{layer}}"\n          }\n        ]\n      },\n      {\n        "title": "Sync Queue Depth",\n        "type": "gauge",\n        "targets": [\n          {\n            "expr": "sync_queue_depth"\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"backup--disaster-recovery",children:"Backup & Disaster Recovery"}),"\n",(0,t.jsx)(n.h3,{id:"backup-strategy",children:"Backup Strategy"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Method"}),(0,t.jsx)(n.th,{children:"Frequency"}),(0,t.jsx)(n.th,{children:"Retention"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PostgreSQL"}),(0,t.jsx)(n.td,{children:"pg_dump + WAL archiving"}),(0,t.jsx)(n.td,{children:"Continuous"}),(0,t.jsx)(n.td,{children:"30 days"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Qdrant"}),(0,t.jsx)(n.td,{children:"Snapshots"}),(0,t.jsx)(n.td,{children:"Daily"}),(0,t.jsx)(n.td,{children:"7 days"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Redis"}),(0,t.jsx)(n.td,{children:"RDB + AOF"}),(0,t.jsx)(n.td,{children:"Hourly"}),(0,t.jsx)(n.td,{children:"24 hours"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Configs"}),(0,t.jsx)(n.td,{children:"Git"}),(0,t.jsx)(n.td,{children:"On change"}),(0,t.jsx)(n.td,{children:"Forever"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"backup-script",children:"Backup Script"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# backup.sh\n\nset -euo pipefail\n\nBACKUP_DIR="/backups/$(date +%Y%m%d)"\nmkdir -p "$BACKUP_DIR"\n\n# PostgreSQL\npg_dump -h postgres -U mkuser memory | gzip > "$BACKUP_DIR/memory.sql.gz"\npg_dump -h postgres -U mkuser knowledge | gzip > "$BACKUP_DIR/knowledge.sql.gz"\n\n# Qdrant snapshot\ncurl -X POST "http://qdrant:6333/collections/memories/snapshots"\ncurl -X POST "http://qdrant:6333/collections/knowledge/snapshots"\n\n# Upload to S3\naws s3 sync "$BACKUP_DIR" "s3://memory-knowledge-backups/$BACKUP_DIR"\n\n# Cleanup old local backups\nfind /backups -type d -mtime +7 -exec rm -rf {} +\n\necho "Backup completed: $BACKUP_DIR"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"recovery-procedure",children:"Recovery Procedure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# restore.sh\n\nBACKUP_DATE=$1\n\n# Download from S3\naws s3 sync "s3://memory-knowledge-backups/backups/$BACKUP_DATE" /restore/\n\n# Restore PostgreSQL\ngunzip -c /restore/memory.sql.gz | psql -h postgres -U mkuser memory\ngunzip -c /restore/knowledge.sql.gz | psql -h postgres -U mkuser knowledge\n\n# Restore Qdrant\ncurl -X PUT "http://qdrant:6333/collections/memories/snapshots/recover" \\\n  -H "Content-Type: application/json" \\\n  -d "{\\"location\\": \\"/restore/memories_snapshot.snapshot\\"}"\n\necho "Restore completed from: $BACKUP_DATE"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"network-security",children:"Network Security"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# Network policies for Kubernetes\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: memory-knowledge-network-policy\n  namespace: memory-knowledge\nspec:\n  podSelector: {}\n  policyTypes:\n    - Ingress\n    - Egress\n  ingress:\n    - from:\n        - namespaceSelector:\n            matchLabels:\n              name: ingress-nginx\n      ports:\n        - protocol: TCP\n          port: 8080\n        - protocol: TCP\n          port: 8283\n  egress:\n    - to:\n        - podSelector:\n            matchLabels:\n              app: postgres\n      ports:\n        - protocol: TCP\n          port: 5432\n    - to:\n        - podSelector:\n            matchLabels:\n              app: qdrant\n      ports:\n        - protocol: TCP\n          port: 6333\n    - to:\n        - podSelector:\n            matchLabels:\n              app: redis\n      ports:\n        - protocol: TCP\n          port: 6379\n"})}),"\n",(0,t.jsx)(n.h3,{id:"encryption",children:"Encryption"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Data State"}),(0,t.jsx)(n.th,{children:"Method"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"In Transit"}),(0,t.jsx)(n.td,{children:"TLS 1.3"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"At Rest (DB)"}),(0,t.jsx)(n.td,{children:"AES-256"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"At Rest (Vectors)"}),(0,t.jsx)(n.td,{children:"Volume encryption"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Secrets"}),(0,t.jsx)(n.td,{children:"AWS KMS / HashiCorp Vault"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"related-specifications",children:"Related Specifications"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/aeterna/docs/specs/adapter-architecture",children:"05-adapter-architecture.md"})," - Provider adapters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/aeterna/docs/specs/configuration",children:"07-configuration.md"})," - Configuration schema"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/aeterna/docs/specs/migration",children:"09-migration.md"})," - Data migration procedures"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>i});var s=r(6540);const t={},o=s.createContext(t);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);