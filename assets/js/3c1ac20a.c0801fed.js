"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1625],{5382(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"governance/deployment-guide","title":"Governance Deployment Guide","description":"This guide covers deployment strategies for the Aeterna Memory-Knowledge System\'s governance layer, supporting three distinct deployment modes to accommodate different organizational needs and infrastructure requirements.","source":"@site/docs/governance/deployment-guide.md","sourceDirName":"governance","slug":"/governance/deployment-guide","permalink":"/aeterna/docs/governance/deployment-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/kikokikok/aeterna/tree/main/website/docs/governance/deployment-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Governance System API Reference","permalink":"/aeterna/docs/governance/api-reference"},"next":{"title":"Drift Detection Tuning Guide","permalink":"/aeterna/docs/governance/drift-tuning"}}');var o=i(4848),l=i(8453);const t={},s="Governance Deployment Guide",a={},d=[{value:"Overview of Deployment Modes",id:"overview-of-deployment-modes",level:2},{value:"Local Mode",id:"local-mode",level:3},{value:"Hybrid Mode",id:"hybrid-mode",level:3},{value:"Remote Mode",id:"remote-mode",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"System Requirements",id:"system-requirements",level:3},{value:"Network Requirements",id:"network-requirements",level:3},{value:"Security Requirements",id:"security-requirements",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Configuration File Structure",id:"configuration-file-structure",level:3},{value:"Local Mode Deployment",id:"local-mode-deployment",level:2},{value:"Configuration",id:"configuration-1",level:3},{value:"Docker Compose for Local Development",id:"docker-compose-for-local-development",level:3},{value:"Building and Running",id:"building-and-running",level:3},{value:"Feature Flags",id:"feature-flags",level:3},{value:"Hybrid Mode Deployment",id:"hybrid-mode-deployment",level:2},{value:"Configuration",id:"configuration-2",level:3},{value:"Docker Compose for Hybrid Deployment",id:"docker-compose-for-hybrid-deployment",level:3},{value:"Building and Running",id:"building-and-running-1",level:3},{value:"Feature Flags",id:"feature-flags-1",level:3},{value:"Remote Mode Deployment",id:"remote-mode-deployment",level:2},{value:"Configuration",id:"configuration-3",level:3},{value:"Docker Compose for Remote Deployment",id:"docker-compose-for-remote-deployment",level:3},{value:"Building and Running",id:"building-and-running-2",level:3},{value:"Feature Flags",id:"feature-flags-2",level:3},{value:"Infrastructure Requirements",id:"infrastructure-requirements",level:2},{value:"Scaling Considerations",id:"scaling-considerations",level:3},{value:"Local Mode Scaling",id:"local-mode-scaling",level:4},{value:"Hybrid Mode Scaling",id:"hybrid-mode-scaling",level:4},{value:"Remote Mode Scaling",id:"remote-mode-scaling",level:4},{value:"Resource Planning",id:"resource-planning",level:3},{value:"High Availability",id:"high-availability",level:3},{value:"Local Mode HA",id:"local-mode-ha",level:4},{value:"Hybrid Mode HA",id:"hybrid-mode-ha",level:4},{value:"Remote Mode HA",id:"remote-mode-ha",level:4},{value:"Health Checks and Monitoring",id:"health-checks-and-monitoring",level:2},{value:"Health Check Endpoints",id:"health-check-endpoints",level:3},{value:"Health Check Configuration",id:"health-check-configuration",level:3},{value:"Monitoring Metrics",id:"monitoring-metrics",level:3},{value:"Application Metrics",id:"application-metrics",level:4},{value:"Infrastructure Metrics",id:"infrastructure-metrics",level:4},{value:"Alerting Thresholds",id:"alerting-thresholds",level:4},{value:"Migration Between Modes",id:"migration-between-modes",level:2},{value:"Local to Hybrid Migration",id:"local-to-hybrid-migration",level:3},{value:"Hybrid to Remote Migration",id:"hybrid-to-remote-migration",level:3},{value:"Mode Switching Procedure",id:"mode-switching-procedure",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Local Mode Issues",id:"local-mode-issues",level:4},{value:"Hybrid Mode Issues",id:"hybrid-mode-issues",level:4},{value:"Remote Mode Issues",id:"remote-mode-issues",level:4},{value:"Debug Commands",id:"debug-commands",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"API Key Management",id:"api-key-management",level:3},{value:"Network Security",id:"network-security",level:3},{value:"Data Protection",id:"data-protection",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Configuration Management",id:"configuration-management",level:3},{value:"Deployment Automation",id:"deployment-automation",level:3},{value:"Operational Excellence",id:"operational-excellence",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"governance-deployment-guide",children:"Governance Deployment Guide"})}),"\n",(0,o.jsx)(n.p,{children:"This guide covers deployment strategies for the Aeterna Memory-Knowledge System's governance layer, supporting three distinct deployment modes to accommodate different organizational needs and infrastructure requirements."}),"\n",(0,o.jsx)(n.h2,{id:"overview-of-deployment-modes",children:"Overview of Deployment Modes"}),"\n",(0,o.jsx)(n.h3,{id:"local-mode",children:"Local Mode"}),"\n",(0,o.jsx)(n.p,{children:"Full governance stack runs locally within the application instance. This mode provides complete autonomy and is ideal for development, testing, or scenarios requiring offline operation."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"All governance operations performed locally"}),"\n",(0,o.jsx)(n.li,{children:"No external dependencies for governance"}),"\n",(0,o.jsx)(n.li,{children:"Complete data sovereignty"}),"\n",(0,o.jsx)(n.li,{children:"Suitable for single-node deployments"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"hybrid-mode",children:"Hybrid Mode"}),"\n",(0,o.jsx)(n.p,{children:"Combines local governance engine with remote synchronization capabilities. Local operations provide low-latency access while maintaining consistency with a central governance authority."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Local governance engine for fast operations"}),"\n",(0,o.jsx)(n.li,{children:"Synchronization with remote Permit.io instance"}),"\n",(0,o.jsx)(n.li,{children:"Graceful degradation when remote unavailable"}),"\n",(0,o.jsx)(n.li,{children:"Cache with configurable TTL (default: 5 minutes)"}),"\n",(0,o.jsx)(n.li,{children:"Pending change queue for eventual consistency"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"remote-mode",children:"Remote Mode"}),"\n",(0,o.jsx)(n.p,{children:"Thin client architecture where all governance operations are delegated to a remote governance service. This mode minimizes local resource requirements and centralizes governance logic."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"All governance operations via remote API"}),"\n",(0,o.jsx)(n.li,{children:"Minimal local resource footprint"}),"\n",(0,o.jsx)(n.li,{children:"Centralized policy management"}),"\n",(0,o.jsx)(n.li,{children:"Depends on remote service availability"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.h3,{id:"system-requirements",children:"System Requirements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rust"}),": 1.70+ with Edition 2024"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"PostgreSQL"}),": 16+ with pgvector extension"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Redis"}),": 7+ for caching and pub/sub"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Qdrant"}),": 1.12+ for vector storage"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Docker"}),": 20.10+ (for containerized deployment)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"network-requirements",children:"Network Requirements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Outbound HTTPS connectivity (for Hybrid/Remote modes)"}),"\n",(0,o.jsx)(n.li,{children:"Internal network connectivity between components"}),"\n",(0,o.jsx)(n.li,{children:"Load balancer (recommended for production Hybrid deployments)"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"security-requirements",children:"Security Requirements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"API keys for remote governance services"}),"\n",(0,o.jsx)(n.li,{children:"TLS certificates for inter-service communication"}),"\n",(0,o.jsx)(n.li,{children:"Network segmentation for isolation (optional)"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsx)(n.p,{children:"The system supports automatic configuration detection through environment variables:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Deployment mode\nexport AETERNA_DEPLOYMENT_MODE=local|hybrid|remote\n\n# Remote governance service URL (required for hybrid/remote)\nexport AETERNA_REMOTE_GOVERNANCE_URL=https://governance.example.com\n\n# Force thin client mode (implies remote mode)\nexport AETERNA_THIN_CLIENT=true\n\n# Enable/disable synchronization (hybrid mode only)\nexport AETERNA_SYNC_ENABLED=true\n"})}),"\n",(0,o.jsx)(n.h3,{id:"configuration-file-structure",children:"Configuration File Structure"}),"\n",(0,o.jsxs)(n.p,{children:["All modes support TOML configuration files. Create ",(0,o.jsx)(n.code,{children:"config.toml"})," in your application directory or specify via ",(0,o.jsx)(n.code,{children:"AETERNA_CONFIG_FILE"})," environment variable."]}),"\n",(0,o.jsx)(n.h2,{id:"local-mode-deployment",children:"Local Mode Deployment"}),"\n",(0,o.jsx)(n.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[deployment]\nmode = "local"\nsync_enabled = true  # Always enabled in local mode\n\n[providers.postgres]\nhost = "localhost"\nport = 5432\ndatabase = "memory_knowledge"\nusername = "postgres"\npassword = "${POSTGRES_PASSWORD}"\npool_size = 10\ntimeout_seconds = 30\n\n[providers.qdrant]\nhost = "localhost"\nport = 6333\ncollection = "memory_embeddings"\ntimeout_seconds = 30\n\n[providers.redis]\nhost = "localhost"\nport = 6379\ndb = 0\npool_size = 10\ntimeout_seconds = 30\n\n[sync]\nenabled = true\nsync_interval_seconds = 60\nbatch_size = 100\ncheckpoint_enabled = true\nconflict_resolution = "prefer_knowledge"\n\n[memory]\npromotion_threshold = 0.8\n\n[tools]\nenabled = true\nhost = "localhost"\nport = 8080\nrate_limit_requests_per_minute = 60\n\n[observability]\nmetrics_enabled = true\ntracing_enabled = true\nlogging_level = "info"\nmetrics_port = 9090\n'})}),"\n",(0,o.jsx)(n.h3,{id:"docker-compose-for-local-development",children:"Docker Compose for Local Development"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\n\nservices:\n  aeterna-local:\n    build: .\n    ports:\n      - "8080:8080"\n      - "9090:9090"\n    environment:\n      - AETERNA_DEPLOYMENT_MODE=local\n      - POSTGRES_PASSWORD=postgres\n      - REDIS_URL=redis://redis:6379\n      - QDRANT_URL=http://qdrant:6333\n    depends_on:\n      - postgres\n      - qdrant\n      - redis\n    volumes:\n      - ./config.toml:/app/config.toml\n\n  postgres:\n    image: pgvector/pgvector:pg16\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n      POSTGRES_DB: memory_knowledge\n    ports:\n      - "5432:5432"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U postgres"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  qdrant:\n    image: qdrant/qdrant:v1.12.0\n    ports:\n      - "6333:6333"\n    volumes:\n      - qdrant_data:/qdrant/storage\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:6333/health"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  redis:\n    image: redis:7-alpine\n    ports:\n      - "6379:6379"\n    volumes:\n      - redis_data:/data\n    healthcheck:\n      test: ["CMD", "redis-cli", "ping"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  postgres_data:\n  qdrant_data:\n  redis_data:\n'})}),"\n",(0,o.jsx)(n.h3,{id:"building-and-running",children:"Building and Running"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Build with local governance features\ncargo build --release --features governance-local\n\n# Run with environment variables\nexport AETERNA_DEPLOYMENT_MODE=local\nexport POSTGRES_PASSWORD=your_password\n./target/release/aeterna\n\n# Or with Docker Compose\ndocker-compose -f docker-compose.local.yml up -d\n"})}),"\n",(0,o.jsx)(n.h3,{id:"feature-flags",children:"Feature Flags"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'# Cargo.toml\n[dependencies]\nknowledge = { path = "./knowledge", features = ["local"] }\n'})}),"\n",(0,o.jsx)(n.h2,{id:"hybrid-mode-deployment",children:"Hybrid Mode Deployment"}),"\n",(0,o.jsx)(n.h3,{id:"configuration-2",children:"Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[deployment]\nmode = "hybrid"\nremote_url = "https://governance.yourcompany.com"\nsync_enabled = true\n\n[deployment.hybrid]\ncache_ttl_seconds = 300  # 5 minutes default\nsync_interval_seconds = 60\nmax_pending_changes = 1000\nretry_attempts = 3\nretry_backoff_seconds = 5\n\n# Remote service authentication\n[deployment.remote]\napi_key = "${GOVERNANCE_API_KEY}"\ntimeout_seconds = 30\nconnection_pool_size = 10\n\n# Fallback configuration when remote unavailable\n[deployment.fallback]\ngrace_period_seconds = 300\nmax_stale_data_seconds = 3600\nenable_local_validation = true\n\n# Include all provider configurations from local mode\n[providers.postgres]\n# ... same as local mode\n\n[providers.qdrant]\n# ... same as local mode\n\n[providers.redis]\n# ... same as local mode\n'})}),"\n",(0,o.jsx)(n.h3,{id:"docker-compose-for-hybrid-deployment",children:"Docker Compose for Hybrid Deployment"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\n\nservices:\n  aeterna-hybrid:\n    build: .\n    ports:\n      - "8080:8080"\n      - "9090:9090"\n    environment:\n      - AETERNA_DEPLOYMENT_MODE=hybrid\n      - AETERNA_REMOTE_GOVERNANCE_URL=https://governance.yourcompany.com\n      - GOVERNANCE_API_KEY=${GOVERNANCE_API_KEY}\n      - POSTGRES_PASSWORD=postgres\n      - REDIS_URL=redis://redis:6379\n      - QDRANT_URL=http://qdrant:6333\n    depends_on:\n      - postgres\n      - qdrant\n      - redis\n    volumes:\n      - ./config.toml:/app/config.toml\n    restart: unless-stopped\n\n  # Load balancer for multiple hybrid instances\n  nginx:\n    image: nginx:alpine\n    ports:\n      - "80:80"\n      - "443:443"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n      - ./ssl:/etc/nginx/ssl\n    depends_on:\n      - aeterna-hybrid\n    restart: unless-stopped\n\n  postgres:\n    image: pgvector/pgvector:pg16\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n      POSTGRES_DB: memory_knowledge\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n\n  qdrant:\n    image: qdrant/qdrant:v1.12.0\n    volumes:\n      - qdrant_data:/qdrant/storage\n    restart: unless-stopped\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  qdrant_data:\n  redis_data:\n'})}),"\n",(0,o.jsx)(n.h3,{id:"building-and-running-1",children:"Building and Running"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Build with hybrid governance features\ncargo build --release --features governance-hybrid\n\n# Run with environment variables\nexport AETERNA_DEPLOYMENT_MODE=hybrid\nexport AETERNA_REMOTE_GOVERNANCE_URL=https://governance.yourcompany.com\nexport GOVERNANCE_API_KEY=your_api_key\nexport POSTGRES_PASSWORD=your_password\n./target/release/aeterna\n\n# Or with Docker Compose\ndocker-compose -f docker-compose.hybrid.yml up -d\n"})}),"\n",(0,o.jsx)(n.h3,{id:"feature-flags-1",children:"Feature Flags"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'# Cargo.toml\n[dependencies]\nknowledge = { path = "./knowledge", features = ["hybrid"] }\n'})}),"\n",(0,o.jsx)(n.h2,{id:"remote-mode-deployment",children:"Remote Mode Deployment"}),"\n",(0,o.jsx)(n.h3,{id:"configuration-3",children:"Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[deployment]\nmode = "remote"\nremote_url = "https://governance.yourcompany.com"\nsync_enabled = false  # Disabled in remote mode\n\n[deployment.remote]\napi_key = "${GOVERNANCE_API_KEY}"\ntimeout_seconds = 30\nconnection_pool_size = 10\nhealth_check_interval_seconds = 60\nmax_retry_attempts = 3\nretry_backoff_seconds = 5\n\n# Minimal local configuration (only for non-governance features)\n[providers]\n# Only include if using local storage for non-governance data\n\n[observability]\nmetrics_enabled = true\ntracing_enabled = true\nlogging_level = "info"\nmetrics_port = 9090\n'})}),"\n",(0,o.jsx)(n.h3,{id:"docker-compose-for-remote-deployment",children:"Docker Compose for Remote Deployment"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"version: '3.8'\n\nservices:\n  aeterna-remote:\n    build: .\n    ports:\n      - \"8080:8080\"\n      - \"9090:9090\"\n    environment:\n      - AETERNA_DEPLOYMENT_MODE=remote\n      - AETERNA_REMOTE_GOVERNANCE_URL=https://governance.yourcompany.com\n      - GOVERNANCE_API_KEY=${GOVERNANCE_API_KEY}\n    volumes:\n      - ./config.toml:/app/config.toml\n    restart: unless-stopped\n    resources:\n      limits:\n        memory: 512M\n        cpus: '0.5'\n      reservations:\n        memory: 256M\n        cpus: '0.25'\n\n  # Optional: Local storage for non-governance data\n  postgres:\n    image: pgvector/pgvector:pg16\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n      POSTGRES_DB: memory_knowledge\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n"})}),"\n",(0,o.jsx)(n.h3,{id:"building-and-running-2",children:"Building and Running"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Build with remote governance features\ncargo build --release --features governance-remote\n\n# Run with environment variables\nexport AETERNA_DEPLOYMENT_MODE=remote\nexport AETERNA_REMOTE_GOVERNANCE_URL=https://governance.yourcompany.com\nexport GOVERNANCE_API_KEY=your_api_key\n./target/release/aeterna\n\n# Or with Docker Compose\ndocker-compose -f docker-compose.remote.yml up -d\n"})}),"\n",(0,o.jsx)(n.h3,{id:"feature-flags-2",children:"Feature Flags"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'# Cargo.toml\n[dependencies]\nknowledge = { path = "./knowledge", features = ["remote"] }\n'})}),"\n",(0,o.jsx)(n.h2,{id:"infrastructure-requirements",children:"Infrastructure Requirements"}),"\n",(0,o.jsx)(n.h3,{id:"scaling-considerations",children:"Scaling Considerations"}),"\n",(0,o.jsx)(n.h4,{id:"local-mode-scaling",children:"Local Mode Scaling"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Horizontal Scaling"}),": Not supported (each instance independent)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Vertical Scaling"}),": Increase CPU, memory, and storage"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Storage"}),": Local PostgreSQL and Qdrant instances"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Network"}),": Local network only"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"hybrid-mode-scaling",children:"Hybrid Mode Scaling"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Horizontal Scaling"}),": Supported with shared remote governance"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Load Balancing"}),": Required for multiple instances"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Caching"}),": Redis for local cache consistency"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Storage"}),": Shared storage backend for persistence"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"remote-mode-scaling",children:"Remote Mode Scaling"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Horizontal Scaling"}),": Fully supported"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Resource Requirements"}),": Minimal per instance"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dependency"}),": Remote governance service scalability"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Network"}),": Reliable connection to remote service"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"resource-planning",children:"Resource Planning"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Component"}),(0,o.jsx)(n.th,{children:"Local Mode"}),(0,o.jsx)(n.th,{children:"Hybrid Mode"}),(0,o.jsx)(n.th,{children:"Remote Mode"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"CPU"}),(0,o.jsx)(n.td,{children:"2-4 cores"}),(0,o.jsx)(n.td,{children:"2-4 cores"}),(0,o.jsx)(n.td,{children:"1-2 cores"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Memory"}),(0,o.jsx)(n.td,{children:"4-8 GB"}),(0,o.jsx)(n.td,{children:"4-8 GB"}),(0,o.jsx)(n.td,{children:"1-2 GB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Storage"}),(0,o.jsx)(n.td,{children:"50-100 GB"}),(0,o.jsx)(n.td,{children:"50-100 GB"}),(0,o.jsx)(n.td,{children:"10-20 GB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Network"}),(0,o.jsx)(n.td,{children:"Local"}),(0,o.jsx)(n.td,{children:"Local + Internet"}),(0,o.jsx)(n.td,{children:"Internet"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"high-availability",children:"High Availability"}),"\n",(0,o.jsx)(n.h4,{id:"local-mode-ha",children:"Local Mode HA"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"PostgreSQL replication"}),"\n",(0,o.jsx)(n.li,{children:"Qdrant clustering"}),"\n",(0,o.jsx)(n.li,{children:"Redis clustering"}),"\n",(0,o.jsx)(n.li,{children:"Application-level failover"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"hybrid-mode-ha",children:"Hybrid Mode HA"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Remote governance service HA"}),"\n",(0,o.jsx)(n.li,{children:"Local cache replication"}),"\n",(0,o.jsx)(n.li,{children:"Graceful degradation strategy"}),"\n",(0,o.jsx)(n.li,{children:"Health check automation"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"remote-mode-ha",children:"Remote Mode HA"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Remote governance service HA"}),"\n",(0,o.jsx)(n.li,{children:"Application auto-scaling"}),"\n",(0,o.jsx)(n.li,{children:"Connection retry logic"}),"\n",(0,o.jsx)(n.li,{children:"Circuit breaker pattern"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"health-checks-and-monitoring",children:"Health Checks and Monitoring"}),"\n",(0,o.jsx)(n.h3,{id:"health-check-endpoints",children:"Health Check Endpoints"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Application health\nGET /health\n\n# Detailed health with subsystems\nGET /health/detailed\n\n# Governance-specific health\nGET /health/governance\n\n# Metrics\nGET /metrics\n"})}),"\n",(0,o.jsx)(n.h3,{id:"health-check-configuration",children:"Health Check Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'# docker-compose.yml\nhealthcheck:\n  test: ["CMD", "curl", "-f", "http://localhost:8080/health"]\n  interval: 30s\n  timeout: 10s\n  retries: 3\n  start_period: 40s\n'})}),"\n",(0,o.jsx)(n.h3,{id:"monitoring-metrics",children:"Monitoring Metrics"}),"\n",(0,o.jsx)(n.h4,{id:"application-metrics",children:"Application Metrics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Request latency and error rates"}),"\n",(0,o.jsx)(n.li,{children:"Governance operation counts"}),"\n",(0,o.jsx)(n.li,{children:"Cache hit/miss ratios (Hybrid mode)"}),"\n",(0,o.jsx)(n.li,{children:"Sync queue lengths (Hybrid mode)"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"infrastructure-metrics",children:"Infrastructure Metrics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"CPU, memory, disk usage"}),"\n",(0,o.jsx)(n.li,{children:"Database connection pools"}),"\n",(0,o.jsx)(n.li,{children:"Network latency to remote services"}),"\n",(0,o.jsx)(n.li,{children:"Queue depths and processing times"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"alerting-thresholds",children:"Alerting Thresholds"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'# Prometheus alerting rules\ngroups:\n  - name: aeterna-governance\n    rules:\n      - alert: GovernanceRemoteDown\n        expr: up{job="aeterna"} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: "Aeterna governance service is down"\n\n      - alert: GovernanceSyncQueueHigh\n        expr: governance_sync_queue_length > 100\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: "Governance sync queue is growing"\n\n      - alert: GovernanceCacheLowHitRate\n        expr: governance_cache_hit_rate < 0.8\n        for: 15m\n        labels:\n          severity: warning\n        annotations:\n          summary: "Governance cache hit rate is low"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"migration-between-modes",children:"Migration Between Modes"}),"\n",(0,o.jsx)(n.h3,{id:"local-to-hybrid-migration",children:"Local to Hybrid Migration"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Deploy remote governance service"}),"\n",(0,o.jsx)(n.li,{children:"Update configuration to hybrid mode"}),"\n",(0,o.jsx)(n.li,{children:"Gradually migrate policies and data"}),"\n",(0,o.jsx)(n.li,{children:"Monitor sync process"}),"\n",(0,o.jsx)(n.li,{children:"Update client applications"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"hybrid-to-remote-migration",children:"Hybrid to Remote Migration"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Ensure all data synchronized to remote"}),"\n",(0,o.jsx)(n.li,{children:"Update configuration to remote mode"}),"\n",(0,o.jsx)(n.li,{children:"Remove local governance components"}),"\n",(0,o.jsx)(n.li,{children:"Update deployment scripts"}),"\n",(0,o.jsx)(n.li,{children:"Monitor for connectivity issues"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"mode-switching-procedure",children:"Mode Switching Procedure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# Mode migration script\n\nCURRENT_MODE=$(grep \'mode = \' config.toml | cut -d\'"\' -f2)\nTARGET_MODE=$1\n\necho "Migrating from $CURRENT_MODE to $TARGET_MODE mode"\n\ncase $TARGET_MODE in\n  "local")\n    sed -i \'s/mode = ".*"/mode = "local"/\' config.toml\n    sed -i \'/remote_url/d\' config.toml\n    ;;\n  "hybrid")\n    sed -i \'s/mode = ".*"/mode = "hybrid"/\' config.toml\n    if ! grep -q \'remote_url\' config.toml; then\n      echo \'remote_url = "https://governance.example.com"\' >> config.toml\n    fi\n    ;;\n  "remote")\n    sed -i \'s/mode = ".*"/mode = "remote"/\' config.toml\n    ;;\nesac\n\necho "Migration complete. Please review config.toml and restart the service."\n'})}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,o.jsx)(n.h4,{id:"local-mode-issues",children:"Local Mode Issues"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Problem"}),": Governance validation fails"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Check local policy files and database connectivity"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Command"}),": ",(0,o.jsx)(n.code,{children:"curl http://localhost:8080/health/detailed"})]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"hybrid-mode-issues",children:"Hybrid Mode Issues"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Problem"}),": Sync queue growing"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Check remote connectivity and API key validity"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Command"}),": ",(0,o.jsx)(n.code,{children:'grep "sync_pending_changes" /var/log/aeterna.log'})]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"remote-mode-issues",children:"Remote Mode Issues"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Problem"}),": Connection timeouts"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Verify network connectivity and remote service status"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Command"}),": ",(0,o.jsx)(n.code,{children:'curl -H "Authorization: Bearer $API_KEY" https://governance.example.com/health'})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"debug-commands",children:"Debug Commands"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check deployment mode\ncurl http://localhost:8080/health | jq '.deployment.mode'\n\n# Check sync status (hybrid mode)\ncurl http://localhost:8080/health/governance | jq '.sync_state'\n\n# Check remote connectivity\ncurl -H \"Authorization: Bearer $API_KEY\" \\\n  https://governance.example.com/api/v1/health\n\n# View current configuration\ncurl http://localhost:8080/config | jq '.deployment'\n"})}),"\n",(0,o.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,o.jsx)(n.h3,{id:"api-key-management",children:"API Key Management"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Use environment variables for API keys"}),"\n",(0,o.jsx)(n.li,{children:"Rotate keys regularly"}),"\n",(0,o.jsx)(n.li,{children:"Implement key revocation procedures"}),"\n",(0,o.jsx)(n.li,{children:"Audit key usage"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"network-security",children:"Network Security"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"TLS encryption for all remote communication"}),"\n",(0,o.jsx)(n.li,{children:"Network segmentation for governance services"}),"\n",(0,o.jsx)(n.li,{children:"VPN or private links for hybrid deployments"}),"\n",(0,o.jsx)(n.li,{children:"Firewall rules for service access"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"data-protection",children:"Data Protection"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Encrypt sensitive data at rest"}),"\n",(0,o.jsx)(n.li,{children:"Implement access controls"}),"\n",(0,o.jsx)(n.li,{children:"Regular security audits"}),"\n",(0,o.jsx)(n.li,{children:"Compliance with data protection regulations"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Use configuration templates for different environments"}),"\n",(0,o.jsx)(n.li,{children:"Validate configuration before deployment"}),"\n",(0,o.jsx)(n.li,{children:"Store secrets securely (not in config files)"}),"\n",(0,o.jsx)(n.li,{children:"Version control configuration changes"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"deployment-automation",children:"Deployment Automation"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Infrastructure as Code (Terraform, CloudFormation)"}),"\n",(0,o.jsx)(n.li,{children:"CI/CD pipelines for automated deployments"}),"\n",(0,o.jsx)(n.li,{children:"Blue-green deployments for zero downtime"}),"\n",(0,o.jsx)(n.li,{children:"Automated rollback capabilities"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"operational-excellence",children:"Operational Excellence"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Comprehensive logging and monitoring"}),"\n",(0,o.jsx)(n.li,{children:"Disaster recovery procedures"}),"\n",(0,o.jsx)(n.li,{children:"Regular backup and restore testing"}),"\n",(0,o.jsx)(n.li,{children:"Performance tuning and optimization"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/aeterna/docs/architecture/overview",children:"Architecture Overview"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"../configuration/",children:"Configuration Reference"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"../api/",children:"API Documentation"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"../monitoring/",children:"Monitoring Guide"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"../security/",children:"Security Guidelines"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>s});var r=i(6540);const o={},l=r.createContext(o);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);